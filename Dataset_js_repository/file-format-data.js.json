{
  "type": "File",
  "start": 0,
  "end": 5810,
  "loc": {
    "start": {
      "line": 1,
      "column": 0,
      "index": 0
    },
    "end": {
      "line": 137,
      "column": 0,
      "index": 5810
    }
  },
  "range": [
    0,
    5810
  ],
  "errors": [],
  "program": {
    "type": "Program",
    "start": 0,
    "end": 5810,
    "loc": {
      "start": {
        "line": 1,
        "column": 0,
        "index": 0
      },
      "end": {
        "line": 137,
        "column": 0,
        "index": 5810
      }
    },
    "range": [
      0,
      5810
    ],
    "sourceType": "module",
    "interpreter": null,
    "body": [
      {
        "type": "VariableDeclaration",
        "start": 153,
        "end": 176,
        "loc": {
          "start": {
            "line": 7,
            "column": 0,
            "index": 153
          },
          "end": {
            "line": 7,
            "column": 23,
            "index": 176
          }
        },
        "range": [
          153,
          176
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 157,
            "end": 175,
            "loc": {
              "start": {
                "line": 7,
                "column": 4,
                "index": 157
              },
              "end": {
                "line": 7,
                "column": 22,
                "index": 175
              }
            },
            "range": [
              157,
              175
            ],
            "id": {
              "type": "Identifier",
              "start": 157,
              "end": 170,
              "loc": {
                "start": {
                  "line": 7,
                  "column": 4,
                  "index": 157
                },
                "end": {
                  "line": 7,
                  "column": 17,
                  "index": 170
                },
                "identifierName": "image_formats"
              },
              "range": [
                157,
                170
              ],
              "name": "image_formats"
            },
            "init": {
              "type": "ArrayExpression",
              "start": 173,
              "end": 175,
              "loc": {
                "start": {
                  "line": 7,
                  "column": 20,
                  "index": 173
                },
                "end": {
                  "line": 7,
                  "column": 22,
                  "index": 175
                }
              },
              "range": [
                173,
                175
              ],
              "elements": []
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentLine",
            "value": " const ext_to_image_formats = {}; // there can be multiple with the same extension, e.g. different bit depth BMP files",
            "start": 177,
            "end": 297,
            "loc": {
              "start": {
                "line": 8,
                "column": 0,
                "index": 177
              },
              "end": {
                "line": 8,
                "column": 120,
                "index": 297
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " const mime_type_to_image_formats = {};",
            "start": 298,
            "end": 339,
            "loc": {
              "start": {
                "line": 9,
                "column": 0,
                "index": 298
              },
              "end": {
                "line": 9,
                "column": 41,
                "index": 339
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": "*\n * @param {string} mime_type\n * @param {string} name_and_exts\n * @param {ImageFileFormat[]} [target_array]\n ",
            "start": 340,
            "end": 454,
            "loc": {
              "start": {
                "line": 10,
                "column": 0,
                "index": 340
              },
              "end": {
                "line": 14,
                "column": 3,
                "index": 454
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentLine",
            "value": " @ts-check",
            "start": 0,
            "end": 12,
            "loc": {
              "start": {
                "line": 1,
                "column": 0,
                "index": 0
              },
              "end": {
                "line": 1,
                "column": 12,
                "index": 12
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": " global get_direction, localize ",
            "start": 13,
            "end": 49,
            "loc": {
              "start": {
                "line": 2,
                "column": 0,
                "index": 13
              },
              "end": {
                "line": 2,
                "column": 36,
                "index": 49
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " import { get_direction, localize } from \"./app-localization.js\";",
            "start": 51,
            "end": 118,
            "loc": {
              "start": {
                "line": 4,
                "column": 0,
                "index": 51
              },
              "end": {
                "line": 4,
                "column": 67,
                "index": 118
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": "* @type {ImageFileFormat[]} ",
            "start": 120,
            "end": 152,
            "loc": {
              "start": {
                "line": 6,
                "column": 0,
                "index": 120
              },
              "end": {
                "line": 6,
                "column": 32,
                "index": 152
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 455,
        "end": 1557,
        "loc": {
          "start": {
            "line": 15,
            "column": 0,
            "index": 455
          },
          "end": {
            "line": 43,
            "column": 2,
            "index": 1557
          }
        },
        "range": [
          455,
          1557
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 461,
            "end": 1556,
            "loc": {
              "start": {
                "line": 15,
                "column": 6,
                "index": 461
              },
              "end": {
                "line": 43,
                "column": 1,
                "index": 1556
              }
            },
            "range": [
              461,
              1556
            ],
            "id": {
              "type": "Identifier",
              "start": 461,
              "end": 477,
              "loc": {
                "start": {
                  "line": 15,
                  "column": 6,
                  "index": 461
                },
                "end": {
                  "line": 15,
                  "column": 22,
                  "index": 477
                },
                "identifierName": "add_image_format"
              },
              "range": [
                461,
                477
              ],
              "name": "add_image_format"
            },
            "init": {
              "type": "ArrowFunctionExpression",
              "start": 480,
              "end": 1556,
              "loc": {
                "start": {
                  "line": 15,
                  "column": 25,
                  "index": 480
                },
                "end": {
                  "line": 43,
                  "column": 1,
                  "index": 1556
                }
              },
              "range": [
                480,
                1556
              ],
              "id": null,
              "generator": false,
              "async": false,
              "params": [
                {
                  "type": "Identifier",
                  "start": 481,
                  "end": 490,
                  "loc": {
                    "start": {
                      "line": 15,
                      "column": 26,
                      "index": 481
                    },
                    "end": {
                      "line": 15,
                      "column": 35,
                      "index": 490
                    },
                    "identifierName": "mime_type"
                  },
                  "range": [
                    481,
                    490
                  ],
                  "name": "mime_type"
                },
                {
                  "type": "Identifier",
                  "start": 492,
                  "end": 505,
                  "loc": {
                    "start": {
                      "line": 15,
                      "column": 37,
                      "index": 492
                    },
                    "end": {
                      "line": 15,
                      "column": 50,
                      "index": 505
                    },
                    "identifierName": "name_and_exts"
                  },
                  "range": [
                    492,
                    505
                  ],
                  "name": "name_and_exts"
                },
                {
                  "type": "AssignmentPattern",
                  "start": 507,
                  "end": 535,
                  "loc": {
                    "start": {
                      "line": 15,
                      "column": 52,
                      "index": 507
                    },
                    "end": {
                      "line": 15,
                      "column": 80,
                      "index": 535
                    }
                  },
                  "range": [
                    507,
                    535
                  ],
                  "left": {
                    "type": "Identifier",
                    "start": 507,
                    "end": 519,
                    "loc": {
                      "start": {
                        "line": 15,
                        "column": 52,
                        "index": 507
                      },
                      "end": {
                        "line": 15,
                        "column": 64,
                        "index": 519
                      },
                      "identifierName": "target_array"
                    },
                    "range": [
                      507,
                      519
                    ],
                    "name": "target_array"
                  },
                  "right": {
                    "type": "Identifier",
                    "start": 522,
                    "end": 535,
                    "loc": {
                      "start": {
                        "line": 15,
                        "column": 67,
                        "index": 522
                      },
                      "end": {
                        "line": 15,
                        "column": 80,
                        "index": 535
                      },
                      "identifierName": "image_formats"
                    },
                    "range": [
                      522,
                      535
                    ],
                    "name": "image_formats"
                  }
                }
              ],
              "body": {
                "type": "BlockStatement",
                "start": 540,
                "end": 1556,
                "loc": {
                  "start": {
                    "line": 15,
                    "column": 85,
                    "index": 540
                  },
                  "end": {
                    "line": 43,
                    "column": 1,
                    "index": 1556
                  }
                },
                "range": [
                  540,
                  1556
                ],
                "body": [
                  {
                    "type": "VariableDeclaration",
                    "start": 686,
                    "end": 877,
                    "loc": {
                      "start": {
                        "line": 18,
                        "column": 1,
                        "index": 686
                      },
                      "end": {
                        "line": 24,
                        "column": 3,
                        "index": 877
                      }
                    },
                    "range": [
                      686,
                      877
                    ],
                    "declarations": [
                      {
                        "type": "VariableDeclarator",
                        "start": 692,
                        "end": 876,
                        "loc": {
                          "start": {
                            "line": 18,
                            "column": 7,
                            "index": 692
                          },
                          "end": {
                            "line": 24,
                            "column": 2,
                            "index": 876
                          }
                        },
                        "range": [
                          692,
                          876
                        ],
                        "id": {
                          "type": "Identifier",
                          "start": 692,
                          "end": 698,
                          "loc": {
                            "start": {
                              "line": 18,
                              "column": 7,
                              "index": 692
                            },
                            "end": {
                              "line": 18,
                              "column": 13,
                              "index": 698
                            },
                            "identifierName": "format"
                          },
                          "range": [
                            692,
                            698
                          ],
                          "name": "format"
                        },
                        "init": {
                          "type": "ObjectExpression",
                          "start": 701,
                          "end": 876,
                          "loc": {
                            "start": {
                              "line": 18,
                              "column": 16,
                              "index": 701
                            },
                            "end": {
                              "line": 24,
                              "column": 2,
                              "index": 876
                            }
                          },
                          "range": [
                            701,
                            876
                          ],
                          "properties": [
                            {
                              "type": "ObjectProperty",
                              "start": 705,
                              "end": 724,
                              "loc": {
                                "start": {
                                  "line": 19,
                                  "column": 2,
                                  "index": 705
                                },
                                "end": {
                                  "line": 19,
                                  "column": 21,
                                  "index": 724
                                }
                              },
                              "range": [
                                705,
                                724
                              ],
                              "method": false,
                              "key": {
                                "type": "Identifier",
                                "start": 705,
                                "end": 713,
                                "loc": {
                                  "start": {
                                    "line": 19,
                                    "column": 2,
                                    "index": 705
                                  },
                                  "end": {
                                    "line": 19,
                                    "column": 10,
                                    "index": 713
                                  },
                                  "identifierName": "formatID"
                                },
                                "range": [
                                  705,
                                  713
                                ],
                                "name": "formatID"
                              },
                              "computed": false,
                              "shorthand": false,
                              "value": {
                                "type": "Identifier",
                                "start": 715,
                                "end": 724,
                                "loc": {
                                  "start": {
                                    "line": 19,
                                    "column": 12,
                                    "index": 715
                                  },
                                  "end": {
                                    "line": 19,
                                    "column": 21,
                                    "index": 724
                                  },
                                  "identifierName": "mime_type"
                                },
                                "range": [
                                  715,
                                  724
                                ],
                                "name": "mime_type"
                              }
                            },
                            {
                              "type": "ObjectProperty",
                              "start": 728,
                              "end": 747,
                              "loc": {
                                "start": {
                                  "line": 20,
                                  "column": 2,
                                  "index": 728
                                },
                                "end": {
                                  "line": 20,
                                  "column": 21,
                                  "index": 747
                                }
                              },
                              "range": [
                                728,
                                747
                              ],
                              "method": false,
                              "key": {
                                "type": "Identifier",
                                "start": 728,
                                "end": 736,
                                "loc": {
                                  "start": {
                                    "line": 20,
                                    "column": 2,
                                    "index": 728
                                  },
                                  "end": {
                                    "line": 20,
                                    "column": 10,
                                    "index": 736
                                  },
                                  "identifierName": "mimeType"
                                },
                                "range": [
                                  728,
                                  736
                                ],
                                "name": "mimeType"
                              },
                              "computed": false,
                              "shorthand": false,
                              "value": {
                                "type": "Identifier",
                                "start": 738,
                                "end": 747,
                                "loc": {
                                  "start": {
                                    "line": 20,
                                    "column": 12,
                                    "index": 738
                                  },
                                  "end": {
                                    "line": 20,
                                    "column": 21,
                                    "index": 747
                                  },
                                  "identifierName": "mime_type"
                                },
                                "range": [
                                  738,
                                  747
                                ],
                                "name": "mime_type"
                              }
                            },
                            {
                              "type": "ObjectProperty",
                              "start": 751,
                              "end": 807,
                              "loc": {
                                "start": {
                                  "line": 21,
                                  "column": 2,
                                  "index": 751
                                },
                                "end": {
                                  "line": 21,
                                  "column": 58,
                                  "index": 807
                                }
                              },
                              "range": [
                                751,
                                807
                              ],
                              "method": false,
                              "key": {
                                "type": "Identifier",
                                "start": 751,
                                "end": 755,
                                "loc": {
                                  "start": {
                                    "line": 21,
                                    "column": 2,
                                    "index": 751
                                  },
                                  "end": {
                                    "line": 21,
                                    "column": 6,
                                    "index": 755
                                  },
                                  "identifierName": "name"
                                },
                                "range": [
                                  751,
                                  755
                                ],
                                "name": "name"
                              },
                              "computed": false,
                              "shorthand": false,
                              "value": {
                                "type": "CallExpression",
                                "start": 757,
                                "end": 807,
                                "loc": {
                                  "start": {
                                    "line": 21,
                                    "column": 8,
                                    "index": 757
                                  },
                                  "end": {
                                    "line": 21,
                                    "column": 58,
                                    "index": 807
                                  }
                                },
                                "range": [
                                  757,
                                  807
                                ],
                                "callee": {
                                  "type": "MemberExpression",
                                  "start": 757,
                                  "end": 788,
                                  "loc": {
                                    "start": {
                                      "line": 21,
                                      "column": 8,
                                      "index": 757
                                    },
                                    "end": {
                                      "line": 21,
                                      "column": 39,
                                      "index": 788
                                    }
                                  },
                                  "range": [
                                    757,
                                    788
                                  ],
                                  "object": {
                                    "type": "CallExpression",
                                    "start": 757,
                                    "end": 780,
                                    "loc": {
                                      "start": {
                                        "line": 21,
                                        "column": 8,
                                        "index": 757
                                      },
                                      "end": {
                                        "line": 21,
                                        "column": 31,
                                        "index": 780
                                      }
                                    },
                                    "range": [
                                      757,
                                      780
                                    ],
                                    "callee": {
                                      "type": "Identifier",
                                      "start": 757,
                                      "end": 765,
                                      "loc": {
                                        "start": {
                                          "line": 21,
                                          "column": 8,
                                          "index": 757
                                        },
                                        "end": {
                                          "line": 21,
                                          "column": 16,
                                          "index": 765
                                        },
                                        "identifierName": "localize"
                                      },
                                      "range": [
                                        757,
                                        765
                                      ],
                                      "name": "localize"
                                    },
                                    "arguments": [
                                      {
                                        "type": "Identifier",
                                        "start": 766,
                                        "end": 779,
                                        "loc": {
                                          "start": {
                                            "line": 21,
                                            "column": 17,
                                            "index": 766
                                          },
                                          "end": {
                                            "line": 21,
                                            "column": 30,
                                            "index": 779
                                          },
                                          "identifierName": "name_and_exts"
                                        },
                                        "range": [
                                          766,
                                          779
                                        ],
                                        "name": "name_and_exts"
                                      }
                                    ]
                                  },
                                  "computed": false,
                                  "property": {
                                    "type": "Identifier",
                                    "start": 781,
                                    "end": 788,
                                    "loc": {
                                      "start": {
                                        "line": 21,
                                        "column": 32,
                                        "index": 781
                                      },
                                      "end": {
                                        "line": 21,
                                        "column": 39,
                                        "index": 788
                                      },
                                      "identifierName": "replace"
                                    },
                                    "range": [
                                      781,
                                      788
                                    ],
                                    "name": "replace"
                                  }
                                },
                                "arguments": [
                                  {
                                    "type": "RegExpLiteral",
                                    "start": 789,
                                    "end": 802,
                                    "loc": {
                                      "start": {
                                        "line": 21,
                                        "column": 40,
                                        "index": 789
                                      },
                                      "end": {
                                        "line": 21,
                                        "column": 53,
                                        "index": 802
                                      }
                                    },
                                    "range": [
                                      789,
                                      802
                                    ],
                                    "extra": {
                                      "raw": "/\\s+\\([^(]+$/"
                                    },
                                    "pattern": "\\s+\\([^(]+$",
                                    "flags": ""
                                  },
                                  {
                                    "type": "StringLiteral",
                                    "start": 804,
                                    "end": 806,
                                    "loc": {
                                      "start": {
                                        "line": 21,
                                        "column": 55,
                                        "index": 804
                                      },
                                      "end": {
                                        "line": 21,
                                        "column": 57,
                                        "index": 806
                                      }
                                    },
                                    "range": [
                                      804,
                                      806
                                    ],
                                    "extra": {
                                      "rawValue": "",
                                      "raw": "\"\""
                                    },
                                    "value": ""
                                  }
                                ]
                              }
                            },
                            {
                              "type": "ObjectProperty",
                              "start": 811,
                              "end": 854,
                              "loc": {
                                "start": {
                                  "line": 22,
                                  "column": 2,
                                  "index": 811
                                },
                                "end": {
                                  "line": 22,
                                  "column": 45,
                                  "index": 854
                                }
                              },
                              "range": [
                                811,
                                854
                              ],
                              "method": false,
                              "key": {
                                "type": "Identifier",
                                "start": 811,
                                "end": 829,
                                "loc": {
                                  "start": {
                                    "line": 22,
                                    "column": 2,
                                    "index": 811
                                  },
                                  "end": {
                                    "line": 22,
                                    "column": 20,
                                    "index": 829
                                  },
                                  "identifierName": "nameWithExtensions"
                                },
                                "range": [
                                  811,
                                  829
                                ],
                                "name": "nameWithExtensions"
                              },
                              "computed": false,
                              "shorthand": false,
                              "value": {
                                "type": "CallExpression",
                                "start": 831,
                                "end": 854,
                                "loc": {
                                  "start": {
                                    "line": 22,
                                    "column": 22,
                                    "index": 831
                                  },
                                  "end": {
                                    "line": 22,
                                    "column": 45,
                                    "index": 854
                                  }
                                },
                                "range": [
                                  831,
                                  854
                                ],
                                "callee": {
                                  "type": "Identifier",
                                  "start": 831,
                                  "end": 839,
                                  "loc": {
                                    "start": {
                                      "line": 22,
                                      "column": 22,
                                      "index": 831
                                    },
                                    "end": {
                                      "line": 22,
                                      "column": 30,
                                      "index": 839
                                    },
                                    "identifierName": "localize"
                                  },
                                  "range": [
                                    831,
                                    839
                                  ],
                                  "name": "localize"
                                },
                                "arguments": [
                                  {
                                    "type": "Identifier",
                                    "start": 840,
                                    "end": 853,
                                    "loc": {
                                      "start": {
                                        "line": 22,
                                        "column": 31,
                                        "index": 840
                                      },
                                      "end": {
                                        "line": 22,
                                        "column": 44,
                                        "index": 853
                                      },
                                      "identifierName": "name_and_exts"
                                    },
                                    "range": [
                                      840,
                                      853
                                    ],
                                    "name": "name_and_exts"
                                  }
                                ]
                              }
                            },
                            {
                              "type": "ObjectProperty",
                              "start": 858,
                              "end": 872,
                              "loc": {
                                "start": {
                                  "line": 23,
                                  "column": 2,
                                  "index": 858
                                },
                                "end": {
                                  "line": 23,
                                  "column": 16,
                                  "index": 872
                                }
                              },
                              "range": [
                                858,
                                872
                              ],
                              "method": false,
                              "key": {
                                "type": "Identifier",
                                "start": 858,
                                "end": 868,
                                "loc": {
                                  "start": {
                                    "line": 23,
                                    "column": 2,
                                    "index": 858
                                  },
                                  "end": {
                                    "line": 23,
                                    "column": 12,
                                    "index": 868
                                  },
                                  "identifierName": "extensions"
                                },
                                "range": [
                                  858,
                                  868
                                ],
                                "name": "extensions"
                              },
                              "computed": false,
                              "shorthand": false,
                              "value": {
                                "type": "ArrayExpression",
                                "start": 870,
                                "end": 872,
                                "loc": {
                                  "start": {
                                    "line": 23,
                                    "column": 14,
                                    "index": 870
                                  },
                                  "end": {
                                    "line": 23,
                                    "column": 16,
                                    "index": 872
                                  }
                                },
                                "range": [
                                  870,
                                  872
                                ],
                                "elements": []
                              }
                            }
                          ],
                          "extra": {
                            "trailingComma": 872
                          }
                        }
                      }
                    ],
                    "kind": "const",
                    "leadingComments": [
                      {
                        "type": "CommentLine",
                        "value": " Note: some localizations have commas instead of semicolons to separate file extensions",
                        "start": 543,
                        "end": 632,
                        "loc": {
                          "start": {
                            "line": 16,
                            "column": 1,
                            "index": 543
                          },
                          "end": {
                            "line": 16,
                            "column": 90,
                            "index": 632
                          }
                        }
                      },
                      {
                        "type": "CommentLine",
                        "value": " Assumption: file extensions are never localized",
                        "start": 634,
                        "end": 684,
                        "loc": {
                          "start": {
                            "line": 17,
                            "column": 1,
                            "index": 634
                          },
                          "end": {
                            "line": 17,
                            "column": 51,
                            "index": 684
                          }
                        }
                      }
                    ]
                  },
                  {
                    "type": "VariableDeclaration",
                    "start": 879,
                    "end": 915,
                    "loc": {
                      "start": {
                        "line": 25,
                        "column": 1,
                        "index": 879
                      },
                      "end": {
                        "line": 25,
                        "column": 37,
                        "index": 915
                      }
                    },
                    "range": [
                      879,
                      915
                    ],
                    "declarations": [
                      {
                        "type": "VariableDeclarator",
                        "start": 885,
                        "end": 914,
                        "loc": {
                          "start": {
                            "line": 25,
                            "column": 7,
                            "index": 885
                          },
                          "end": {
                            "line": 25,
                            "column": 36,
                            "index": 914
                          }
                        },
                        "range": [
                          885,
                          914
                        ],
                        "id": {
                          "type": "Identifier",
                          "start": 885,
                          "end": 895,
                          "loc": {
                            "start": {
                              "line": 25,
                              "column": 7,
                              "index": 885
                            },
                            "end": {
                              "line": 25,
                              "column": 17,
                              "index": 895
                            },
                            "identifierName": "ext_regexp"
                          },
                          "range": [
                            885,
                            895
                          ],
                          "name": "ext_regexp"
                        },
                        "init": {
                          "type": "RegExpLiteral",
                          "start": 898,
                          "end": 914,
                          "loc": {
                            "start": {
                              "line": 25,
                              "column": 20,
                              "index": 898
                            },
                            "end": {
                              "line": 25,
                              "column": 36,
                              "index": 914
                            }
                          },
                          "range": [
                            898,
                            914
                          ],
                          "extra": {
                            "raw": "/\\*\\.([^);,]+)/g"
                          },
                          "pattern": "\\*\\.([^);,]+)",
                          "flags": "g"
                        }
                      }
                    ],
                    "kind": "const"
                  },
                  {
                    "type": "IfStatement",
                    "start": 917,
                    "end": 1103,
                    "loc": {
                      "start": {
                        "line": 26,
                        "column": 1,
                        "index": 917
                      },
                      "end": {
                        "line": 30,
                        "column": 2,
                        "index": 1103
                      }
                    },
                    "range": [
                      917,
                      1103
                    ],
                    "test": {
                      "type": "BinaryExpression",
                      "start": 921,
                      "end": 946,
                      "loc": {
                        "start": {
                          "line": 26,
                          "column": 5,
                          "index": 921
                        },
                        "end": {
                          "line": 26,
                          "column": 30,
                          "index": 946
                        }
                      },
                      "range": [
                        921,
                        946
                      ],
                      "left": {
                        "type": "CallExpression",
                        "start": 921,
                        "end": 936,
                        "loc": {
                          "start": {
                            "line": 26,
                            "column": 5,
                            "index": 921
                          },
                          "end": {
                            "line": 26,
                            "column": 20,
                            "index": 936
                          }
                        },
                        "range": [
                          921,
                          936
                        ],
                        "callee": {
                          "type": "Identifier",
                          "start": 921,
                          "end": 934,
                          "loc": {
                            "start": {
                              "line": 26,
                              "column": 5,
                              "index": 921
                            },
                            "end": {
                              "line": 26,
                              "column": 18,
                              "index": 934
                            },
                            "identifierName": "get_direction"
                          },
                          "range": [
                            921,
                            934
                          ],
                          "name": "get_direction"
                        },
                        "arguments": []
                      },
                      "operator": "===",
                      "right": {
                        "type": "StringLiteral",
                        "start": 941,
                        "end": 946,
                        "loc": {
                          "start": {
                            "line": 26,
                            "column": 25,
                            "index": 941
                          },
                          "end": {
                            "line": 26,
                            "column": 30,
                            "index": 946
                          }
                        },
                        "range": [
                          941,
                          946
                        ],
                        "extra": {
                          "rawValue": "rtl",
                          "raw": "\"rtl\""
                        },
                        "value": "rtl"
                      }
                    },
                    "consequent": {
                      "type": "BlockStatement",
                      "start": 948,
                      "end": 1103,
                      "loc": {
                        "start": {
                          "line": 26,
                          "column": 32,
                          "index": 948
                        },
                        "end": {
                          "line": 30,
                          "column": 2,
                          "index": 1103
                        }
                      },
                      "range": [
                        948,
                        1103
                      ],
                      "body": [
                        {
                          "type": "VariableDeclaration",
                          "start": 952,
                          "end": 973,
                          "loc": {
                            "start": {
                              "line": 27,
                              "column": 2,
                              "index": 952
                            },
                            "end": {
                              "line": 27,
                              "column": 23,
                              "index": 973
                            }
                          },
                          "range": [
                            952,
                            973
                          ],
                          "declarations": [
                            {
                              "type": "VariableDeclarator",
                              "start": 958,
                              "end": 972,
                              "loc": {
                                "start": {
                                  "line": 27,
                                  "column": 8,
                                  "index": 958
                                },
                                "end": {
                                  "line": 27,
                                  "column": 22,
                                  "index": 972
                                }
                              },
                              "range": [
                                958,
                                972
                              ],
                              "id": {
                                "type": "Identifier",
                                "start": 958,
                                "end": 961,
                                "loc": {
                                  "start": {
                                    "line": 27,
                                    "column": 8,
                                    "index": 958
                                  },
                                  "end": {
                                    "line": 27,
                                    "column": 11,
                                    "index": 961
                                  },
                                  "identifierName": "rlm"
                                },
                                "range": [
                                  958,
                                  961
                                ],
                                "name": "rlm"
                              },
                              "init": {
                                "type": "StringLiteral",
                                "start": 964,
                                "end": 972,
                                "loc": {
                                  "start": {
                                    "line": 27,
                                    "column": 14,
                                    "index": 964
                                  },
                                  "end": {
                                    "line": 27,
                                    "column": 22,
                                    "index": 972
                                  }
                                },
                                "range": [
                                  964,
                                  972
                                ],
                                "extra": {
                                  "rawValue": "",
                                  "raw": "\"\\u200F\""
                                },
                                "value": ""
                              }
                            }
                          ],
                          "kind": "const"
                        },
                        {
                          "type": "VariableDeclaration",
                          "start": 976,
                          "end": 997,
                          "loc": {
                            "start": {
                              "line": 28,
                              "column": 2,
                              "index": 976
                            },
                            "end": {
                              "line": 28,
                              "column": 23,
                              "index": 997
                            }
                          },
                          "range": [
                            976,
                            997
                          ],
                          "declarations": [
                            {
                              "type": "VariableDeclarator",
                              "start": 982,
                              "end": 996,
                              "loc": {
                                "start": {
                                  "line": 28,
                                  "column": 8,
                                  "index": 982
                                },
                                "end": {
                                  "line": 28,
                                  "column": 22,
                                  "index": 996
                                }
                              },
                              "range": [
                                982,
                                996
                              ],
                              "id": {
                                "type": "Identifier",
                                "start": 982,
                                "end": 985,
                                "loc": {
                                  "start": {
                                    "line": 28,
                                    "column": 8,
                                    "index": 982
                                  },
                                  "end": {
                                    "line": 28,
                                    "column": 11,
                                    "index": 985
                                  },
                                  "identifierName": "lrm"
                                },
                                "range": [
                                  982,
                                  985
                                ],
                                "name": "lrm"
                              },
                              "init": {
                                "type": "StringLiteral",
                                "start": 988,
                                "end": 996,
                                "loc": {
                                  "start": {
                                    "line": 28,
                                    "column": 14,
                                    "index": 988
                                  },
                                  "end": {
                                    "line": 28,
                                    "column": 22,
                                    "index": 996
                                  }
                                },
                                "range": [
                                  988,
                                  996
                                ],
                                "extra": {
                                  "rawValue": "",
                                  "raw": "\"\\u200E\""
                                },
                                "value": ""
                              }
                            }
                          ],
                          "kind": "const"
                        },
                        {
                          "type": "ExpressionStatement",
                          "start": 1000,
                          "end": 1100,
                          "loc": {
                            "start": {
                              "line": 29,
                              "column": 2,
                              "index": 1000
                            },
                            "end": {
                              "line": 29,
                              "column": 102,
                              "index": 1100
                            }
                          },
                          "range": [
                            1000,
                            1100
                          ],
                          "expression": {
                            "type": "AssignmentExpression",
                            "start": 1000,
                            "end": 1099,
                            "loc": {
                              "start": {
                                "line": 29,
                                "column": 2,
                                "index": 1000
                              },
                              "end": {
                                "line": 29,
                                "column": 101,
                                "index": 1099
                              }
                            },
                            "range": [
                              1000,
                              1099
                            ],
                            "operator": "=",
                            "left": {
                              "type": "MemberExpression",
                              "start": 1000,
                              "end": 1025,
                              "loc": {
                                "start": {
                                  "line": 29,
                                  "column": 2,
                                  "index": 1000
                                },
                                "end": {
                                  "line": 29,
                                  "column": 27,
                                  "index": 1025
                                }
                              },
                              "range": [
                                1000,
                                1025
                              ],
                              "object": {
                                "type": "Identifier",
                                "start": 1000,
                                "end": 1006,
                                "loc": {
                                  "start": {
                                    "line": 29,
                                    "column": 2,
                                    "index": 1000
                                  },
                                  "end": {
                                    "line": 29,
                                    "column": 8,
                                    "index": 1006
                                  },
                                  "identifierName": "format"
                                },
                                "range": [
                                  1000,
                                  1006
                                ],
                                "name": "format"
                              },
                              "computed": false,
                              "property": {
                                "type": "Identifier",
                                "start": 1007,
                                "end": 1025,
                                "loc": {
                                  "start": {
                                    "line": 29,
                                    "column": 9,
                                    "index": 1007
                                  },
                                  "end": {
                                    "line": 29,
                                    "column": 27,
                                    "index": 1025
                                  },
                                  "identifierName": "nameWithExtensions"
                                },
                                "range": [
                                  1007,
                                  1025
                                ],
                                "name": "nameWithExtensions"
                              }
                            },
                            "right": {
                              "type": "CallExpression",
                              "start": 1028,
                              "end": 1099,
                              "loc": {
                                "start": {
                                  "line": 29,
                                  "column": 30,
                                  "index": 1028
                                },
                                "end": {
                                  "line": 29,
                                  "column": 101,
                                  "index": 1099
                                }
                              },
                              "range": [
                                1028,
                                1099
                              ],
                              "callee": {
                                "type": "MemberExpression",
                                "start": 1028,
                                "end": 1061,
                                "loc": {
                                  "start": {
                                    "line": 29,
                                    "column": 30,
                                    "index": 1028
                                  },
                                  "end": {
                                    "line": 29,
                                    "column": 63,
                                    "index": 1061
                                  }
                                },
                                "range": [
                                  1028,
                                  1061
                                ],
                                "object": {
                                  "type": "MemberExpression",
                                  "start": 1028,
                                  "end": 1053,
                                  "loc": {
                                    "start": {
                                      "line": 29,
                                      "column": 30,
                                      "index": 1028
                                    },
                                    "end": {
                                      "line": 29,
                                      "column": 55,
                                      "index": 1053
                                    }
                                  },
                                  "range": [
                                    1028,
                                    1053
                                  ],
                                  "object": {
                                    "type": "Identifier",
                                    "start": 1028,
                                    "end": 1034,
                                    "loc": {
                                      "start": {
                                        "line": 29,
                                        "column": 30,
                                        "index": 1028
                                      },
                                      "end": {
                                        "line": 29,
                                        "column": 36,
                                        "index": 1034
                                      },
                                      "identifierName": "format"
                                    },
                                    "range": [
                                      1028,
                                      1034
                                    ],
                                    "name": "format"
                                  },
                                  "computed": false,
                                  "property": {
                                    "type": "Identifier",
                                    "start": 1035,
                                    "end": 1053,
                                    "loc": {
                                      "start": {
                                        "line": 29,
                                        "column": 37,
                                        "index": 1035
                                      },
                                      "end": {
                                        "line": 29,
                                        "column": 55,
                                        "index": 1053
                                      },
                                      "identifierName": "nameWithExtensions"
                                    },
                                    "range": [
                                      1035,
                                      1053
                                    ],
                                    "name": "nameWithExtensions"
                                  }
                                },
                                "computed": false,
                                "property": {
                                  "type": "Identifier",
                                  "start": 1054,
                                  "end": 1061,
                                  "loc": {
                                    "start": {
                                      "line": 29,
                                      "column": 56,
                                      "index": 1054
                                    },
                                    "end": {
                                      "line": 29,
                                      "column": 63,
                                      "index": 1061
                                    },
                                    "identifierName": "replace"
                                  },
                                  "range": [
                                    1054,
                                    1061
                                  ],
                                  "name": "replace"
                                }
                              },
                              "arguments": [
                                {
                                  "type": "Identifier",
                                  "start": 1062,
                                  "end": 1072,
                                  "loc": {
                                    "start": {
                                      "line": 29,
                                      "column": 64,
                                      "index": 1062
                                    },
                                    "end": {
                                      "line": 29,
                                      "column": 74,
                                      "index": 1072
                                    },
                                    "identifierName": "ext_regexp"
                                  },
                                  "range": [
                                    1062,
                                    1072
                                  ],
                                  "name": "ext_regexp"
                                },
                                {
                                  "type": "TemplateLiteral",
                                  "start": 1074,
                                  "end": 1098,
                                  "loc": {
                                    "start": {
                                      "line": 29,
                                      "column": 76,
                                      "index": 1074
                                    },
                                    "end": {
                                      "line": 29,
                                      "column": 100,
                                      "index": 1098
                                    }
                                  },
                                  "range": [
                                    1074,
                                    1098
                                  ],
                                  "expressions": [
                                    {
                                      "type": "Identifier",
                                      "start": 1077,
                                      "end": 1080,
                                      "loc": {
                                        "start": {
                                          "line": 29,
                                          "column": 79,
                                          "index": 1077
                                        },
                                        "end": {
                                          "line": 29,
                                          "column": 82,
                                          "index": 1080
                                        },
                                        "identifierName": "rlm"
                                      },
                                      "range": [
                                        1077,
                                        1080
                                      ],
                                      "name": "rlm"
                                    },
                                    {
                                      "type": "Identifier",
                                      "start": 1085,
                                      "end": 1088,
                                      "loc": {
                                        "start": {
                                          "line": 29,
                                          "column": 87,
                                          "index": 1085
                                        },
                                        "end": {
                                          "line": 29,
                                          "column": 90,
                                          "index": 1088
                                        },
                                        "identifierName": "lrm"
                                      },
                                      "range": [
                                        1085,
                                        1088
                                      ],
                                      "name": "lrm"
                                    },
                                    {
                                      "type": "Identifier",
                                      "start": 1093,
                                      "end": 1096,
                                      "loc": {
                                        "start": {
                                          "line": 29,
                                          "column": 95,
                                          "index": 1093
                                        },
                                        "end": {
                                          "line": 29,
                                          "column": 98,
                                          "index": 1096
                                        },
                                        "identifierName": "rlm"
                                      },
                                      "range": [
                                        1093,
                                        1096
                                      ],
                                      "name": "rlm"
                                    }
                                  ],
                                  "quasis": [
                                    {
                                      "type": "TemplateElement",
                                      "start": 1075,
                                      "end": 1075,
                                      "loc": {
                                        "start": {
                                          "line": 29,
                                          "column": 77,
                                          "index": 1075
                                        },
                                        "end": {
                                          "line": 29,
                                          "column": 77,
                                          "index": 1075
                                        }
                                      },
                                      "range": [
                                        1075,
                                        1075
                                      ],
                                      "value": {
                                        "raw": "",
                                        "cooked": ""
                                      },
                                      "tail": false
                                    },
                                    {
                                      "type": "TemplateElement",
                                      "start": 1081,
                                      "end": 1083,
                                      "loc": {
                                        "start": {
                                          "line": 29,
                                          "column": 83,
                                          "index": 1081
                                        },
                                        "end": {
                                          "line": 29,
                                          "column": 85,
                                          "index": 1083
                                        }
                                      },
                                      "range": [
                                        1081,
                                        1083
                                      ],
                                      "value": {
                                        "raw": "*.",
                                        "cooked": "*."
                                      },
                                      "tail": false
                                    },
                                    {
                                      "type": "TemplateElement",
                                      "start": 1089,
                                      "end": 1091,
                                      "loc": {
                                        "start": {
                                          "line": 29,
                                          "column": 91,
                                          "index": 1089
                                        },
                                        "end": {
                                          "line": 29,
                                          "column": 93,
                                          "index": 1091
                                        }
                                      },
                                      "range": [
                                        1089,
                                        1091
                                      ],
                                      "value": {
                                        "raw": "$1",
                                        "cooked": "$1"
                                      },
                                      "tail": false
                                    },
                                    {
                                      "type": "TemplateElement",
                                      "start": 1097,
                                      "end": 1097,
                                      "loc": {
                                        "start": {
                                          "line": 29,
                                          "column": 99,
                                          "index": 1097
                                        },
                                        "end": {
                                          "line": 29,
                                          "column": 99,
                                          "index": 1097
                                        }
                                      },
                                      "range": [
                                        1097,
                                        1097
                                      ],
                                      "value": {
                                        "raw": "",
                                        "cooked": ""
                                      },
                                      "tail": true
                                    }
                                  ]
                                }
                              ]
                            }
                          }
                        }
                      ],
                      "directives": []
                    },
                    "alternate": null
                  },
                  {
                    "type": "VariableDeclaration",
                    "start": 1105,
                    "end": 1115,
                    "loc": {
                      "start": {
                        "line": 31,
                        "column": 1,
                        "index": 1105
                      },
                      "end": {
                        "line": 31,
                        "column": 11,
                        "index": 1115
                      }
                    },
                    "range": [
                      1105,
                      1115
                    ],
                    "declarations": [
                      {
                        "type": "VariableDeclarator",
                        "start": 1109,
                        "end": 1114,
                        "loc": {
                          "start": {
                            "line": 31,
                            "column": 5,
                            "index": 1109
                          },
                          "end": {
                            "line": 31,
                            "column": 10,
                            "index": 1114
                          }
                        },
                        "range": [
                          1109,
                          1114
                        ],
                        "id": {
                          "type": "Identifier",
                          "start": 1109,
                          "end": 1114,
                          "loc": {
                            "start": {
                              "line": 31,
                              "column": 5,
                              "index": 1109
                            },
                            "end": {
                              "line": 31,
                              "column": 10,
                              "index": 1114
                            },
                            "identifierName": "match"
                          },
                          "range": [
                            1109,
                            1114
                          ],
                          "name": "match"
                        },
                        "init": null
                      }
                    ],
                    "kind": "let",
                    "trailingComments": [
                      {
                        "type": "CommentLine",
                        "value": " eslint-disable-next-line no-cond-assign",
                        "start": 1117,
                        "end": 1159,
                        "loc": {
                          "start": {
                            "line": 32,
                            "column": 1,
                            "index": 1117
                          },
                          "end": {
                            "line": 32,
                            "column": 43,
                            "index": 1159
                          }
                        }
                      }
                    ]
                  },
                  {
                    "type": "WhileStatement",
                    "start": 1161,
                    "end": 1525,
                    "loc": {
                      "start": {
                        "line": 33,
                        "column": 1,
                        "index": 1161
                      },
                      "end": {
                        "line": 40,
                        "column": 2,
                        "index": 1525
                      }
                    },
                    "range": [
                      1161,
                      1525
                    ],
                    "test": {
                      "type": "AssignmentExpression",
                      "start": 1168,
                      "end": 1206,
                      "loc": {
                        "start": {
                          "line": 33,
                          "column": 8,
                          "index": 1168
                        },
                        "end": {
                          "line": 33,
                          "column": 46,
                          "index": 1206
                        }
                      },
                      "range": [
                        1168,
                        1206
                      ],
                      "operator": "=",
                      "left": {
                        "type": "Identifier",
                        "start": 1168,
                        "end": 1173,
                        "loc": {
                          "start": {
                            "line": 33,
                            "column": 8,
                            "index": 1168
                          },
                          "end": {
                            "line": 33,
                            "column": 13,
                            "index": 1173
                          },
                          "identifierName": "match"
                        },
                        "range": [
                          1168,
                          1173
                        ],
                        "name": "match"
                      },
                      "right": {
                        "type": "CallExpression",
                        "start": 1176,
                        "end": 1206,
                        "loc": {
                          "start": {
                            "line": 33,
                            "column": 16,
                            "index": 1176
                          },
                          "end": {
                            "line": 33,
                            "column": 46,
                            "index": 1206
                          }
                        },
                        "range": [
                          1176,
                          1206
                        ],
                        "callee": {
                          "type": "MemberExpression",
                          "start": 1176,
                          "end": 1191,
                          "loc": {
                            "start": {
                              "line": 33,
                              "column": 16,
                              "index": 1176
                            },
                            "end": {
                              "line": 33,
                              "column": 31,
                              "index": 1191
                            }
                          },
                          "range": [
                            1176,
                            1191
                          ],
                          "object": {
                            "type": "Identifier",
                            "start": 1176,
                            "end": 1186,
                            "loc": {
                              "start": {
                                "line": 33,
                                "column": 16,
                                "index": 1176
                              },
                              "end": {
                                "line": 33,
                                "column": 26,
                                "index": 1186
                              },
                              "identifierName": "ext_regexp"
                            },
                            "range": [
                              1176,
                              1186
                            ],
                            "name": "ext_regexp"
                          },
                          "computed": false,
                          "property": {
                            "type": "Identifier",
                            "start": 1187,
                            "end": 1191,
                            "loc": {
                              "start": {
                                "line": 33,
                                "column": 27,
                                "index": 1187
                              },
                              "end": {
                                "line": 33,
                                "column": 31,
                                "index": 1191
                              },
                              "identifierName": "exec"
                            },
                            "range": [
                              1187,
                              1191
                            ],
                            "name": "exec"
                          }
                        },
                        "arguments": [
                          {
                            "type": "Identifier",
                            "start": 1192,
                            "end": 1205,
                            "loc": {
                              "start": {
                                "line": 33,
                                "column": 32,
                                "index": 1192
                              },
                              "end": {
                                "line": 33,
                                "column": 45,
                                "index": 1205
                              },
                              "identifierName": "name_and_exts"
                            },
                            "range": [
                              1192,
                              1205
                            ],
                            "name": "name_and_exts"
                          }
                        ]
                      }
                    },
                    "body": {
                      "type": "BlockStatement",
                      "start": 1208,
                      "end": 1525,
                      "loc": {
                        "start": {
                          "line": 33,
                          "column": 48,
                          "index": 1208
                        },
                        "end": {
                          "line": 40,
                          "column": 2,
                          "index": 1525
                        }
                      },
                      "range": [
                        1208,
                        1525
                      ],
                      "body": [
                        {
                          "type": "VariableDeclaration",
                          "start": 1212,
                          "end": 1233,
                          "loc": {
                            "start": {
                              "line": 34,
                              "column": 2,
                              "index": 1212
                            },
                            "end": {
                              "line": 34,
                              "column": 23,
                              "index": 1233
                            }
                          },
                          "range": [
                            1212,
                            1233
                          ],
                          "declarations": [
                            {
                              "type": "VariableDeclarator",
                              "start": 1218,
                              "end": 1232,
                              "loc": {
                                "start": {
                                  "line": 34,
                                  "column": 8,
                                  "index": 1218
                                },
                                "end": {
                                  "line": 34,
                                  "column": 22,
                                  "index": 1232
                                }
                              },
                              "range": [
                                1218,
                                1232
                              ],
                              "id": {
                                "type": "Identifier",
                                "start": 1218,
                                "end": 1221,
                                "loc": {
                                  "start": {
                                    "line": 34,
                                    "column": 8,
                                    "index": 1218
                                  },
                                  "end": {
                                    "line": 34,
                                    "column": 11,
                                    "index": 1221
                                  },
                                  "identifierName": "ext"
                                },
                                "range": [
                                  1218,
                                  1221
                                ],
                                "name": "ext"
                              },
                              "init": {
                                "type": "MemberExpression",
                                "start": 1224,
                                "end": 1232,
                                "loc": {
                                  "start": {
                                    "line": 34,
                                    "column": 14,
                                    "index": 1224
                                  },
                                  "end": {
                                    "line": 34,
                                    "column": 22,
                                    "index": 1232
                                  }
                                },
                                "range": [
                                  1224,
                                  1232
                                ],
                                "object": {
                                  "type": "Identifier",
                                  "start": 1224,
                                  "end": 1229,
                                  "loc": {
                                    "start": {
                                      "line": 34,
                                      "column": 14,
                                      "index": 1224
                                    },
                                    "end": {
                                      "line": 34,
                                      "column": 19,
                                      "index": 1229
                                    },
                                    "identifierName": "match"
                                  },
                                  "range": [
                                    1224,
                                    1229
                                  ],
                                  "name": "match"
                                },
                                "computed": true,
                                "property": {
                                  "type": "NumericLiteral",
                                  "start": 1230,
                                  "end": 1231,
                                  "loc": {
                                    "start": {
                                      "line": 34,
                                      "column": 20,
                                      "index": 1230
                                    },
                                    "end": {
                                      "line": 34,
                                      "column": 21,
                                      "index": 1231
                                    }
                                  },
                                  "range": [
                                    1230,
                                    1231
                                  ],
                                  "extra": {
                                    "rawValue": 1,
                                    "raw": "1"
                                  },
                                  "value": 1
                                }
                              }
                            }
                          ],
                          "kind": "const",
                          "trailingComments": [
                            {
                              "type": "CommentLine",
                              "value": " ext_to_image_formats[ext] = ext_to_image_formats[ext] || [];",
                              "start": 1236,
                              "end": 1299,
                              "loc": {
                                "start": {
                                  "line": 35,
                                  "column": 2,
                                  "index": 1236
                                },
                                "end": {
                                  "line": 35,
                                  "column": 65,
                                  "index": 1299
                                }
                              }
                            },
                            {
                              "type": "CommentLine",
                              "value": " ext_to_image_formats[ext].push(format);",
                              "start": 1302,
                              "end": 1344,
                              "loc": {
                                "start": {
                                  "line": 36,
                                  "column": 2,
                                  "index": 1302
                                },
                                "end": {
                                  "line": 36,
                                  "column": 44,
                                  "index": 1344
                                }
                              }
                            },
                            {
                              "type": "CommentLine",
                              "value": " mime_type_to_image_formats[mime_type] = mime_type_to_image_formats[mime_type] || [];",
                              "start": 1347,
                              "end": 1434,
                              "loc": {
                                "start": {
                                  "line": 37,
                                  "column": 2,
                                  "index": 1347
                                },
                                "end": {
                                  "line": 37,
                                  "column": 89,
                                  "index": 1434
                                }
                              }
                            },
                            {
                              "type": "CommentLine",
                              "value": " mime_type_to_image_formats[mime_type].push(format);",
                              "start": 1437,
                              "end": 1491,
                              "loc": {
                                "start": {
                                  "line": 38,
                                  "column": 2,
                                  "index": 1437
                                },
                                "end": {
                                  "line": 38,
                                  "column": 56,
                                  "index": 1491
                                }
                              }
                            }
                          ]
                        },
                        {
                          "type": "ExpressionStatement",
                          "start": 1494,
                          "end": 1522,
                          "loc": {
                            "start": {
                              "line": 39,
                              "column": 2,
                              "index": 1494
                            },
                            "end": {
                              "line": 39,
                              "column": 30,
                              "index": 1522
                            }
                          },
                          "range": [
                            1494,
                            1522
                          ],
                          "expression": {
                            "type": "CallExpression",
                            "start": 1494,
                            "end": 1521,
                            "loc": {
                              "start": {
                                "line": 39,
                                "column": 2,
                                "index": 1494
                              },
                              "end": {
                                "line": 39,
                                "column": 29,
                                "index": 1521
                              }
                            },
                            "range": [
                              1494,
                              1521
                            ],
                            "callee": {
                              "type": "MemberExpression",
                              "start": 1494,
                              "end": 1516,
                              "loc": {
                                "start": {
                                  "line": 39,
                                  "column": 2,
                                  "index": 1494
                                },
                                "end": {
                                  "line": 39,
                                  "column": 24,
                                  "index": 1516
                                }
                              },
                              "range": [
                                1494,
                                1516
                              ],
                              "object": {
                                "type": "MemberExpression",
                                "start": 1494,
                                "end": 1511,
                                "loc": {
                                  "start": {
                                    "line": 39,
                                    "column": 2,
                                    "index": 1494
                                  },
                                  "end": {
                                    "line": 39,
                                    "column": 19,
                                    "index": 1511
                                  }
                                },
                                "range": [
                                  1494,
                                  1511
                                ],
                                "object": {
                                  "type": "Identifier",
                                  "start": 1494,
                                  "end": 1500,
                                  "loc": {
                                    "start": {
                                      "line": 39,
                                      "column": 2,
                                      "index": 1494
                                    },
                                    "end": {
                                      "line": 39,
                                      "column": 8,
                                      "index": 1500
                                    },
                                    "identifierName": "format"
                                  },
                                  "range": [
                                    1494,
                                    1500
                                  ],
                                  "name": "format"
                                },
                                "computed": false,
                                "property": {
                                  "type": "Identifier",
                                  "start": 1501,
                                  "end": 1511,
                                  "loc": {
                                    "start": {
                                      "line": 39,
                                      "column": 9,
                                      "index": 1501
                                    },
                                    "end": {
                                      "line": 39,
                                      "column": 19,
                                      "index": 1511
                                    },
                                    "identifierName": "extensions"
                                  },
                                  "range": [
                                    1501,
                                    1511
                                  ],
                                  "name": "extensions"
                                }
                              },
                              "computed": false,
                              "property": {
                                "type": "Identifier",
                                "start": 1512,
                                "end": 1516,
                                "loc": {
                                  "start": {
                                    "line": 39,
                                    "column": 20,
                                    "index": 1512
                                  },
                                  "end": {
                                    "line": 39,
                                    "column": 24,
                                    "index": 1516
                                  },
                                  "identifierName": "push"
                                },
                                "range": [
                                  1512,
                                  1516
                                ],
                                "name": "push"
                              }
                            },
                            "arguments": [
                              {
                                "type": "Identifier",
                                "start": 1517,
                                "end": 1520,
                                "loc": {
                                  "start": {
                                    "line": 39,
                                    "column": 25,
                                    "index": 1517
                                  },
                                  "end": {
                                    "line": 39,
                                    "column": 28,
                                    "index": 1520
                                  },
                                  "identifierName": "ext"
                                },
                                "range": [
                                  1517,
                                  1520
                                ],
                                "name": "ext"
                              }
                            ]
                          },
                          "leadingComments": [
                            {
                              "type": "CommentLine",
                              "value": " ext_to_image_formats[ext] = ext_to_image_formats[ext] || [];",
                              "start": 1236,
                              "end": 1299,
                              "loc": {
                                "start": {
                                  "line": 35,
                                  "column": 2,
                                  "index": 1236
                                },
                                "end": {
                                  "line": 35,
                                  "column": 65,
                                  "index": 1299
                                }
                              }
                            },
                            {
                              "type": "CommentLine",
                              "value": " ext_to_image_formats[ext].push(format);",
                              "start": 1302,
                              "end": 1344,
                              "loc": {
                                "start": {
                                  "line": 36,
                                  "column": 2,
                                  "index": 1302
                                },
                                "end": {
                                  "line": 36,
                                  "column": 44,
                                  "index": 1344
                                }
                              }
                            },
                            {
                              "type": "CommentLine",
                              "value": " mime_type_to_image_formats[mime_type] = mime_type_to_image_formats[mime_type] || [];",
                              "start": 1347,
                              "end": 1434,
                              "loc": {
                                "start": {
                                  "line": 37,
                                  "column": 2,
                                  "index": 1347
                                },
                                "end": {
                                  "line": 37,
                                  "column": 89,
                                  "index": 1434
                                }
                              }
                            },
                            {
                              "type": "CommentLine",
                              "value": " mime_type_to_image_formats[mime_type].push(format);",
                              "start": 1437,
                              "end": 1491,
                              "loc": {
                                "start": {
                                  "line": 38,
                                  "column": 2,
                                  "index": 1437
                                },
                                "end": {
                                  "line": 38,
                                  "column": 56,
                                  "index": 1491
                                }
                              }
                            }
                          ]
                        }
                      ],
                      "directives": []
                    },
                    "leadingComments": [
                      {
                        "type": "CommentLine",
                        "value": " eslint-disable-next-line no-cond-assign",
                        "start": 1117,
                        "end": 1159,
                        "loc": {
                          "start": {
                            "line": 32,
                            "column": 1,
                            "index": 1117
                          },
                          "end": {
                            "line": 32,
                            "column": 43,
                            "index": 1159
                          }
                        }
                      }
                    ]
                  },
                  {
                    "type": "ExpressionStatement",
                    "start": 1528,
                    "end": 1554,
                    "loc": {
                      "start": {
                        "line": 42,
                        "column": 1,
                        "index": 1528
                      },
                      "end": {
                        "line": 42,
                        "column": 27,
                        "index": 1554
                      }
                    },
                    "range": [
                      1528,
                      1554
                    ],
                    "expression": {
                      "type": "CallExpression",
                      "start": 1528,
                      "end": 1553,
                      "loc": {
                        "start": {
                          "line": 42,
                          "column": 1,
                          "index": 1528
                        },
                        "end": {
                          "line": 42,
                          "column": 26,
                          "index": 1553
                        }
                      },
                      "range": [
                        1528,
                        1553
                      ],
                      "callee": {
                        "type": "MemberExpression",
                        "start": 1528,
                        "end": 1545,
                        "loc": {
                          "start": {
                            "line": 42,
                            "column": 1,
                            "index": 1528
                          },
                          "end": {
                            "line": 42,
                            "column": 18,
                            "index": 1545
                          }
                        },
                        "range": [
                          1528,
                          1545
                        ],
                        "object": {
                          "type": "Identifier",
                          "start": 1528,
                          "end": 1540,
                          "loc": {
                            "start": {
                              "line": 42,
                              "column": 1,
                              "index": 1528
                            },
                            "end": {
                              "line": 42,
                              "column": 13,
                              "index": 1540
                            },
                            "identifierName": "target_array"
                          },
                          "range": [
                            1528,
                            1540
                          ],
                          "name": "target_array"
                        },
                        "computed": false,
                        "property": {
                          "type": "Identifier",
                          "start": 1541,
                          "end": 1545,
                          "loc": {
                            "start": {
                              "line": 42,
                              "column": 14,
                              "index": 1541
                            },
                            "end": {
                              "line": 42,
                              "column": 18,
                              "index": 1545
                            },
                            "identifierName": "push"
                          },
                          "range": [
                            1541,
                            1545
                          ],
                          "name": "push"
                        }
                      },
                      "arguments": [
                        {
                          "type": "Identifier",
                          "start": 1546,
                          "end": 1552,
                          "loc": {
                            "start": {
                              "line": 42,
                              "column": 19,
                              "index": 1546
                            },
                            "end": {
                              "line": 42,
                              "column": 25,
                              "index": 1552
                            },
                            "identifierName": "format"
                          },
                          "range": [
                            1546,
                            1552
                          ],
                          "name": "format"
                        }
                      ]
                    }
                  }
                ],
                "directives": []
              }
            }
          }
        ],
        "kind": "const",
        "trailingComments": [
          {
            "type": "CommentLine",
            "value": " First file extension in a parenthetical defines default for the format.",
            "start": 1558,
            "end": 1632,
            "loc": {
              "start": {
                "line": 44,
                "column": 0,
                "index": 1558
              },
              "end": {
                "line": 44,
                "column": 74,
                "index": 1632
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " Strings are localized in add_image_format, don't need localize() here.",
            "start": 1633,
            "end": 1706,
            "loc": {
              "start": {
                "line": 45,
                "column": 0,
                "index": 1633
              },
              "end": {
                "line": 45,
                "column": 73,
                "index": 1706
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentLine",
            "value": " const ext_to_image_formats = {}; // there can be multiple with the same extension, e.g. different bit depth BMP files",
            "start": 177,
            "end": 297,
            "loc": {
              "start": {
                "line": 8,
                "column": 0,
                "index": 177
              },
              "end": {
                "line": 8,
                "column": 120,
                "index": 297
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " const mime_type_to_image_formats = {};",
            "start": 298,
            "end": 339,
            "loc": {
              "start": {
                "line": 9,
                "column": 0,
                "index": 298
              },
              "end": {
                "line": 9,
                "column": 41,
                "index": 339
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": "*\n * @param {string} mime_type\n * @param {string} name_and_exts\n * @param {ImageFileFormat[]} [target_array]\n ",
            "start": 340,
            "end": 454,
            "loc": {
              "start": {
                "line": 10,
                "column": 0,
                "index": 340
              },
              "end": {
                "line": 14,
                "column": 3,
                "index": 454
              }
            }
          }
        ]
      },
      {
        "type": "ExpressionStatement",
        "start": 1707,
        "end": 1752,
        "loc": {
          "start": {
            "line": 46,
            "column": 0,
            "index": 1707
          },
          "end": {
            "line": 46,
            "column": 45,
            "index": 1752
          }
        },
        "range": [
          1707,
          1752
        ],
        "expression": {
          "type": "CallExpression",
          "start": 1707,
          "end": 1751,
          "loc": {
            "start": {
              "line": 46,
              "column": 0,
              "index": 1707
            },
            "end": {
              "line": 46,
              "column": 44,
              "index": 1751
            }
          },
          "range": [
            1707,
            1751
          ],
          "callee": {
            "type": "Identifier",
            "start": 1707,
            "end": 1723,
            "loc": {
              "start": {
                "line": 46,
                "column": 0,
                "index": 1707
              },
              "end": {
                "line": 46,
                "column": 16,
                "index": 1723
              },
              "identifierName": "add_image_format"
            },
            "range": [
              1707,
              1723
            ],
            "name": "add_image_format"
          },
          "arguments": [
            {
              "type": "StringLiteral",
              "start": 1724,
              "end": 1735,
              "loc": {
                "start": {
                  "line": 46,
                  "column": 17,
                  "index": 1724
                },
                "end": {
                  "line": 46,
                  "column": 28,
                  "index": 1735
                }
              },
              "range": [
                1724,
                1735
              ],
              "extra": {
                "rawValue": "image/png",
                "raw": "\"image/png\""
              },
              "value": "image/png"
            },
            {
              "type": "StringLiteral",
              "start": 1737,
              "end": 1750,
              "loc": {
                "start": {
                  "line": 46,
                  "column": 30,
                  "index": 1737
                },
                "end": {
                  "line": 46,
                  "column": 43,
                  "index": 1750
                }
              },
              "range": [
                1737,
                1750
              ],
              "extra": {
                "rawValue": "PNG (*.png)",
                "raw": "\"PNG (*.png)\""
              },
              "value": "PNG (*.png)"
            }
          ]
        },
        "leadingComments": [
          {
            "type": "CommentLine",
            "value": " First file extension in a parenthetical defines default for the format.",
            "start": 1558,
            "end": 1632,
            "loc": {
              "start": {
                "line": 44,
                "column": 0,
                "index": 1558
              },
              "end": {
                "line": 44,
                "column": 74,
                "index": 1632
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " Strings are localized in add_image_format, don't need localize() here.",
            "start": 1633,
            "end": 1706,
            "loc": {
              "start": {
                "line": 45,
                "column": 0,
                "index": 1633
              },
              "end": {
                "line": 45,
                "column": 73,
                "index": 1706
              }
            }
          }
        ]
      },
      {
        "type": "ExpressionStatement",
        "start": 1753,
        "end": 1801,
        "loc": {
          "start": {
            "line": 47,
            "column": 0,
            "index": 1753
          },
          "end": {
            "line": 47,
            "column": 48,
            "index": 1801
          }
        },
        "range": [
          1753,
          1801
        ],
        "expression": {
          "type": "CallExpression",
          "start": 1753,
          "end": 1800,
          "loc": {
            "start": {
              "line": 47,
              "column": 0,
              "index": 1753
            },
            "end": {
              "line": 47,
              "column": 47,
              "index": 1800
            }
          },
          "range": [
            1753,
            1800
          ],
          "callee": {
            "type": "Identifier",
            "start": 1753,
            "end": 1769,
            "loc": {
              "start": {
                "line": 47,
                "column": 0,
                "index": 1753
              },
              "end": {
                "line": 47,
                "column": 16,
                "index": 1769
              },
              "identifierName": "add_image_format"
            },
            "range": [
              1753,
              1769
            ],
            "name": "add_image_format"
          },
          "arguments": [
            {
              "type": "StringLiteral",
              "start": 1770,
              "end": 1782,
              "loc": {
                "start": {
                  "line": 47,
                  "column": 17,
                  "index": 1770
                },
                "end": {
                  "line": 47,
                  "column": 29,
                  "index": 1782
                }
              },
              "range": [
                1770,
                1782
              ],
              "extra": {
                "rawValue": "image/webp",
                "raw": "\"image/webp\""
              },
              "value": "image/webp"
            },
            {
              "type": "StringLiteral",
              "start": 1784,
              "end": 1799,
              "loc": {
                "start": {
                  "line": 47,
                  "column": 31,
                  "index": 1784
                },
                "end": {
                  "line": 47,
                  "column": 46,
                  "index": 1799
                }
              },
              "range": [
                1784,
                1799
              ],
              "extra": {
                "rawValue": "WebP (*.webp)",
                "raw": "\"WebP (*.webp)\""
              },
              "value": "WebP (*.webp)"
            }
          ]
        }
      },
      {
        "type": "ExpressionStatement",
        "start": 1802,
        "end": 1847,
        "loc": {
          "start": {
            "line": 48,
            "column": 0,
            "index": 1802
          },
          "end": {
            "line": 48,
            "column": 45,
            "index": 1847
          }
        },
        "range": [
          1802,
          1847
        ],
        "expression": {
          "type": "CallExpression",
          "start": 1802,
          "end": 1846,
          "loc": {
            "start": {
              "line": 48,
              "column": 0,
              "index": 1802
            },
            "end": {
              "line": 48,
              "column": 44,
              "index": 1846
            }
          },
          "range": [
            1802,
            1846
          ],
          "callee": {
            "type": "Identifier",
            "start": 1802,
            "end": 1818,
            "loc": {
              "start": {
                "line": 48,
                "column": 0,
                "index": 1802
              },
              "end": {
                "line": 48,
                "column": 16,
                "index": 1818
              },
              "identifierName": "add_image_format"
            },
            "range": [
              1802,
              1818
            ],
            "name": "add_image_format"
          },
          "arguments": [
            {
              "type": "StringLiteral",
              "start": 1819,
              "end": 1830,
              "loc": {
                "start": {
                  "line": 48,
                  "column": 17,
                  "index": 1819
                },
                "end": {
                  "line": 48,
                  "column": 28,
                  "index": 1830
                }
              },
              "range": [
                1819,
                1830
              ],
              "extra": {
                "rawValue": "image/gif",
                "raw": "\"image/gif\""
              },
              "value": "image/gif"
            },
            {
              "type": "StringLiteral",
              "start": 1832,
              "end": 1845,
              "loc": {
                "start": {
                  "line": 48,
                  "column": 30,
                  "index": 1832
                },
                "end": {
                  "line": 48,
                  "column": 43,
                  "index": 1845
                }
              },
              "range": [
                1832,
                1845
              ],
              "extra": {
                "rawValue": "GIF (*.gif)",
                "raw": "\"GIF (*.gif)\""
              },
              "value": "GIF (*.gif)"
            }
          ]
        }
      },
      {
        "type": "ExpressionStatement",
        "start": 1848,
        "end": 1902,
        "loc": {
          "start": {
            "line": 49,
            "column": 0,
            "index": 1848
          },
          "end": {
            "line": 49,
            "column": 54,
            "index": 1902
          }
        },
        "range": [
          1848,
          1902
        ],
        "expression": {
          "type": "CallExpression",
          "start": 1848,
          "end": 1901,
          "loc": {
            "start": {
              "line": 49,
              "column": 0,
              "index": 1848
            },
            "end": {
              "line": 49,
              "column": 53,
              "index": 1901
            }
          },
          "range": [
            1848,
            1901
          ],
          "callee": {
            "type": "Identifier",
            "start": 1848,
            "end": 1864,
            "loc": {
              "start": {
                "line": 49,
                "column": 0,
                "index": 1848
              },
              "end": {
                "line": 49,
                "column": 16,
                "index": 1864
              },
              "identifierName": "add_image_format"
            },
            "range": [
              1848,
              1864
            ],
            "name": "add_image_format"
          },
          "arguments": [
            {
              "type": "StringLiteral",
              "start": 1865,
              "end": 1877,
              "loc": {
                "start": {
                  "line": 49,
                  "column": 17,
                  "index": 1865
                },
                "end": {
                  "line": 49,
                  "column": 29,
                  "index": 1877
                }
              },
              "range": [
                1865,
                1877
              ],
              "extra": {
                "rawValue": "image/tiff",
                "raw": "\"image/tiff\""
              },
              "value": "image/tiff"
            },
            {
              "type": "StringLiteral",
              "start": 1879,
              "end": 1900,
              "loc": {
                "start": {
                  "line": 49,
                  "column": 31,
                  "index": 1879
                },
                "end": {
                  "line": 49,
                  "column": 52,
                  "index": 1900
                }
              },
              "range": [
                1879,
                1900
              ],
              "extra": {
                "rawValue": "TIFF (*.tif;*.tiff)",
                "raw": "\"TIFF (*.tif;*.tiff)\""
              },
              "value": "TIFF (*.tif;*.tiff)"
            }
          ]
        }
      },
      {
        "type": "ExpressionStatement",
        "start": 1903,
        "end": 1970,
        "loc": {
          "start": {
            "line": 50,
            "column": 0,
            "index": 1903
          },
          "end": {
            "line": 50,
            "column": 67,
            "index": 1970
          }
        },
        "range": [
          1903,
          1970
        ],
        "expression": {
          "type": "CallExpression",
          "start": 1903,
          "end": 1969,
          "loc": {
            "start": {
              "line": 50,
              "column": 0,
              "index": 1903
            },
            "end": {
              "line": 50,
              "column": 66,
              "index": 1969
            }
          },
          "range": [
            1903,
            1969
          ],
          "callee": {
            "type": "Identifier",
            "start": 1903,
            "end": 1919,
            "loc": {
              "start": {
                "line": 50,
                "column": 0,
                "index": 1903
              },
              "end": {
                "line": 50,
                "column": 16,
                "index": 1919
              },
              "identifierName": "add_image_format"
            },
            "range": [
              1903,
              1919
            ],
            "name": "add_image_format"
          },
          "arguments": [
            {
              "type": "StringLiteral",
              "start": 1920,
              "end": 1932,
              "loc": {
                "start": {
                  "line": 50,
                  "column": 17,
                  "index": 1920
                },
                "end": {
                  "line": 50,
                  "column": 29,
                  "index": 1932
                }
              },
              "range": [
                1920,
                1932
              ],
              "extra": {
                "rawValue": "image/jpeg",
                "raw": "\"image/jpeg\""
              },
              "value": "image/jpeg"
            },
            {
              "type": "StringLiteral",
              "start": 1934,
              "end": 1968,
              "loc": {
                "start": {
                  "line": 50,
                  "column": 31,
                  "index": 1934
                },
                "end": {
                  "line": 50,
                  "column": 65,
                  "index": 1968
                }
              },
              "range": [
                1934,
                1968
              ],
              "extra": {
                "rawValue": "JPEG (*.jpg;*.jpeg;*.jpe;*.jfif)",
                "raw": "\"JPEG (*.jpg;*.jpeg;*.jpe;*.jfif)\""
              },
              "value": "JPEG (*.jpg;*.jpeg;*.jpe;*.jfif)"
            }
          ]
        }
      },
      {
        "type": "ExpressionStatement",
        "start": 1971,
        "end": 2043,
        "loc": {
          "start": {
            "line": 51,
            "column": 0,
            "index": 1971
          },
          "end": {
            "line": 51,
            "column": 72,
            "index": 2043
          }
        },
        "range": [
          1971,
          2043
        ],
        "expression": {
          "type": "CallExpression",
          "start": 1971,
          "end": 2042,
          "loc": {
            "start": {
              "line": 51,
              "column": 0,
              "index": 1971
            },
            "end": {
              "line": 51,
              "column": 71,
              "index": 2042
            }
          },
          "range": [
            1971,
            2042
          ],
          "callee": {
            "type": "Identifier",
            "start": 1971,
            "end": 1987,
            "loc": {
              "start": {
                "line": 51,
                "column": 0,
                "index": 1971
              },
              "end": {
                "line": 51,
                "column": 16,
                "index": 1987
              },
              "identifierName": "add_image_format"
            },
            "range": [
              1971,
              1987
            ],
            "name": "add_image_format"
          },
          "arguments": [
            {
              "type": "StringLiteral",
              "start": 1988,
              "end": 2006,
              "loc": {
                "start": {
                  "line": 51,
                  "column": 17,
                  "index": 1988
                },
                "end": {
                  "line": 51,
                  "column": 35,
                  "index": 2006
                }
              },
              "range": [
                1988,
                2006
              ],
              "extra": {
                "rawValue": "image/x-bmp-1bpp",
                "raw": "\"image/x-bmp-1bpp\""
              },
              "value": "image/x-bmp-1bpp"
            },
            {
              "type": "StringLiteral",
              "start": 2008,
              "end": 2041,
              "loc": {
                "start": {
                  "line": 51,
                  "column": 37,
                  "index": 2008
                },
                "end": {
                  "line": 51,
                  "column": 70,
                  "index": 2041
                }
              },
              "range": [
                2008,
                2041
              ],
              "extra": {
                "rawValue": "Monochrome Bitmap (*.bmp;*.dib)",
                "raw": "\"Monochrome Bitmap (*.bmp;*.dib)\""
              },
              "value": "Monochrome Bitmap (*.bmp;*.dib)"
            }
          ]
        }
      },
      {
        "type": "ExpressionStatement",
        "start": 2044,
        "end": 2114,
        "loc": {
          "start": {
            "line": 52,
            "column": 0,
            "index": 2044
          },
          "end": {
            "line": 52,
            "column": 70,
            "index": 2114
          }
        },
        "range": [
          2044,
          2114
        ],
        "expression": {
          "type": "CallExpression",
          "start": 2044,
          "end": 2113,
          "loc": {
            "start": {
              "line": 52,
              "column": 0,
              "index": 2044
            },
            "end": {
              "line": 52,
              "column": 69,
              "index": 2113
            }
          },
          "range": [
            2044,
            2113
          ],
          "callee": {
            "type": "Identifier",
            "start": 2044,
            "end": 2060,
            "loc": {
              "start": {
                "line": 52,
                "column": 0,
                "index": 2044
              },
              "end": {
                "line": 52,
                "column": 16,
                "index": 2060
              },
              "identifierName": "add_image_format"
            },
            "range": [
              2044,
              2060
            ],
            "name": "add_image_format"
          },
          "arguments": [
            {
              "type": "StringLiteral",
              "start": 2061,
              "end": 2079,
              "loc": {
                "start": {
                  "line": 52,
                  "column": 17,
                  "index": 2061
                },
                "end": {
                  "line": 52,
                  "column": 35,
                  "index": 2079
                }
              },
              "range": [
                2061,
                2079
              ],
              "extra": {
                "rawValue": "image/x-bmp-4bpp",
                "raw": "\"image/x-bmp-4bpp\""
              },
              "value": "image/x-bmp-4bpp"
            },
            {
              "type": "StringLiteral",
              "start": 2081,
              "end": 2112,
              "loc": {
                "start": {
                  "line": 52,
                  "column": 37,
                  "index": 2081
                },
                "end": {
                  "line": 52,
                  "column": 68,
                  "index": 2112
                }
              },
              "range": [
                2081,
                2112
              ],
              "extra": {
                "rawValue": "16 Color Bitmap (*.bmp;*.dib)",
                "raw": "\"16 Color Bitmap (*.bmp;*.dib)\""
              },
              "value": "16 Color Bitmap (*.bmp;*.dib)"
            }
          ]
        }
      },
      {
        "type": "ExpressionStatement",
        "start": 2115,
        "end": 2186,
        "loc": {
          "start": {
            "line": 53,
            "column": 0,
            "index": 2115
          },
          "end": {
            "line": 53,
            "column": 71,
            "index": 2186
          }
        },
        "range": [
          2115,
          2186
        ],
        "expression": {
          "type": "CallExpression",
          "start": 2115,
          "end": 2185,
          "loc": {
            "start": {
              "line": 53,
              "column": 0,
              "index": 2115
            },
            "end": {
              "line": 53,
              "column": 70,
              "index": 2185
            }
          },
          "range": [
            2115,
            2185
          ],
          "callee": {
            "type": "Identifier",
            "start": 2115,
            "end": 2131,
            "loc": {
              "start": {
                "line": 53,
                "column": 0,
                "index": 2115
              },
              "end": {
                "line": 53,
                "column": 16,
                "index": 2131
              },
              "identifierName": "add_image_format"
            },
            "range": [
              2115,
              2131
            ],
            "name": "add_image_format"
          },
          "arguments": [
            {
              "type": "StringLiteral",
              "start": 2132,
              "end": 2150,
              "loc": {
                "start": {
                  "line": 53,
                  "column": 17,
                  "index": 2132
                },
                "end": {
                  "line": 53,
                  "column": 35,
                  "index": 2150
                }
              },
              "range": [
                2132,
                2150
              ],
              "extra": {
                "rawValue": "image/x-bmp-8bpp",
                "raw": "\"image/x-bmp-8bpp\""
              },
              "value": "image/x-bmp-8bpp"
            },
            {
              "type": "StringLiteral",
              "start": 2152,
              "end": 2184,
              "loc": {
                "start": {
                  "line": 53,
                  "column": 37,
                  "index": 2152
                },
                "end": {
                  "line": 53,
                  "column": 69,
                  "index": 2184
                }
              },
              "range": [
                2152,
                2184
              ],
              "extra": {
                "rawValue": "256 Color Bitmap (*.bmp;*.dib)",
                "raw": "\"256 Color Bitmap (*.bmp;*.dib)\""
              },
              "value": "256 Color Bitmap (*.bmp;*.dib)"
            }
          ]
        }
      },
      {
        "type": "ExpressionStatement",
        "start": 2187,
        "end": 2248,
        "loc": {
          "start": {
            "line": 54,
            "column": 0,
            "index": 2187
          },
          "end": {
            "line": 54,
            "column": 61,
            "index": 2248
          }
        },
        "range": [
          2187,
          2248
        ],
        "expression": {
          "type": "CallExpression",
          "start": 2187,
          "end": 2247,
          "loc": {
            "start": {
              "line": 54,
              "column": 0,
              "index": 2187
            },
            "end": {
              "line": 54,
              "column": 60,
              "index": 2247
            }
          },
          "range": [
            2187,
            2247
          ],
          "callee": {
            "type": "Identifier",
            "start": 2187,
            "end": 2203,
            "loc": {
              "start": {
                "line": 54,
                "column": 0,
                "index": 2187
              },
              "end": {
                "line": 54,
                "column": 16,
                "index": 2203
              },
              "identifierName": "add_image_format"
            },
            "range": [
              2187,
              2203
            ],
            "name": "add_image_format"
          },
          "arguments": [
            {
              "type": "StringLiteral",
              "start": 2204,
              "end": 2215,
              "loc": {
                "start": {
                  "line": 54,
                  "column": 17,
                  "index": 2204
                },
                "end": {
                  "line": 54,
                  "column": 28,
                  "index": 2215
                }
              },
              "range": [
                2204,
                2215
              ],
              "extra": {
                "rawValue": "image/bmp",
                "raw": "\"image/bmp\""
              },
              "value": "image/bmp"
            },
            {
              "type": "StringLiteral",
              "start": 2217,
              "end": 2246,
              "loc": {
                "start": {
                  "line": 54,
                  "column": 30,
                  "index": 2217
                },
                "end": {
                  "line": 54,
                  "column": 59,
                  "index": 2246
                }
              },
              "range": [
                2217,
                2246
              ],
              "extra": {
                "rawValue": "24-bit Bitmap (*.bmp;*.dib)",
                "raw": "\"24-bit Bitmap (*.bmp;*.dib)\""
              },
              "value": "24-bit Bitmap (*.bmp;*.dib)"
            }
          ]
        },
        "trailingComments": [
          {
            "type": "CommentLine",
            "value": " add_image_format(\"image/x-bmp-32bpp\", \"32-bit Transparent Bitmap (*.bmp;*.dib)\");",
            "start": 2249,
            "end": 2333,
            "loc": {
              "start": {
                "line": 55,
                "column": 0,
                "index": 2249
              },
              "end": {
                "line": 55,
                "column": 84,
                "index": 2333
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": "*\n * Filter to only support 24bpp BMP files for File System Access API and Electron save dialog,\n * as these APIs don't allow you to access the selected file type.\n * You can only guess it from the file extension the user types.\n * @template {FileFormat} T\n * @param {T[]} formats\n * @returns {T[]}\n ",
            "start": 2335,
            "end": 2639,
            "loc": {
              "start": {
                "line": 57,
                "column": 0,
                "index": 2335
              },
              "end": {
                "line": 64,
                "column": 3,
                "index": 2639
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 2640,
        "end": 3533,
        "loc": {
          "start": {
            "line": 65,
            "column": 0,
            "index": 2640
          },
          "end": {
            "line": 82,
            "column": 2,
            "index": 3533
          }
        },
        "range": [
          2640,
          3533
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 2646,
            "end": 3532,
            "loc": {
              "start": {
                "line": 65,
                "column": 6,
                "index": 2646
              },
              "end": {
                "line": 82,
                "column": 1,
                "index": 3532
              }
            },
            "range": [
              2646,
              3532
            ],
            "id": {
              "type": "Identifier",
              "start": 2646,
              "end": 2679,
              "loc": {
                "start": {
                  "line": 65,
                  "column": 6,
                  "index": 2646
                },
                "end": {
                  "line": 65,
                  "column": 39,
                  "index": 2679
                },
                "identifierName": "formats_unique_per_file_extension"
              },
              "range": [
                2646,
                2679
              ],
              "name": "formats_unique_per_file_extension"
            },
            "init": {
              "type": "ArrowFunctionExpression",
              "start": 2682,
              "end": 3532,
              "loc": {
                "start": {
                  "line": 65,
                  "column": 42,
                  "index": 2682
                },
                "end": {
                  "line": 82,
                  "column": 1,
                  "index": 3532
                }
              },
              "range": [
                2682,
                3532
              ],
              "id": null,
              "generator": false,
              "async": false,
              "params": [
                {
                  "type": "Identifier",
                  "start": 2683,
                  "end": 2690,
                  "loc": {
                    "start": {
                      "line": 65,
                      "column": 43,
                      "index": 2683
                    },
                    "end": {
                      "line": 65,
                      "column": 50,
                      "index": 2690
                    },
                    "identifierName": "formats"
                  },
                  "range": [
                    2683,
                    2690
                  ],
                  "name": "formats"
                }
              ],
              "body": {
                "type": "BlockStatement",
                "start": 2695,
                "end": 3532,
                "loc": {
                  "start": {
                    "line": 65,
                    "column": 55,
                    "index": 2695
                  },
                  "end": {
                    "line": 82,
                    "column": 1,
                    "index": 3532
                  }
                },
                "range": [
                  2695,
                  3532
                ],
                "body": [
                  {
                    "type": "ExpressionStatement",
                    "start": 2790,
                    "end": 2939,
                    "loc": {
                      "start": {
                        "line": 67,
                        "column": 1,
                        "index": 2790
                      },
                      "end": {
                        "line": 69,
                        "column": 3,
                        "index": 2939
                      }
                    },
                    "range": [
                      2790,
                      2939
                    ],
                    "expression": {
                      "type": "AssignmentExpression",
                      "start": 2790,
                      "end": 2938,
                      "loc": {
                        "start": {
                          "line": 67,
                          "column": 1,
                          "index": 2790
                        },
                        "end": {
                          "line": 69,
                          "column": 2,
                          "index": 2938
                        }
                      },
                      "range": [
                        2790,
                        2938
                      ],
                      "operator": "=",
                      "left": {
                        "type": "Identifier",
                        "start": 2790,
                        "end": 2797,
                        "loc": {
                          "start": {
                            "line": 67,
                            "column": 1,
                            "index": 2790
                          },
                          "end": {
                            "line": 67,
                            "column": 8,
                            "index": 2797
                          },
                          "identifierName": "formats"
                        },
                        "range": [
                          2790,
                          2797
                        ],
                        "name": "formats"
                      },
                      "right": {
                        "type": "CallExpression",
                        "start": 2800,
                        "end": 2938,
                        "loc": {
                          "start": {
                            "line": 67,
                            "column": 11,
                            "index": 2800
                          },
                          "end": {
                            "line": 69,
                            "column": 2,
                            "index": 2938
                          }
                        },
                        "range": [
                          2800,
                          2938
                        ],
                        "callee": {
                          "type": "MemberExpression",
                          "start": 2800,
                          "end": 2814,
                          "loc": {
                            "start": {
                              "line": 67,
                              "column": 11,
                              "index": 2800
                            },
                            "end": {
                              "line": 67,
                              "column": 25,
                              "index": 2814
                            }
                          },
                          "range": [
                            2800,
                            2814
                          ],
                          "object": {
                            "type": "Identifier",
                            "start": 2800,
                            "end": 2807,
                            "loc": {
                              "start": {
                                "line": 67,
                                "column": 11,
                                "index": 2800
                              },
                              "end": {
                                "line": 67,
                                "column": 18,
                                "index": 2807
                              },
                              "identifierName": "formats"
                            },
                            "range": [
                              2800,
                              2807
                            ],
                            "name": "formats"
                          },
                          "computed": false,
                          "property": {
                            "type": "Identifier",
                            "start": 2808,
                            "end": 2814,
                            "loc": {
                              "start": {
                                "line": 67,
                                "column": 19,
                                "index": 2808
                              },
                              "end": {
                                "line": 67,
                                "column": 25,
                                "index": 2814
                              },
                              "identifierName": "filter"
                            },
                            "range": [
                              2808,
                              2814
                            ],
                            "name": "filter"
                          }
                        },
                        "arguments": [
                          {
                            "type": "ArrowFunctionExpression",
                            "start": 2815,
                            "end": 2935,
                            "loc": {
                              "start": {
                                "line": 67,
                                "column": 26,
                                "index": 2815
                              },
                              "end": {
                                "line": 68,
                                "column": 108,
                                "index": 2935
                              }
                            },
                            "range": [
                              2815,
                              2935
                            ],
                            "id": null,
                            "generator": false,
                            "async": false,
                            "params": [
                              {
                                "type": "Identifier",
                                "start": 2816,
                                "end": 2822,
                                "loc": {
                                  "start": {
                                    "line": 67,
                                    "column": 27,
                                    "index": 2816
                                  },
                                  "end": {
                                    "line": 67,
                                    "column": 33,
                                    "index": 2822
                                  },
                                  "identifierName": "format"
                                },
                                "range": [
                                  2816,
                                  2822
                                ],
                                "name": "format"
                              }
                            ],
                            "body": {
                              "type": "ConditionalExpression",
                              "start": 2829,
                              "end": 2935,
                              "loc": {
                                "start": {
                                  "line": 68,
                                  "column": 2,
                                  "index": 2829
                                },
                                "end": {
                                  "line": 68,
                                  "column": 108,
                                  "index": 2935
                                }
                              },
                              "range": [
                                2829,
                                2935
                              ],
                              "test": {
                                "type": "CallExpression",
                                "start": 2829,
                                "end": 2862,
                                "loc": {
                                  "start": {
                                    "line": 68,
                                    "column": 2,
                                    "index": 2829
                                  },
                                  "end": {
                                    "line": 68,
                                    "column": 35,
                                    "index": 2862
                                  }
                                },
                                "range": [
                                  2829,
                                  2862
                                ],
                                "callee": {
                                  "type": "MemberExpression",
                                  "start": 2829,
                                  "end": 2855,
                                  "loc": {
                                    "start": {
                                      "line": 68,
                                      "column": 2,
                                      "index": 2829
                                    },
                                    "end": {
                                      "line": 68,
                                      "column": 28,
                                      "index": 2855
                                    }
                                  },
                                  "range": [
                                    2829,
                                    2855
                                  ],
                                  "object": {
                                    "type": "MemberExpression",
                                    "start": 2829,
                                    "end": 2846,
                                    "loc": {
                                      "start": {
                                        "line": 68,
                                        "column": 2,
                                        "index": 2829
                                      },
                                      "end": {
                                        "line": 68,
                                        "column": 19,
                                        "index": 2846
                                      }
                                    },
                                    "range": [
                                      2829,
                                      2846
                                    ],
                                    "object": {
                                      "type": "Identifier",
                                      "start": 2829,
                                      "end": 2835,
                                      "loc": {
                                        "start": {
                                          "line": 68,
                                          "column": 2,
                                          "index": 2829
                                        },
                                        "end": {
                                          "line": 68,
                                          "column": 8,
                                          "index": 2835
                                        },
                                        "identifierName": "format"
                                      },
                                      "range": [
                                        2829,
                                        2835
                                      ],
                                      "name": "format"
                                    },
                                    "computed": false,
                                    "property": {
                                      "type": "Identifier",
                                      "start": 2836,
                                      "end": 2846,
                                      "loc": {
                                        "start": {
                                          "line": 68,
                                          "column": 9,
                                          "index": 2836
                                        },
                                        "end": {
                                          "line": 68,
                                          "column": 19,
                                          "index": 2846
                                        },
                                        "identifierName": "extensions"
                                      },
                                      "range": [
                                        2836,
                                        2846
                                      ],
                                      "name": "extensions"
                                    }
                                  },
                                  "computed": false,
                                  "property": {
                                    "type": "Identifier",
                                    "start": 2847,
                                    "end": 2855,
                                    "loc": {
                                      "start": {
                                        "line": 68,
                                        "column": 20,
                                        "index": 2847
                                      },
                                      "end": {
                                        "line": 68,
                                        "column": 28,
                                        "index": 2855
                                      },
                                      "identifierName": "includes"
                                    },
                                    "range": [
                                      2847,
                                      2855
                                    ],
                                    "name": "includes"
                                  }
                                },
                                "arguments": [
                                  {
                                    "type": "StringLiteral",
                                    "start": 2856,
                                    "end": 2861,
                                    "loc": {
                                      "start": {
                                        "line": 68,
                                        "column": 29,
                                        "index": 2856
                                      },
                                      "end": {
                                        "line": 68,
                                        "column": 34,
                                        "index": 2861
                                      }
                                    },
                                    "range": [
                                      2856,
                                      2861
                                    ],
                                    "extra": {
                                      "rawValue": "bmp",
                                      "raw": "\"bmp\""
                                    },
                                    "value": "bmp"
                                  }
                                ]
                              },
                              "consequent": {
                                "type": "BinaryExpression",
                                "start": 2894,
                                "end": 2927,
                                "loc": {
                                  "start": {
                                    "line": 68,
                                    "column": 67,
                                    "index": 2894
                                  },
                                  "end": {
                                    "line": 68,
                                    "column": 100,
                                    "index": 2927
                                  }
                                },
                                "range": [
                                  2894,
                                  2927
                                ],
                                "left": {
                                  "type": "MemberExpression",
                                  "start": 2894,
                                  "end": 2911,
                                  "loc": {
                                    "start": {
                                      "line": 68,
                                      "column": 67,
                                      "index": 2894
                                    },
                                    "end": {
                                      "line": 68,
                                      "column": 84,
                                      "index": 2911
                                    }
                                  },
                                  "range": [
                                    2894,
                                    2911
                                  ],
                                  "object": {
                                    "type": "Identifier",
                                    "start": 2895,
                                    "end": 2901,
                                    "loc": {
                                      "start": {
                                        "line": 68,
                                        "column": 68,
                                        "index": 2895
                                      },
                                      "end": {
                                        "line": 68,
                                        "column": 74,
                                        "index": 2901
                                      },
                                      "identifierName": "format"
                                    },
                                    "range": [
                                      2895,
                                      2901
                                    ],
                                    "name": "format",
                                    "extra": {
                                      "parenthesized": true,
                                      "parenStart": 2894
                                    }
                                  },
                                  "computed": false,
                                  "property": {
                                    "type": "Identifier",
                                    "start": 2903,
                                    "end": 2911,
                                    "loc": {
                                      "start": {
                                        "line": 68,
                                        "column": 76,
                                        "index": 2903
                                      },
                                      "end": {
                                        "line": 68,
                                        "column": 84,
                                        "index": 2911
                                      },
                                      "identifierName": "mimeType"
                                    },
                                    "range": [
                                      2903,
                                      2911
                                    ],
                                    "name": "mimeType"
                                  }
                                },
                                "operator": "===",
                                "right": {
                                  "type": "StringLiteral",
                                  "start": 2916,
                                  "end": 2927,
                                  "loc": {
                                    "start": {
                                      "line": 68,
                                      "column": 89,
                                      "index": 2916
                                    },
                                    "end": {
                                      "line": 68,
                                      "column": 100,
                                      "index": 2927
                                    }
                                  },
                                  "range": [
                                    2916,
                                    2927
                                  ],
                                  "extra": {
                                    "rawValue": "image/bmp",
                                    "raw": "\"image/bmp\""
                                  },
                                  "value": "image/bmp"
                                },
                                "extra": {
                                  "parenthesized": true,
                                  "parenStart": 2865
                                },
                                "leadingComments": [
                                  {
                                    "type": "CommentBlock",
                                    "value": "*@type {ImageFileFormat}",
                                    "start": 2866,
                                    "end": 2894,
                                    "loc": {
                                      "start": {
                                        "line": 68,
                                        "column": 39,
                                        "index": 2866
                                      },
                                      "end": {
                                        "line": 68,
                                        "column": 67,
                                        "index": 2894
                                      }
                                    }
                                  }
                                ]
                              },
                              "alternate": {
                                "type": "BooleanLiteral",
                                "start": 2931,
                                "end": 2935,
                                "loc": {
                                  "start": {
                                    "line": 68,
                                    "column": 104,
                                    "index": 2931
                                  },
                                  "end": {
                                    "line": 68,
                                    "column": 108,
                                    "index": 2935
                                  }
                                },
                                "range": [
                                  2931,
                                  2935
                                ],
                                "value": true
                              }
                            }
                          }
                        ]
                      }
                    },
                    "trailingComments": [
                      {
                        "type": "CommentLine",
                        "value": " then generally uniquify on extensions",
                        "start": 2941,
                        "end": 2981,
                        "loc": {
                          "start": {
                            "line": 70,
                            "column": 1,
                            "index": 2941
                          },
                          "end": {
                            "line": 70,
                            "column": 41,
                            "index": 2981
                          }
                        }
                      },
                      {
                        "type": "CommentLine",
                        "value": " (this could be overzealous in case of partial overlap in extensions of different formats,",
                        "start": 2983,
                        "end": 3075,
                        "loc": {
                          "start": {
                            "line": 71,
                            "column": 1,
                            "index": 2983
                          },
                          "end": {
                            "line": 71,
                            "column": 93,
                            "index": 3075
                          }
                        }
                      },
                      {
                        "type": "CommentLine",
                        "value": " but in general it needs special care anyways, to decide which format should win)",
                        "start": 3077,
                        "end": 3160,
                        "loc": {
                          "start": {
                            "line": 72,
                            "column": 1,
                            "index": 3077
                          },
                          "end": {
                            "line": 72,
                            "column": 84,
                            "index": 3160
                          }
                        }
                      },
                      {
                        "type": "CommentLine",
                        "value": " This can't be simply chained with the above because it needs to use the intermediate, partially filtered formats array.",
                        "start": 3162,
                        "end": 3284,
                        "loc": {
                          "start": {
                            "line": 73,
                            "column": 1,
                            "index": 3162
                          },
                          "end": {
                            "line": 73,
                            "column": 123,
                            "index": 3284
                          }
                        }
                      }
                    ],
                    "leadingComments": [
                      {
                        "type": "CommentLine",
                        "value": " first handle BMP format specifically to make sure the 24-bpp is the selected BMP format",
                        "start": 2698,
                        "end": 2788,
                        "loc": {
                          "start": {
                            "line": 66,
                            "column": 1,
                            "index": 2698
                          },
                          "end": {
                            "line": 66,
                            "column": 91,
                            "index": 2788
                          }
                        }
                      }
                    ]
                  },
                  {
                    "type": "ReturnStatement",
                    "start": 3286,
                    "end": 3530,
                    "loc": {
                      "start": {
                        "line": 74,
                        "column": 1,
                        "index": 3286
                      },
                      "end": {
                        "line": 81,
                        "column": 3,
                        "index": 3530
                      }
                    },
                    "range": [
                      3286,
                      3530
                    ],
                    "argument": {
                      "type": "CallExpression",
                      "start": 3293,
                      "end": 3529,
                      "loc": {
                        "start": {
                          "line": 74,
                          "column": 8,
                          "index": 3293
                        },
                        "end": {
                          "line": 81,
                          "column": 2,
                          "index": 3529
                        }
                      },
                      "range": [
                        3293,
                        3529
                      ],
                      "callee": {
                        "type": "MemberExpression",
                        "start": 3293,
                        "end": 3307,
                        "loc": {
                          "start": {
                            "line": 74,
                            "column": 8,
                            "index": 3293
                          },
                          "end": {
                            "line": 74,
                            "column": 22,
                            "index": 3307
                          }
                        },
                        "range": [
                          3293,
                          3307
                        ],
                        "object": {
                          "type": "Identifier",
                          "start": 3293,
                          "end": 3300,
                          "loc": {
                            "start": {
                              "line": 74,
                              "column": 8,
                              "index": 3293
                            },
                            "end": {
                              "line": 74,
                              "column": 15,
                              "index": 3300
                            },
                            "identifierName": "formats"
                          },
                          "range": [
                            3293,
                            3300
                          ],
                          "name": "formats"
                        },
                        "computed": false,
                        "property": {
                          "type": "Identifier",
                          "start": 3301,
                          "end": 3307,
                          "loc": {
                            "start": {
                              "line": 74,
                              "column": 16,
                              "index": 3301
                            },
                            "end": {
                              "line": 74,
                              "column": 22,
                              "index": 3307
                            },
                            "identifierName": "filter"
                          },
                          "range": [
                            3301,
                            3307
                          ],
                          "name": "filter"
                        }
                      },
                      "arguments": [
                        {
                          "type": "ArrowFunctionExpression",
                          "start": 3308,
                          "end": 3526,
                          "loc": {
                            "start": {
                              "line": 74,
                              "column": 23,
                              "index": 3308
                            },
                            "end": {
                              "line": 80,
                              "column": 3,
                              "index": 3526
                            }
                          },
                          "range": [
                            3308,
                            3526
                          ],
                          "id": null,
                          "generator": false,
                          "async": false,
                          "params": [
                            {
                              "type": "Identifier",
                              "start": 3309,
                              "end": 3315,
                              "loc": {
                                "start": {
                                  "line": 74,
                                  "column": 24,
                                  "index": 3309
                                },
                                "end": {
                                  "line": 74,
                                  "column": 30,
                                  "index": 3315
                                },
                                "identifierName": "format"
                              },
                              "range": [
                                3309,
                                3315
                              ],
                              "name": "format"
                            },
                            {
                              "type": "Identifier",
                              "start": 3317,
                              "end": 3329,
                              "loc": {
                                "start": {
                                  "line": 74,
                                  "column": 32,
                                  "index": 3317
                                },
                                "end": {
                                  "line": 74,
                                  "column": 44,
                                  "index": 3329
                                },
                                "identifierName": "format_index"
                              },
                              "range": [
                                3317,
                                3329
                              ],
                              "name": "format_index"
                            }
                          ],
                          "body": {
                            "type": "UnaryExpression",
                            "start": 3336,
                            "end": 3526,
                            "loc": {
                              "start": {
                                "line": 75,
                                "column": 2,
                                "index": 3336
                              },
                              "end": {
                                "line": 80,
                                "column": 3,
                                "index": 3526
                              }
                            },
                            "range": [
                              3336,
                              3526
                            ],
                            "operator": "!",
                            "prefix": true,
                            "argument": {
                              "type": "CallExpression",
                              "start": 3337,
                              "end": 3526,
                              "loc": {
                                "start": {
                                  "line": 75,
                                  "column": 3,
                                  "index": 3337
                                },
                                "end": {
                                  "line": 80,
                                  "column": 3,
                                  "index": 3526
                                }
                              },
                              "range": [
                                3337,
                                3526
                              ],
                              "callee": {
                                "type": "MemberExpression",
                                "start": 3337,
                                "end": 3359,
                                "loc": {
                                  "start": {
                                    "line": 75,
                                    "column": 3,
                                    "index": 3337
                                  },
                                  "end": {
                                    "line": 75,
                                    "column": 25,
                                    "index": 3359
                                  }
                                },
                                "range": [
                                  3337,
                                  3359
                                ],
                                "object": {
                                  "type": "MemberExpression",
                                  "start": 3337,
                                  "end": 3354,
                                  "loc": {
                                    "start": {
                                      "line": 75,
                                      "column": 3,
                                      "index": 3337
                                    },
                                    "end": {
                                      "line": 75,
                                      "column": 20,
                                      "index": 3354
                                    }
                                  },
                                  "range": [
                                    3337,
                                    3354
                                  ],
                                  "object": {
                                    "type": "Identifier",
                                    "start": 3337,
                                    "end": 3343,
                                    "loc": {
                                      "start": {
                                        "line": 75,
                                        "column": 3,
                                        "index": 3337
                                      },
                                      "end": {
                                        "line": 75,
                                        "column": 9,
                                        "index": 3343
                                      },
                                      "identifierName": "format"
                                    },
                                    "range": [
                                      3337,
                                      3343
                                    ],
                                    "name": "format"
                                  },
                                  "computed": false,
                                  "property": {
                                    "type": "Identifier",
                                    "start": 3344,
                                    "end": 3354,
                                    "loc": {
                                      "start": {
                                        "line": 75,
                                        "column": 10,
                                        "index": 3344
                                      },
                                      "end": {
                                        "line": 75,
                                        "column": 20,
                                        "index": 3354
                                      },
                                      "identifierName": "extensions"
                                    },
                                    "range": [
                                      3344,
                                      3354
                                    ],
                                    "name": "extensions"
                                  }
                                },
                                "computed": false,
                                "property": {
                                  "type": "Identifier",
                                  "start": 3355,
                                  "end": 3359,
                                  "loc": {
                                    "start": {
                                      "line": 75,
                                      "column": 21,
                                      "index": 3355
                                    },
                                    "end": {
                                      "line": 75,
                                      "column": 25,
                                      "index": 3359
                                    },
                                    "identifierName": "some"
                                  },
                                  "range": [
                                    3355,
                                    3359
                                  ],
                                  "name": "some"
                                }
                              },
                              "arguments": [
                                {
                                  "type": "ArrowFunctionExpression",
                                  "start": 3360,
                                  "end": 3522,
                                  "loc": {
                                    "start": {
                                      "line": 75,
                                      "column": 26,
                                      "index": 3360
                                    },
                                    "end": {
                                      "line": 79,
                                      "column": 4,
                                      "index": 3522
                                    }
                                  },
                                  "range": [
                                    3360,
                                    3522
                                  ],
                                  "id": null,
                                  "generator": false,
                                  "async": false,
                                  "params": [
                                    {
                                      "type": "Identifier",
                                      "start": 3361,
                                      "end": 3370,
                                      "loc": {
                                        "start": {
                                          "line": 75,
                                          "column": 27,
                                          "index": 3361
                                        },
                                        "end": {
                                          "line": 75,
                                          "column": 36,
                                          "index": 3370
                                        },
                                        "identifierName": "extension"
                                      },
                                      "range": [
                                        3361,
                                        3370
                                      ],
                                      "name": "extension"
                                    }
                                  ],
                                  "body": {
                                    "type": "CallExpression",
                                    "start": 3378,
                                    "end": 3522,
                                    "loc": {
                                      "start": {
                                        "line": 76,
                                        "column": 3,
                                        "index": 3378
                                      },
                                      "end": {
                                        "line": 79,
                                        "column": 4,
                                        "index": 3522
                                      }
                                    },
                                    "range": [
                                      3378,
                                      3522
                                    ],
                                    "callee": {
                                      "type": "MemberExpression",
                                      "start": 3378,
                                      "end": 3390,
                                      "loc": {
                                        "start": {
                                          "line": 76,
                                          "column": 3,
                                          "index": 3378
                                        },
                                        "end": {
                                          "line": 76,
                                          "column": 15,
                                          "index": 3390
                                        }
                                      },
                                      "range": [
                                        3378,
                                        3390
                                      ],
                                      "object": {
                                        "type": "Identifier",
                                        "start": 3378,
                                        "end": 3385,
                                        "loc": {
                                          "start": {
                                            "line": 76,
                                            "column": 3,
                                            "index": 3378
                                          },
                                          "end": {
                                            "line": 76,
                                            "column": 10,
                                            "index": 3385
                                          },
                                          "identifierName": "formats"
                                        },
                                        "range": [
                                          3378,
                                          3385
                                        ],
                                        "name": "formats"
                                      },
                                      "computed": false,
                                      "property": {
                                        "type": "Identifier",
                                        "start": 3386,
                                        "end": 3390,
                                        "loc": {
                                          "start": {
                                            "line": 76,
                                            "column": 11,
                                            "index": 3386
                                          },
                                          "end": {
                                            "line": 76,
                                            "column": 15,
                                            "index": 3390
                                          },
                                          "identifierName": "some"
                                        },
                                        "range": [
                                          3386,
                                          3390
                                        ],
                                        "name": "some"
                                      }
                                    },
                                    "arguments": [
                                      {
                                        "type": "ArrowFunctionExpression",
                                        "start": 3391,
                                        "end": 3517,
                                        "loc": {
                                          "start": {
                                            "line": 76,
                                            "column": 16,
                                            "index": 3391
                                          },
                                          "end": {
                                            "line": 78,
                                            "column": 47,
                                            "index": 3517
                                          }
                                        },
                                        "range": [
                                          3391,
                                          3517
                                        ],
                                        "id": null,
                                        "generator": false,
                                        "async": false,
                                        "params": [
                                          {
                                            "type": "Identifier",
                                            "start": 3392,
                                            "end": 3404,
                                            "loc": {
                                              "start": {
                                                "line": 76,
                                                "column": 17,
                                                "index": 3392
                                              },
                                              "end": {
                                                "line": 76,
                                                "column": 29,
                                                "index": 3404
                                              },
                                              "identifierName": "other_format"
                                            },
                                            "range": [
                                              3392,
                                              3404
                                            ],
                                            "name": "other_format"
                                          },
                                          {
                                            "type": "Identifier",
                                            "start": 3406,
                                            "end": 3424,
                                            "loc": {
                                              "start": {
                                                "line": 76,
                                                "column": 31,
                                                "index": 3406
                                              },
                                              "end": {
                                                "line": 76,
                                                "column": 49,
                                                "index": 3424
                                              },
                                              "identifierName": "other_format_index"
                                            },
                                            "range": [
                                              3406,
                                              3424
                                            ],
                                            "name": "other_format_index"
                                          }
                                        ],
                                        "body": {
                                          "type": "LogicalExpression",
                                          "start": 3433,
                                          "end": 3517,
                                          "loc": {
                                            "start": {
                                              "line": 77,
                                              "column": 4,
                                              "index": 3433
                                            },
                                            "end": {
                                              "line": 78,
                                              "column": 47,
                                              "index": 3517
                                            }
                                          },
                                          "range": [
                                            3433,
                                            3517
                                          ],
                                          "left": {
                                            "type": "BinaryExpression",
                                            "start": 3433,
                                            "end": 3466,
                                            "loc": {
                                              "start": {
                                                "line": 77,
                                                "column": 4,
                                                "index": 3433
                                              },
                                              "end": {
                                                "line": 77,
                                                "column": 37,
                                                "index": 3466
                                              }
                                            },
                                            "range": [
                                              3433,
                                              3466
                                            ],
                                            "left": {
                                              "type": "Identifier",
                                              "start": 3433,
                                              "end": 3451,
                                              "loc": {
                                                "start": {
                                                  "line": 77,
                                                  "column": 4,
                                                  "index": 3433
                                                },
                                                "end": {
                                                  "line": 77,
                                                  "column": 22,
                                                  "index": 3451
                                                },
                                                "identifierName": "other_format_index"
                                              },
                                              "range": [
                                                3433,
                                                3451
                                              ],
                                              "name": "other_format_index"
                                            },
                                            "operator": "<",
                                            "right": {
                                              "type": "Identifier",
                                              "start": 3454,
                                              "end": 3466,
                                              "loc": {
                                                "start": {
                                                  "line": 77,
                                                  "column": 25,
                                                  "index": 3454
                                                },
                                                "end": {
                                                  "line": 77,
                                                  "column": 37,
                                                  "index": 3466
                                                },
                                                "identifierName": "format_index"
                                              },
                                              "range": [
                                                3454,
                                                3466
                                              ],
                                              "name": "format_index"
                                            }
                                          },
                                          "operator": "&&",
                                          "right": {
                                            "type": "CallExpression",
                                            "start": 3474,
                                            "end": 3517,
                                            "loc": {
                                              "start": {
                                                "line": 78,
                                                "column": 4,
                                                "index": 3474
                                              },
                                              "end": {
                                                "line": 78,
                                                "column": 47,
                                                "index": 3517
                                              }
                                            },
                                            "range": [
                                              3474,
                                              3517
                                            ],
                                            "callee": {
                                              "type": "MemberExpression",
                                              "start": 3474,
                                              "end": 3506,
                                              "loc": {
                                                "start": {
                                                  "line": 78,
                                                  "column": 4,
                                                  "index": 3474
                                                },
                                                "end": {
                                                  "line": 78,
                                                  "column": 36,
                                                  "index": 3506
                                                }
                                              },
                                              "range": [
                                                3474,
                                                3506
                                              ],
                                              "object": {
                                                "type": "MemberExpression",
                                                "start": 3474,
                                                "end": 3497,
                                                "loc": {
                                                  "start": {
                                                    "line": 78,
                                                    "column": 4,
                                                    "index": 3474
                                                  },
                                                  "end": {
                                                    "line": 78,
                                                    "column": 27,
                                                    "index": 3497
                                                  }
                                                },
                                                "range": [
                                                  3474,
                                                  3497
                                                ],
                                                "object": {
                                                  "type": "Identifier",
                                                  "start": 3474,
                                                  "end": 3486,
                                                  "loc": {
                                                    "start": {
                                                      "line": 78,
                                                      "column": 4,
                                                      "index": 3474
                                                    },
                                                    "end": {
                                                      "line": 78,
                                                      "column": 16,
                                                      "index": 3486
                                                    },
                                                    "identifierName": "other_format"
                                                  },
                                                  "range": [
                                                    3474,
                                                    3486
                                                  ],
                                                  "name": "other_format"
                                                },
                                                "computed": false,
                                                "property": {
                                                  "type": "Identifier",
                                                  "start": 3487,
                                                  "end": 3497,
                                                  "loc": {
                                                    "start": {
                                                      "line": 78,
                                                      "column": 17,
                                                      "index": 3487
                                                    },
                                                    "end": {
                                                      "line": 78,
                                                      "column": 27,
                                                      "index": 3497
                                                    },
                                                    "identifierName": "extensions"
                                                  },
                                                  "range": [
                                                    3487,
                                                    3497
                                                  ],
                                                  "name": "extensions"
                                                }
                                              },
                                              "computed": false,
                                              "property": {
                                                "type": "Identifier",
                                                "start": 3498,
                                                "end": 3506,
                                                "loc": {
                                                  "start": {
                                                    "line": 78,
                                                    "column": 28,
                                                    "index": 3498
                                                  },
                                                  "end": {
                                                    "line": 78,
                                                    "column": 36,
                                                    "index": 3506
                                                  },
                                                  "identifierName": "includes"
                                                },
                                                "range": [
                                                  3498,
                                                  3506
                                                ],
                                                "name": "includes"
                                              }
                                            },
                                            "arguments": [
                                              {
                                                "type": "Identifier",
                                                "start": 3507,
                                                "end": 3516,
                                                "loc": {
                                                  "start": {
                                                    "line": 78,
                                                    "column": 37,
                                                    "index": 3507
                                                  },
                                                  "end": {
                                                    "line": 78,
                                                    "column": 46,
                                                    "index": 3516
                                                  },
                                                  "identifierName": "extension"
                                                },
                                                "range": [
                                                  3507,
                                                  3516
                                                ],
                                                "name": "extension"
                                              }
                                            ]
                                          }
                                        }
                                      }
                                    ]
                                  }
                                }
                              ]
                            }
                          }
                        }
                      ]
                    },
                    "leadingComments": [
                      {
                        "type": "CommentLine",
                        "value": " then generally uniquify on extensions",
                        "start": 2941,
                        "end": 2981,
                        "loc": {
                          "start": {
                            "line": 70,
                            "column": 1,
                            "index": 2941
                          },
                          "end": {
                            "line": 70,
                            "column": 41,
                            "index": 2981
                          }
                        }
                      },
                      {
                        "type": "CommentLine",
                        "value": " (this could be overzealous in case of partial overlap in extensions of different formats,",
                        "start": 2983,
                        "end": 3075,
                        "loc": {
                          "start": {
                            "line": 71,
                            "column": 1,
                            "index": 2983
                          },
                          "end": {
                            "line": 71,
                            "column": 93,
                            "index": 3075
                          }
                        }
                      },
                      {
                        "type": "CommentLine",
                        "value": " but in general it needs special care anyways, to decide which format should win)",
                        "start": 3077,
                        "end": 3160,
                        "loc": {
                          "start": {
                            "line": 72,
                            "column": 1,
                            "index": 3077
                          },
                          "end": {
                            "line": 72,
                            "column": 84,
                            "index": 3160
                          }
                        }
                      },
                      {
                        "type": "CommentLine",
                        "value": " This can't be simply chained with the above because it needs to use the intermediate, partially filtered formats array.",
                        "start": 3162,
                        "end": 3284,
                        "loc": {
                          "start": {
                            "line": 73,
                            "column": 1,
                            "index": 3162
                          },
                          "end": {
                            "line": 73,
                            "column": 123,
                            "index": 3284
                          }
                        }
                      }
                    ]
                  }
                ],
                "directives": []
              }
            }
          }
        ],
        "kind": "const",
        "trailingComments": [
          {
            "type": "CommentLine",
            "value": " For the Open dialog, show more general format categories, like \"Bitmap Files\", maybe \"Icon Files\", etc.",
            "start": 3535,
            "end": 3641,
            "loc": {
              "start": {
                "line": 84,
                "column": 0,
                "index": 3535
              },
              "end": {
                "line": 84,
                "column": 106,
                "index": 3641
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " @TODO: probably need to do this differently for showOpenFilePicker...",
            "start": 3642,
            "end": 3714,
            "loc": {
              "start": {
                "line": 85,
                "column": 0,
                "index": 3642
              },
              "end": {
                "line": 85,
                "column": 72,
                "index": 3714
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": "\nconst image_format_categories = (image_formats) => {\n\timage_formats = image_formats.filter((format) =>\n\t\t!format.extensions.includes(\"bmp\")\n\t);\n\tadd_image_format(\"image/bmp\", localize(\"Bitmap Files (*.bmp)\").replace(\"(*.bmp)\", \"(*.bmp;*.dib)\"), image_formats);\n\t// add_image_format(\"\", \"Icon Files (*.ico;*.cur;*.ani;*.icns)\", image_formats);\n\t// add_image_format(\"\", \"All Picture Files\", image_formats);\n\t// add_image_format(\"\", \"All Files\", image_formats);\n\timage_formats.push({\n\t\t// TODO: we don't treat formatID and mimeType interchangeably, do we?\n\t\tformatID: \"IMAGE_FILES\",\n\t\tmimeType: \"image/*\", // but also application/pdf, not included here, but hopefully the mime type isn't what we go off of (I don't remember)\n\t\tname: localize(\"All Picture Files\"),\n\t\tnameWithExtensions: localize(\"All Picture Files\"),\n\t\textensions: image_formats.map((format) => format.extensions).flat(),\n\t});\n\timage_formats.push({\n\t\tformatID: \"ALL_FILES\",\n\t\tmimeType: \"*\" + \"/*\",\n\t\tname: localize(\"All Files\"),\n\t\tnameWithExtensions: localize(\"All Files\"),\n\t\textensions: [\"*\"], // Note: no other wildcard is allowed in the extension list\n\t});\n\treturn image_formats;\n};\n",
            "start": 3715,
            "end": 4869,
            "loc": {
              "start": {
                "line": 86,
                "column": 0,
                "index": 3715
              },
              "end": {
                "line": 112,
                "column": 2,
                "index": 4869
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": "* @type {PaletteFileFormat[]} ",
            "start": 4871,
            "end": 4905,
            "loc": {
              "start": {
                "line": 114,
                "column": 0,
                "index": 4871
              },
              "end": {
                "line": 114,
                "column": 34,
                "index": 4905
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentLine",
            "value": " add_image_format(\"image/x-bmp-32bpp\", \"32-bit Transparent Bitmap (*.bmp;*.dib)\");",
            "start": 2249,
            "end": 2333,
            "loc": {
              "start": {
                "line": 55,
                "column": 0,
                "index": 2249
              },
              "end": {
                "line": 55,
                "column": 84,
                "index": 2333
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": "*\n * Filter to only support 24bpp BMP files for File System Access API and Electron save dialog,\n * as these APIs don't allow you to access the selected file type.\n * You can only guess it from the file extension the user types.\n * @template {FileFormat} T\n * @param {T[]} formats\n * @returns {T[]}\n ",
            "start": 2335,
            "end": 2639,
            "loc": {
              "start": {
                "line": 57,
                "column": 0,
                "index": 2335
              },
              "end": {
                "line": 64,
                "column": 3,
                "index": 2639
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 4906,
        "end": 4933,
        "loc": {
          "start": {
            "line": 115,
            "column": 0,
            "index": 4906
          },
          "end": {
            "line": 115,
            "column": 27,
            "index": 4933
          }
        },
        "range": [
          4906,
          4933
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 4912,
            "end": 4932,
            "loc": {
              "start": {
                "line": 115,
                "column": 6,
                "index": 4912
              },
              "end": {
                "line": 115,
                "column": 26,
                "index": 4932
              }
            },
            "range": [
              4912,
              4932
            ],
            "id": {
              "type": "Identifier",
              "start": 4912,
              "end": 4927,
              "loc": {
                "start": {
                  "line": 115,
                  "column": 6,
                  "index": 4912
                },
                "end": {
                  "line": 115,
                  "column": 21,
                  "index": 4927
                },
                "identifierName": "palette_formats"
              },
              "range": [
                4912,
                4927
              ],
              "name": "palette_formats"
            },
            "init": {
              "type": "ArrayExpression",
              "start": 4930,
              "end": 4932,
              "loc": {
                "start": {
                  "line": 115,
                  "column": 24,
                  "index": 4930
                },
                "end": {
                  "line": 115,
                  "column": 26,
                  "index": 4932
                }
              },
              "range": [
                4930,
                4932
              ],
              "elements": []
            }
          }
        ],
        "kind": "const",
        "leadingComments": [
          {
            "type": "CommentLine",
            "value": " For the Open dialog, show more general format categories, like \"Bitmap Files\", maybe \"Icon Files\", etc.",
            "start": 3535,
            "end": 3641,
            "loc": {
              "start": {
                "line": 84,
                "column": 0,
                "index": 3535
              },
              "end": {
                "line": 84,
                "column": 106,
                "index": 3641
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " @TODO: probably need to do this differently for showOpenFilePicker...",
            "start": 3642,
            "end": 3714,
            "loc": {
              "start": {
                "line": 85,
                "column": 0,
                "index": 3642
              },
              "end": {
                "line": 85,
                "column": 72,
                "index": 3714
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": "\nconst image_format_categories = (image_formats) => {\n\timage_formats = image_formats.filter((format) =>\n\t\t!format.extensions.includes(\"bmp\")\n\t);\n\tadd_image_format(\"image/bmp\", localize(\"Bitmap Files (*.bmp)\").replace(\"(*.bmp)\", \"(*.bmp;*.dib)\"), image_formats);\n\t// add_image_format(\"\", \"Icon Files (*.ico;*.cur;*.ani;*.icns)\", image_formats);\n\t// add_image_format(\"\", \"All Picture Files\", image_formats);\n\t// add_image_format(\"\", \"All Files\", image_formats);\n\timage_formats.push({\n\t\t// TODO: we don't treat formatID and mimeType interchangeably, do we?\n\t\tformatID: \"IMAGE_FILES\",\n\t\tmimeType: \"image/*\", // but also application/pdf, not included here, but hopefully the mime type isn't what we go off of (I don't remember)\n\t\tname: localize(\"All Picture Files\"),\n\t\tnameWithExtensions: localize(\"All Picture Files\"),\n\t\textensions: image_formats.map((format) => format.extensions).flat(),\n\t});\n\timage_formats.push({\n\t\tformatID: \"ALL_FILES\",\n\t\tmimeType: \"*\" + \"/*\",\n\t\tname: localize(\"All Files\"),\n\t\tnameWithExtensions: localize(\"All Files\"),\n\t\textensions: [\"*\"], // Note: no other wildcard is allowed in the extension list\n\t});\n\treturn image_formats;\n};\n",
            "start": 3715,
            "end": 4869,
            "loc": {
              "start": {
                "line": 86,
                "column": 0,
                "index": 3715
              },
              "end": {
                "line": 112,
                "column": 2,
                "index": 4869
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": "* @type {PaletteFileFormat[]} ",
            "start": 4871,
            "end": 4905,
            "loc": {
              "start": {
                "line": 114,
                "column": 0,
                "index": 4871
              },
              "end": {
                "line": 114,
                "column": 34,
                "index": 4905
              }
            }
          }
        ]
      },
      {
        "type": "ForOfStatement",
        "start": 4934,
        "end": 5300,
        "loc": {
          "start": {
            "line": 116,
            "column": 0,
            "index": 4934
          },
          "end": {
            "line": 126,
            "column": 1,
            "index": 5300
          }
        },
        "range": [
          4934,
          5300
        ],
        "await": false,
        "left": {
          "type": "VariableDeclaration",
          "start": 4939,
          "end": 4964,
          "loc": {
            "start": {
              "line": 116,
              "column": 5,
              "index": 4939
            },
            "end": {
              "line": 116,
              "column": 30,
              "index": 4964
            }
          },
          "range": [
            4939,
            4964
          ],
          "declarations": [
            {
              "type": "VariableDeclarator",
              "start": 4945,
              "end": 4964,
              "loc": {
                "start": {
                  "line": 116,
                  "column": 11,
                  "index": 4945
                },
                "end": {
                  "line": 116,
                  "column": 30,
                  "index": 4964
                }
              },
              "range": [
                4945,
                4964
              ],
              "id": {
                "type": "ArrayPattern",
                "start": 4945,
                "end": 4964,
                "loc": {
                  "start": {
                    "line": 116,
                    "column": 11,
                    "index": 4945
                  },
                  "end": {
                    "line": 116,
                    "column": 30,
                    "index": 4964
                  }
                },
                "range": [
                  4945,
                  4964
                ],
                "elements": [
                  {
                    "type": "Identifier",
                    "start": 4946,
                    "end": 4955,
                    "loc": {
                      "start": {
                        "line": 116,
                        "column": 12,
                        "index": 4946
                      },
                      "end": {
                        "line": 116,
                        "column": 21,
                        "index": 4955
                      },
                      "identifierName": "format_id"
                    },
                    "range": [
                      4946,
                      4955
                    ],
                    "name": "format_id"
                  },
                  {
                    "type": "Identifier",
                    "start": 4957,
                    "end": 4963,
                    "loc": {
                      "start": {
                        "line": 116,
                        "column": 23,
                        "index": 4957
                      },
                      "end": {
                        "line": 116,
                        "column": 29,
                        "index": 4963
                      },
                      "identifierName": "format"
                    },
                    "range": [
                      4957,
                      4963
                    ],
                    "name": "format"
                  }
                ]
              },
              "init": null
            }
          ],
          "kind": "const"
        },
        "right": {
          "type": "CallExpression",
          "start": 4968,
          "end": 5002,
          "loc": {
            "start": {
              "line": 116,
              "column": 34,
              "index": 4968
            },
            "end": {
              "line": 116,
              "column": 68,
              "index": 5002
            }
          },
          "range": [
            4968,
            5002
          ],
          "callee": {
            "type": "MemberExpression",
            "start": 4968,
            "end": 4982,
            "loc": {
              "start": {
                "line": 116,
                "column": 34,
                "index": 4968
              },
              "end": {
                "line": 116,
                "column": 48,
                "index": 4982
              }
            },
            "range": [
              4968,
              4982
            ],
            "object": {
              "type": "Identifier",
              "start": 4968,
              "end": 4974,
              "loc": {
                "start": {
                  "line": 116,
                  "column": 34,
                  "index": 4968
                },
                "end": {
                  "line": 116,
                  "column": 40,
                  "index": 4974
                },
                "identifierName": "Object"
              },
              "range": [
                4968,
                4974
              ],
              "name": "Object"
            },
            "computed": false,
            "property": {
              "type": "Identifier",
              "start": 4975,
              "end": 4982,
              "loc": {
                "start": {
                  "line": 116,
                  "column": 41,
                  "index": 4975
                },
                "end": {
                  "line": 116,
                  "column": 48,
                  "index": 4982
                },
                "identifierName": "entries"
              },
              "range": [
                4975,
                4982
              ],
              "name": "entries"
            }
          },
          "arguments": [
            {
              "type": "MemberExpression",
              "start": 4983,
              "end": 5001,
              "loc": {
                "start": {
                  "line": 116,
                  "column": 49,
                  "index": 4983
                },
                "end": {
                  "line": 116,
                  "column": 67,
                  "index": 5001
                }
              },
              "range": [
                4983,
                5001
              ],
              "object": {
                "type": "Identifier",
                "start": 4983,
                "end": 4993,
                "loc": {
                  "start": {
                    "line": 116,
                    "column": 49,
                    "index": 4983
                  },
                  "end": {
                    "line": 116,
                    "column": 59,
                    "index": 4993
                  },
                  "identifierName": "AnyPalette"
                },
                "range": [
                  4983,
                  4993
                ],
                "name": "AnyPalette"
              },
              "computed": false,
              "property": {
                "type": "Identifier",
                "start": 4994,
                "end": 5001,
                "loc": {
                  "start": {
                    "line": 116,
                    "column": 60,
                    "index": 4994
                  },
                  "end": {
                    "line": 116,
                    "column": 67,
                    "index": 5001
                  },
                  "identifierName": "formats"
                },
                "range": [
                  4994,
                  5001
                ],
                "name": "formats"
              }
            }
          ]
        },
        "body": {
          "type": "BlockStatement",
          "start": 5004,
          "end": 5300,
          "loc": {
            "start": {
              "line": 116,
              "column": 70,
              "index": 5004
            },
            "end": {
              "line": 126,
              "column": 1,
              "index": 5300
            }
          },
          "range": [
            5004,
            5300
          ],
          "body": [
            {
              "type": "IfStatement",
              "start": 5007,
              "end": 5298,
              "loc": {
                "start": {
                  "line": 117,
                  "column": 1,
                  "index": 5007
                },
                "end": {
                  "line": 125,
                  "column": 2,
                  "index": 5298
                }
              },
              "range": [
                5007,
                5298
              ],
              "test": {
                "type": "MemberExpression",
                "start": 5011,
                "end": 5023,
                "loc": {
                  "start": {
                    "line": 117,
                    "column": 5,
                    "index": 5011
                  },
                  "end": {
                    "line": 117,
                    "column": 17,
                    "index": 5023
                  }
                },
                "range": [
                  5011,
                  5023
                ],
                "object": {
                  "type": "Identifier",
                  "start": 5011,
                  "end": 5017,
                  "loc": {
                    "start": {
                      "line": 117,
                      "column": 5,
                      "index": 5011
                    },
                    "end": {
                      "line": 117,
                      "column": 11,
                      "index": 5017
                    },
                    "identifierName": "format"
                  },
                  "range": [
                    5011,
                    5017
                  ],
                  "name": "format"
                },
                "computed": false,
                "property": {
                  "type": "Identifier",
                  "start": 5018,
                  "end": 5023,
                  "loc": {
                    "start": {
                      "line": 117,
                      "column": 12,
                      "index": 5018
                    },
                    "end": {
                      "line": 117,
                      "column": 17,
                      "index": 5023
                    },
                    "identifierName": "write"
                  },
                  "range": [
                    5018,
                    5023
                  ],
                  "name": "write"
                }
              },
              "consequent": {
                "type": "BlockStatement",
                "start": 5025,
                "end": 5298,
                "loc": {
                  "start": {
                    "line": 117,
                    "column": 19,
                    "index": 5025
                  },
                  "end": {
                    "line": 125,
                    "column": 2,
                    "index": 5298
                  }
                },
                "range": [
                  5025,
                  5298
                ],
                "body": [
                  {
                    "type": "VariableDeclaration",
                    "start": 5029,
                    "end": 5120,
                    "loc": {
                      "start": {
                        "line": 118,
                        "column": 2,
                        "index": 5029
                      },
                      "end": {
                        "line": 118,
                        "column": 93,
                        "index": 5120
                      }
                    },
                    "range": [
                      5029,
                      5120
                    ],
                    "declarations": [
                      {
                        "type": "VariableDeclarator",
                        "start": 5035,
                        "end": 5119,
                        "loc": {
                          "start": {
                            "line": 118,
                            "column": 8,
                            "index": 5035
                          },
                          "end": {
                            "line": 118,
                            "column": 92,
                            "index": 5119
                          }
                        },
                        "range": [
                          5035,
                          5119
                        ],
                        "id": {
                          "type": "Identifier",
                          "start": 5035,
                          "end": 5048,
                          "loc": {
                            "start": {
                              "line": 118,
                              "column": 8,
                              "index": 5035
                            },
                            "end": {
                              "line": 118,
                              "column": 21,
                              "index": 5048
                            },
                            "identifierName": "inside_parens"
                          },
                          "range": [
                            5035,
                            5048
                          ],
                          "name": "inside_parens"
                        },
                        "init": {
                          "type": "CallExpression",
                          "start": 5051,
                          "end": 5119,
                          "loc": {
                            "start": {
                              "line": 118,
                              "column": 24,
                              "index": 5051
                            },
                            "end": {
                              "line": 118,
                              "column": 92,
                              "index": 5119
                            }
                          },
                          "range": [
                            5051,
                            5119
                          ],
                          "callee": {
                            "type": "MemberExpression",
                            "start": 5051,
                            "end": 5114,
                            "loc": {
                              "start": {
                                "line": 118,
                                "column": 24,
                                "index": 5051
                              },
                              "end": {
                                "line": 118,
                                "column": 87,
                                "index": 5114
                              }
                            },
                            "range": [
                              5051,
                              5114
                            ],
                            "object": {
                              "type": "CallExpression",
                              "start": 5051,
                              "end": 5109,
                              "loc": {
                                "start": {
                                  "line": 118,
                                  "column": 24,
                                  "index": 5051
                                },
                                "end": {
                                  "line": 118,
                                  "column": 82,
                                  "index": 5109
                                }
                              },
                              "range": [
                                5051,
                                5109
                              ],
                              "callee": {
                                "type": "MemberExpression",
                                "start": 5051,
                                "end": 5076,
                                "loc": {
                                  "start": {
                                    "line": 118,
                                    "column": 24,
                                    "index": 5051
                                  },
                                  "end": {
                                    "line": 118,
                                    "column": 49,
                                    "index": 5076
                                  }
                                },
                                "range": [
                                  5051,
                                  5076
                                ],
                                "object": {
                                  "type": "MemberExpression",
                                  "start": 5051,
                                  "end": 5072,
                                  "loc": {
                                    "start": {
                                      "line": 118,
                                      "column": 24,
                                      "index": 5051
                                    },
                                    "end": {
                                      "line": 118,
                                      "column": 45,
                                      "index": 5072
                                    }
                                  },
                                  "range": [
                                    5051,
                                    5072
                                  ],
                                  "object": {
                                    "type": "Identifier",
                                    "start": 5051,
                                    "end": 5057,
                                    "loc": {
                                      "start": {
                                        "line": 118,
                                        "column": 24,
                                        "index": 5051
                                      },
                                      "end": {
                                        "line": 118,
                                        "column": 30,
                                        "index": 5057
                                      },
                                      "identifierName": "format"
                                    },
                                    "range": [
                                      5051,
                                      5057
                                    ],
                                    "name": "format"
                                  },
                                  "computed": false,
                                  "property": {
                                    "type": "Identifier",
                                    "start": 5058,
                                    "end": 5072,
                                    "loc": {
                                      "start": {
                                        "line": 118,
                                        "column": 31,
                                        "index": 5058
                                      },
                                      "end": {
                                        "line": 118,
                                        "column": 45,
                                        "index": 5072
                                      },
                                      "identifierName": "fileExtensions"
                                    },
                                    "range": [
                                      5058,
                                      5072
                                    ],
                                    "name": "fileExtensions"
                                  }
                                },
                                "computed": false,
                                "property": {
                                  "type": "Identifier",
                                  "start": 5073,
                                  "end": 5076,
                                  "loc": {
                                    "start": {
                                      "line": 118,
                                      "column": 46,
                                      "index": 5073
                                    },
                                    "end": {
                                      "line": 118,
                                      "column": 49,
                                      "index": 5076
                                    },
                                    "identifierName": "map"
                                  },
                                  "range": [
                                    5073,
                                    5076
                                  ],
                                  "name": "map"
                                }
                              },
                              "arguments": [
                                {
                                  "type": "ArrowFunctionExpression",
                                  "start": 5077,
                                  "end": 5108,
                                  "loc": {
                                    "start": {
                                      "line": 118,
                                      "column": 50,
                                      "index": 5077
                                    },
                                    "end": {
                                      "line": 118,
                                      "column": 81,
                                      "index": 5108
                                    }
                                  },
                                  "range": [
                                    5077,
                                    5108
                                  ],
                                  "id": null,
                                  "generator": false,
                                  "async": false,
                                  "params": [
                                    {
                                      "type": "Identifier",
                                      "start": 5078,
                                      "end": 5087,
                                      "loc": {
                                        "start": {
                                          "line": 118,
                                          "column": 51,
                                          "index": 5078
                                        },
                                        "end": {
                                          "line": 118,
                                          "column": 60,
                                          "index": 5087
                                        },
                                        "identifierName": "extension"
                                      },
                                      "range": [
                                        5078,
                                        5087
                                      ],
                                      "name": "extension"
                                    }
                                  ],
                                  "body": {
                                    "type": "TemplateLiteral",
                                    "start": 5092,
                                    "end": 5108,
                                    "loc": {
                                      "start": {
                                        "line": 118,
                                        "column": 65,
                                        "index": 5092
                                      },
                                      "end": {
                                        "line": 118,
                                        "column": 81,
                                        "index": 5108
                                      }
                                    },
                                    "range": [
                                      5092,
                                      5108
                                    ],
                                    "expressions": [
                                      {
                                        "type": "Identifier",
                                        "start": 5097,
                                        "end": 5106,
                                        "loc": {
                                          "start": {
                                            "line": 118,
                                            "column": 70,
                                            "index": 5097
                                          },
                                          "end": {
                                            "line": 118,
                                            "column": 79,
                                            "index": 5106
                                          },
                                          "identifierName": "extension"
                                        },
                                        "range": [
                                          5097,
                                          5106
                                        ],
                                        "name": "extension"
                                      }
                                    ],
                                    "quasis": [
                                      {
                                        "type": "TemplateElement",
                                        "start": 5093,
                                        "end": 5095,
                                        "loc": {
                                          "start": {
                                            "line": 118,
                                            "column": 66,
                                            "index": 5093
                                          },
                                          "end": {
                                            "line": 118,
                                            "column": 68,
                                            "index": 5095
                                          }
                                        },
                                        "range": [
                                          5093,
                                          5095
                                        ],
                                        "value": {
                                          "raw": "*.",
                                          "cooked": "*."
                                        },
                                        "tail": false
                                      },
                                      {
                                        "type": "TemplateElement",
                                        "start": 5107,
                                        "end": 5107,
                                        "loc": {
                                          "start": {
                                            "line": 118,
                                            "column": 80,
                                            "index": 5107
                                          },
                                          "end": {
                                            "line": 118,
                                            "column": 80,
                                            "index": 5107
                                          }
                                        },
                                        "range": [
                                          5107,
                                          5107
                                        ],
                                        "value": {
                                          "raw": "",
                                          "cooked": ""
                                        },
                                        "tail": true
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "computed": false,
                            "property": {
                              "type": "Identifier",
                              "start": 5110,
                              "end": 5114,
                              "loc": {
                                "start": {
                                  "line": 118,
                                  "column": 83,
                                  "index": 5110
                                },
                                "end": {
                                  "line": 118,
                                  "column": 87,
                                  "index": 5114
                                },
                                "identifierName": "join"
                              },
                              "range": [
                                5110,
                                5114
                              ],
                              "name": "join"
                            }
                          },
                          "arguments": [
                            {
                              "type": "StringLiteral",
                              "start": 5115,
                              "end": 5118,
                              "loc": {
                                "start": {
                                  "line": 118,
                                  "column": 88,
                                  "index": 5115
                                },
                                "end": {
                                  "line": 118,
                                  "column": 91,
                                  "index": 5118
                                }
                              },
                              "range": [
                                5115,
                                5118
                              ],
                              "extra": {
                                "rawValue": ";",
                                "raw": "\";\""
                              },
                              "value": ";"
                            }
                          ]
                        }
                      }
                    ],
                    "kind": "const"
                  },
                  {
                    "type": "ExpressionStatement",
                    "start": 5123,
                    "end": 5295,
                    "loc": {
                      "start": {
                        "line": 119,
                        "column": 2,
                        "index": 5123
                      },
                      "end": {
                        "line": 124,
                        "column": 5,
                        "index": 5295
                      }
                    },
                    "range": [
                      5123,
                      5295
                    ],
                    "expression": {
                      "type": "CallExpression",
                      "start": 5123,
                      "end": 5294,
                      "loc": {
                        "start": {
                          "line": 119,
                          "column": 2,
                          "index": 5123
                        },
                        "end": {
                          "line": 124,
                          "column": 4,
                          "index": 5294
                        }
                      },
                      "range": [
                        5123,
                        5294
                      ],
                      "callee": {
                        "type": "MemberExpression",
                        "start": 5123,
                        "end": 5143,
                        "loc": {
                          "start": {
                            "line": 119,
                            "column": 2,
                            "index": 5123
                          },
                          "end": {
                            "line": 119,
                            "column": 22,
                            "index": 5143
                          }
                        },
                        "range": [
                          5123,
                          5143
                        ],
                        "object": {
                          "type": "Identifier",
                          "start": 5123,
                          "end": 5138,
                          "loc": {
                            "start": {
                              "line": 119,
                              "column": 2,
                              "index": 5123
                            },
                            "end": {
                              "line": 119,
                              "column": 17,
                              "index": 5138
                            },
                            "identifierName": "palette_formats"
                          },
                          "range": [
                            5123,
                            5138
                          ],
                          "name": "palette_formats"
                        },
                        "computed": false,
                        "property": {
                          "type": "Identifier",
                          "start": 5139,
                          "end": 5143,
                          "loc": {
                            "start": {
                              "line": 119,
                              "column": 18,
                              "index": 5139
                            },
                            "end": {
                              "line": 119,
                              "column": 22,
                              "index": 5143
                            },
                            "identifierName": "push"
                          },
                          "range": [
                            5139,
                            5143
                          ],
                          "name": "push"
                        }
                      },
                      "arguments": [
                        {
                          "type": "ObjectExpression",
                          "start": 5144,
                          "end": 5293,
                          "loc": {
                            "start": {
                              "line": 119,
                              "column": 23,
                              "index": 5144
                            },
                            "end": {
                              "line": 124,
                              "column": 3,
                              "index": 5293
                            }
                          },
                          "range": [
                            5144,
                            5293
                          ],
                          "properties": [
                            {
                              "type": "ObjectProperty",
                              "start": 5149,
                              "end": 5168,
                              "loc": {
                                "start": {
                                  "line": 120,
                                  "column": 3,
                                  "index": 5149
                                },
                                "end": {
                                  "line": 120,
                                  "column": 22,
                                  "index": 5168
                                }
                              },
                              "range": [
                                5149,
                                5168
                              ],
                              "method": false,
                              "key": {
                                "type": "Identifier",
                                "start": 5149,
                                "end": 5157,
                                "loc": {
                                  "start": {
                                    "line": 120,
                                    "column": 3,
                                    "index": 5149
                                  },
                                  "end": {
                                    "line": 120,
                                    "column": 11,
                                    "index": 5157
                                  },
                                  "identifierName": "formatID"
                                },
                                "range": [
                                  5149,
                                  5157
                                ],
                                "name": "formatID"
                              },
                              "computed": false,
                              "shorthand": false,
                              "value": {
                                "type": "Identifier",
                                "start": 5159,
                                "end": 5168,
                                "loc": {
                                  "start": {
                                    "line": 120,
                                    "column": 13,
                                    "index": 5159
                                  },
                                  "end": {
                                    "line": 120,
                                    "column": 22,
                                    "index": 5168
                                  },
                                  "identifierName": "format_id"
                                },
                                "range": [
                                  5159,
                                  5168
                                ],
                                "name": "format_id"
                              }
                            },
                            {
                              "type": "ObjectProperty",
                              "start": 5173,
                              "end": 5190,
                              "loc": {
                                "start": {
                                  "line": 121,
                                  "column": 3,
                                  "index": 5173
                                },
                                "end": {
                                  "line": 121,
                                  "column": 20,
                                  "index": 5190
                                }
                              },
                              "range": [
                                5173,
                                5190
                              ],
                              "method": false,
                              "key": {
                                "type": "Identifier",
                                "start": 5173,
                                "end": 5177,
                                "loc": {
                                  "start": {
                                    "line": 121,
                                    "column": 3,
                                    "index": 5173
                                  },
                                  "end": {
                                    "line": 121,
                                    "column": 7,
                                    "index": 5177
                                  },
                                  "identifierName": "name"
                                },
                                "range": [
                                  5173,
                                  5177
                                ],
                                "name": "name"
                              },
                              "computed": false,
                              "shorthand": false,
                              "value": {
                                "type": "MemberExpression",
                                "start": 5179,
                                "end": 5190,
                                "loc": {
                                  "start": {
                                    "line": 121,
                                    "column": 9,
                                    "index": 5179
                                  },
                                  "end": {
                                    "line": 121,
                                    "column": 20,
                                    "index": 5190
                                  }
                                },
                                "range": [
                                  5179,
                                  5190
                                ],
                                "object": {
                                  "type": "Identifier",
                                  "start": 5179,
                                  "end": 5185,
                                  "loc": {
                                    "start": {
                                      "line": 121,
                                      "column": 9,
                                      "index": 5179
                                    },
                                    "end": {
                                      "line": 121,
                                      "column": 15,
                                      "index": 5185
                                    },
                                    "identifierName": "format"
                                  },
                                  "range": [
                                    5179,
                                    5185
                                  ],
                                  "name": "format"
                                },
                                "computed": false,
                                "property": {
                                  "type": "Identifier",
                                  "start": 5186,
                                  "end": 5190,
                                  "loc": {
                                    "start": {
                                      "line": 121,
                                      "column": 16,
                                      "index": 5186
                                    },
                                    "end": {
                                      "line": 121,
                                      "column": 20,
                                      "index": 5190
                                    },
                                    "identifierName": "name"
                                  },
                                  "range": [
                                    5186,
                                    5190
                                  ],
                                  "name": "name"
                                }
                              }
                            },
                            {
                              "type": "ObjectProperty",
                              "start": 5195,
                              "end": 5250,
                              "loc": {
                                "start": {
                                  "line": 122,
                                  "column": 3,
                                  "index": 5195
                                },
                                "end": {
                                  "line": 122,
                                  "column": 58,
                                  "index": 5250
                                }
                              },
                              "range": [
                                5195,
                                5250
                              ],
                              "method": false,
                              "key": {
                                "type": "Identifier",
                                "start": 5195,
                                "end": 5213,
                                "loc": {
                                  "start": {
                                    "line": 122,
                                    "column": 3,
                                    "index": 5195
                                  },
                                  "end": {
                                    "line": 122,
                                    "column": 21,
                                    "index": 5213
                                  },
                                  "identifierName": "nameWithExtensions"
                                },
                                "range": [
                                  5195,
                                  5213
                                ],
                                "name": "nameWithExtensions"
                              },
                              "computed": false,
                              "shorthand": false,
                              "value": {
                                "type": "TemplateLiteral",
                                "start": 5215,
                                "end": 5250,
                                "loc": {
                                  "start": {
                                    "line": 122,
                                    "column": 23,
                                    "index": 5215
                                  },
                                  "end": {
                                    "line": 122,
                                    "column": 58,
                                    "index": 5250
                                  }
                                },
                                "range": [
                                  5215,
                                  5250
                                ],
                                "expressions": [
                                  {
                                    "type": "MemberExpression",
                                    "start": 5218,
                                    "end": 5229,
                                    "loc": {
                                      "start": {
                                        "line": 122,
                                        "column": 26,
                                        "index": 5218
                                      },
                                      "end": {
                                        "line": 122,
                                        "column": 37,
                                        "index": 5229
                                      }
                                    },
                                    "range": [
                                      5218,
                                      5229
                                    ],
                                    "object": {
                                      "type": "Identifier",
                                      "start": 5218,
                                      "end": 5224,
                                      "loc": {
                                        "start": {
                                          "line": 122,
                                          "column": 26,
                                          "index": 5218
                                        },
                                        "end": {
                                          "line": 122,
                                          "column": 32,
                                          "index": 5224
                                        },
                                        "identifierName": "format"
                                      },
                                      "range": [
                                        5218,
                                        5224
                                      ],
                                      "name": "format"
                                    },
                                    "computed": false,
                                    "property": {
                                      "type": "Identifier",
                                      "start": 5225,
                                      "end": 5229,
                                      "loc": {
                                        "start": {
                                          "line": 122,
                                          "column": 33,
                                          "index": 5225
                                        },
                                        "end": {
                                          "line": 122,
                                          "column": 37,
                                          "index": 5229
                                        },
                                        "identifierName": "name"
                                      },
                                      "range": [
                                        5225,
                                        5229
                                      ],
                                      "name": "name"
                                    }
                                  },
                                  {
                                    "type": "Identifier",
                                    "start": 5234,
                                    "end": 5247,
                                    "loc": {
                                      "start": {
                                        "line": 122,
                                        "column": 42,
                                        "index": 5234
                                      },
                                      "end": {
                                        "line": 122,
                                        "column": 55,
                                        "index": 5247
                                      },
                                      "identifierName": "inside_parens"
                                    },
                                    "range": [
                                      5234,
                                      5247
                                    ],
                                    "name": "inside_parens"
                                  }
                                ],
                                "quasis": [
                                  {
                                    "type": "TemplateElement",
                                    "start": 5216,
                                    "end": 5216,
                                    "loc": {
                                      "start": {
                                        "line": 122,
                                        "column": 24,
                                        "index": 5216
                                      },
                                      "end": {
                                        "line": 122,
                                        "column": 24,
                                        "index": 5216
                                      }
                                    },
                                    "range": [
                                      5216,
                                      5216
                                    ],
                                    "value": {
                                      "raw": "",
                                      "cooked": ""
                                    },
                                    "tail": false
                                  },
                                  {
                                    "type": "TemplateElement",
                                    "start": 5230,
                                    "end": 5232,
                                    "loc": {
                                      "start": {
                                        "line": 122,
                                        "column": 38,
                                        "index": 5230
                                      },
                                      "end": {
                                        "line": 122,
                                        "column": 40,
                                        "index": 5232
                                      }
                                    },
                                    "range": [
                                      5230,
                                      5232
                                    ],
                                    "value": {
                                      "raw": " (",
                                      "cooked": " ("
                                    },
                                    "tail": false
                                  },
                                  {
                                    "type": "TemplateElement",
                                    "start": 5248,
                                    "end": 5249,
                                    "loc": {
                                      "start": {
                                        "line": 122,
                                        "column": 56,
                                        "index": 5248
                                      },
                                      "end": {
                                        "line": 122,
                                        "column": 57,
                                        "index": 5249
                                      }
                                    },
                                    "range": [
                                      5248,
                                      5249
                                    ],
                                    "value": {
                                      "raw": ")",
                                      "cooked": ")"
                                    },
                                    "tail": true
                                  }
                                ]
                              }
                            },
                            {
                              "type": "ObjectProperty",
                              "start": 5255,
                              "end": 5288,
                              "loc": {
                                "start": {
                                  "line": 123,
                                  "column": 3,
                                  "index": 5255
                                },
                                "end": {
                                  "line": 123,
                                  "column": 36,
                                  "index": 5288
                                }
                              },
                              "range": [
                                5255,
                                5288
                              ],
                              "method": false,
                              "key": {
                                "type": "Identifier",
                                "start": 5255,
                                "end": 5265,
                                "loc": {
                                  "start": {
                                    "line": 123,
                                    "column": 3,
                                    "index": 5255
                                  },
                                  "end": {
                                    "line": 123,
                                    "column": 13,
                                    "index": 5265
                                  },
                                  "identifierName": "extensions"
                                },
                                "range": [
                                  5255,
                                  5265
                                ],
                                "name": "extensions"
                              },
                              "computed": false,
                              "shorthand": false,
                              "value": {
                                "type": "MemberExpression",
                                "start": 5267,
                                "end": 5288,
                                "loc": {
                                  "start": {
                                    "line": 123,
                                    "column": 15,
                                    "index": 5267
                                  },
                                  "end": {
                                    "line": 123,
                                    "column": 36,
                                    "index": 5288
                                  }
                                },
                                "range": [
                                  5267,
                                  5288
                                ],
                                "object": {
                                  "type": "Identifier",
                                  "start": 5267,
                                  "end": 5273,
                                  "loc": {
                                    "start": {
                                      "line": 123,
                                      "column": 15,
                                      "index": 5267
                                    },
                                    "end": {
                                      "line": 123,
                                      "column": 21,
                                      "index": 5273
                                    },
                                    "identifierName": "format"
                                  },
                                  "range": [
                                    5267,
                                    5273
                                  ],
                                  "name": "format"
                                },
                                "computed": false,
                                "property": {
                                  "type": "Identifier",
                                  "start": 5274,
                                  "end": 5288,
                                  "loc": {
                                    "start": {
                                      "line": 123,
                                      "column": 22,
                                      "index": 5274
                                    },
                                    "end": {
                                      "line": 123,
                                      "column": 36,
                                      "index": 5288
                                    },
                                    "identifierName": "fileExtensions"
                                  },
                                  "range": [
                                    5274,
                                    5288
                                  ],
                                  "name": "fileExtensions"
                                }
                              }
                            }
                          ],
                          "extra": {
                            "trailingComma": 5288
                          }
                        }
                      ]
                    }
                  }
                ],
                "directives": []
              },
              "alternate": null
            }
          ],
          "directives": []
        }
      },
      {
        "type": "ExpressionStatement",
        "start": 5301,
        "end": 5547,
        "loc": {
          "start": {
            "line": 127,
            "column": 0,
            "index": 5301
          },
          "end": {
            "line": 132,
            "column": 2,
            "index": 5547
          }
        },
        "range": [
          5301,
          5547
        ],
        "expression": {
          "type": "CallExpression",
          "start": 5301,
          "end": 5546,
          "loc": {
            "start": {
              "line": 127,
              "column": 0,
              "index": 5301
            },
            "end": {
              "line": 132,
              "column": 1,
              "index": 5546
            }
          },
          "range": [
            5301,
            5546
          ],
          "callee": {
            "type": "MemberExpression",
            "start": 5301,
            "end": 5321,
            "loc": {
              "start": {
                "line": 127,
                "column": 0,
                "index": 5301
              },
              "end": {
                "line": 127,
                "column": 20,
                "index": 5321
              }
            },
            "range": [
              5301,
              5321
            ],
            "object": {
              "type": "Identifier",
              "start": 5301,
              "end": 5316,
              "loc": {
                "start": {
                  "line": 127,
                  "column": 0,
                  "index": 5301
                },
                "end": {
                  "line": 127,
                  "column": 15,
                  "index": 5316
                },
                "identifierName": "palette_formats"
              },
              "range": [
                5301,
                5316
              ],
              "name": "palette_formats"
            },
            "computed": false,
            "property": {
              "type": "Identifier",
              "start": 5317,
              "end": 5321,
              "loc": {
                "start": {
                  "line": 127,
                  "column": 16,
                  "index": 5317
                },
                "end": {
                  "line": 127,
                  "column": 20,
                  "index": 5321
                },
                "identifierName": "sort"
              },
              "range": [
                5317,
                5321
              ],
              "name": "sort"
            }
          },
          "arguments": [
            {
              "type": "ArrowFunctionExpression",
              "start": 5322,
              "end": 5544,
              "loc": {
                "start": {
                  "line": 127,
                  "column": 21,
                  "index": 5322
                },
                "end": {
                  "line": 131,
                  "column": 2,
                  "index": 5544
                }
              },
              "range": [
                5322,
                5544
              ],
              "id": null,
              "generator": false,
              "async": false,
              "params": [
                {
                  "type": "Identifier",
                  "start": 5323,
                  "end": 5324,
                  "loc": {
                    "start": {
                      "line": 127,
                      "column": 22,
                      "index": 5323
                    },
                    "end": {
                      "line": 127,
                      "column": 23,
                      "index": 5324
                    },
                    "identifierName": "a"
                  },
                  "range": [
                    5323,
                    5324
                  ],
                  "name": "a"
                },
                {
                  "type": "Identifier",
                  "start": 5326,
                  "end": 5327,
                  "loc": {
                    "start": {
                      "line": 127,
                      "column": 25,
                      "index": 5326
                    },
                    "end": {
                      "line": 127,
                      "column": 26,
                      "index": 5327
                    },
                    "identifierName": "b"
                  },
                  "range": [
                    5326,
                    5327
                  ],
                  "name": "b"
                }
              ],
              "body": {
                "type": "LogicalExpression",
                "start": 5399,
                "end": 5544,
                "loc": {
                  "start": {
                    "line": 129,
                    "column": 1,
                    "index": 5399
                  },
                  "end": {
                    "line": 131,
                    "column": 2,
                    "index": 5544
                  }
                },
                "range": [
                  5399,
                  5544
                ],
                "left": {
                  "type": "LogicalExpression",
                  "start": 5399,
                  "end": 5538,
                  "loc": {
                    "start": {
                      "line": 129,
                      "column": 1,
                      "index": 5399
                    },
                    "end": {
                      "line": 130,
                      "column": 68,
                      "index": 5538
                    }
                  },
                  "range": [
                    5399,
                    5538
                  ],
                  "left": {
                    "type": "BinaryExpression",
                    "start": 5399,
                    "end": 5466,
                    "loc": {
                      "start": {
                        "line": 129,
                        "column": 1,
                        "index": 5399
                      },
                      "end": {
                        "line": 129,
                        "column": 68,
                        "index": 5466
                      }
                    },
                    "range": [
                      5399,
                      5466
                    ],
                    "left": {
                      "type": "UnaryExpression",
                      "start": 5399,
                      "end": 5431,
                      "loc": {
                        "start": {
                          "line": 129,
                          "column": 1,
                          "index": 5399
                        },
                        "end": {
                          "line": 129,
                          "column": 33,
                          "index": 5431
                        }
                      },
                      "range": [
                        5399,
                        5431
                      ],
                      "operator": "+",
                      "prefix": true,
                      "argument": {
                        "type": "BinaryExpression",
                        "start": 5401,
                        "end": 5430,
                        "loc": {
                          "start": {
                            "line": 129,
                            "column": 3,
                            "index": 5401
                          },
                          "end": {
                            "line": 129,
                            "column": 32,
                            "index": 5430
                          }
                        },
                        "range": [
                          5401,
                          5430
                        ],
                        "left": {
                          "type": "MemberExpression",
                          "start": 5401,
                          "end": 5411,
                          "loc": {
                            "start": {
                              "line": 129,
                              "column": 3,
                              "index": 5401
                            },
                            "end": {
                              "line": 129,
                              "column": 13,
                              "index": 5411
                            }
                          },
                          "range": [
                            5401,
                            5411
                          ],
                          "object": {
                            "type": "Identifier",
                            "start": 5401,
                            "end": 5402,
                            "loc": {
                              "start": {
                                "line": 129,
                                "column": 3,
                                "index": 5401
                              },
                              "end": {
                                "line": 129,
                                "column": 4,
                                "index": 5402
                              },
                              "identifierName": "b"
                            },
                            "range": [
                              5401,
                              5402
                            ],
                            "name": "b"
                          },
                          "computed": false,
                          "property": {
                            "type": "Identifier",
                            "start": 5403,
                            "end": 5411,
                            "loc": {
                              "start": {
                                "line": 129,
                                "column": 5,
                                "index": 5403
                              },
                              "end": {
                                "line": 129,
                                "column": 13,
                                "index": 5411
                              },
                              "identifierName": "formatID"
                            },
                            "range": [
                              5403,
                              5411
                            ],
                            "name": "formatID"
                          }
                        },
                        "operator": "===",
                        "right": {
                          "type": "StringLiteral",
                          "start": 5416,
                          "end": 5430,
                          "loc": {
                            "start": {
                              "line": 129,
                              "column": 18,
                              "index": 5416
                            },
                            "end": {
                              "line": 129,
                              "column": 32,
                              "index": 5430
                            }
                          },
                          "range": [
                            5416,
                            5430
                          ],
                          "extra": {
                            "rawValue": "RIFF_PALETTE",
                            "raw": "\"RIFF_PALETTE\""
                          },
                          "value": "RIFF_PALETTE"
                        },
                        "extra": {
                          "parenthesized": true,
                          "parenStart": 5400
                        }
                      }
                    },
                    "operator": "-",
                    "right": {
                      "type": "UnaryExpression",
                      "start": 5434,
                      "end": 5466,
                      "loc": {
                        "start": {
                          "line": 129,
                          "column": 36,
                          "index": 5434
                        },
                        "end": {
                          "line": 129,
                          "column": 68,
                          "index": 5466
                        }
                      },
                      "range": [
                        5434,
                        5466
                      ],
                      "operator": "+",
                      "prefix": true,
                      "argument": {
                        "type": "BinaryExpression",
                        "start": 5436,
                        "end": 5465,
                        "loc": {
                          "start": {
                            "line": 129,
                            "column": 38,
                            "index": 5436
                          },
                          "end": {
                            "line": 129,
                            "column": 67,
                            "index": 5465
                          }
                        },
                        "range": [
                          5436,
                          5465
                        ],
                        "left": {
                          "type": "MemberExpression",
                          "start": 5436,
                          "end": 5446,
                          "loc": {
                            "start": {
                              "line": 129,
                              "column": 38,
                              "index": 5436
                            },
                            "end": {
                              "line": 129,
                              "column": 48,
                              "index": 5446
                            }
                          },
                          "range": [
                            5436,
                            5446
                          ],
                          "object": {
                            "type": "Identifier",
                            "start": 5436,
                            "end": 5437,
                            "loc": {
                              "start": {
                                "line": 129,
                                "column": 38,
                                "index": 5436
                              },
                              "end": {
                                "line": 129,
                                "column": 39,
                                "index": 5437
                              },
                              "identifierName": "a"
                            },
                            "range": [
                              5436,
                              5437
                            ],
                            "name": "a"
                          },
                          "computed": false,
                          "property": {
                            "type": "Identifier",
                            "start": 5438,
                            "end": 5446,
                            "loc": {
                              "start": {
                                "line": 129,
                                "column": 40,
                                "index": 5438
                              },
                              "end": {
                                "line": 129,
                                "column": 48,
                                "index": 5446
                              },
                              "identifierName": "formatID"
                            },
                            "range": [
                              5438,
                              5446
                            ],
                            "name": "formatID"
                          }
                        },
                        "operator": "===",
                        "right": {
                          "type": "StringLiteral",
                          "start": 5451,
                          "end": 5465,
                          "loc": {
                            "start": {
                              "line": 129,
                              "column": 53,
                              "index": 5451
                            },
                            "end": {
                              "line": 129,
                              "column": 67,
                              "index": 5465
                            }
                          },
                          "range": [
                            5451,
                            5465
                          ],
                          "extra": {
                            "rawValue": "RIFF_PALETTE",
                            "raw": "\"RIFF_PALETTE\""
                          },
                          "value": "RIFF_PALETTE"
                        },
                        "extra": {
                          "parenthesized": true,
                          "parenStart": 5435
                        }
                      }
                    }
                  },
                  "operator": "||",
                  "right": {
                    "type": "BinaryExpression",
                    "start": 5471,
                    "end": 5538,
                    "loc": {
                      "start": {
                        "line": 130,
                        "column": 1,
                        "index": 5471
                      },
                      "end": {
                        "line": 130,
                        "column": 68,
                        "index": 5538
                      }
                    },
                    "range": [
                      5471,
                      5538
                    ],
                    "left": {
                      "type": "UnaryExpression",
                      "start": 5471,
                      "end": 5503,
                      "loc": {
                        "start": {
                          "line": 130,
                          "column": 1,
                          "index": 5471
                        },
                        "end": {
                          "line": 130,
                          "column": 33,
                          "index": 5503
                        }
                      },
                      "range": [
                        5471,
                        5503
                      ],
                      "operator": "+",
                      "prefix": true,
                      "argument": {
                        "type": "BinaryExpression",
                        "start": 5473,
                        "end": 5502,
                        "loc": {
                          "start": {
                            "line": 130,
                            "column": 3,
                            "index": 5473
                          },
                          "end": {
                            "line": 130,
                            "column": 32,
                            "index": 5502
                          }
                        },
                        "range": [
                          5473,
                          5502
                        ],
                        "left": {
                          "type": "MemberExpression",
                          "start": 5473,
                          "end": 5483,
                          "loc": {
                            "start": {
                              "line": 130,
                              "column": 3,
                              "index": 5473
                            },
                            "end": {
                              "line": 130,
                              "column": 13,
                              "index": 5483
                            }
                          },
                          "range": [
                            5473,
                            5483
                          ],
                          "object": {
                            "type": "Identifier",
                            "start": 5473,
                            "end": 5474,
                            "loc": {
                              "start": {
                                "line": 130,
                                "column": 3,
                                "index": 5473
                              },
                              "end": {
                                "line": 130,
                                "column": 4,
                                "index": 5474
                              },
                              "identifierName": "b"
                            },
                            "range": [
                              5473,
                              5474
                            ],
                            "name": "b"
                          },
                          "computed": false,
                          "property": {
                            "type": "Identifier",
                            "start": 5475,
                            "end": 5483,
                            "loc": {
                              "start": {
                                "line": 130,
                                "column": 5,
                                "index": 5475
                              },
                              "end": {
                                "line": 130,
                                "column": 13,
                                "index": 5483
                              },
                              "identifierName": "formatID"
                            },
                            "range": [
                              5475,
                              5483
                            ],
                            "name": "formatID"
                          }
                        },
                        "operator": "===",
                        "right": {
                          "type": "StringLiteral",
                          "start": 5488,
                          "end": 5502,
                          "loc": {
                            "start": {
                              "line": 130,
                              "column": 18,
                              "index": 5488
                            },
                            "end": {
                              "line": 130,
                              "column": 32,
                              "index": 5502
                            }
                          },
                          "range": [
                            5488,
                            5502
                          ],
                          "extra": {
                            "rawValue": "GIMP_PALETTE",
                            "raw": "\"GIMP_PALETTE\""
                          },
                          "value": "GIMP_PALETTE"
                        },
                        "extra": {
                          "parenthesized": true,
                          "parenStart": 5472
                        }
                      }
                    },
                    "operator": "-",
                    "right": {
                      "type": "UnaryExpression",
                      "start": 5506,
                      "end": 5538,
                      "loc": {
                        "start": {
                          "line": 130,
                          "column": 36,
                          "index": 5506
                        },
                        "end": {
                          "line": 130,
                          "column": 68,
                          "index": 5538
                        }
                      },
                      "range": [
                        5506,
                        5538
                      ],
                      "operator": "+",
                      "prefix": true,
                      "argument": {
                        "type": "BinaryExpression",
                        "start": 5508,
                        "end": 5537,
                        "loc": {
                          "start": {
                            "line": 130,
                            "column": 38,
                            "index": 5508
                          },
                          "end": {
                            "line": 130,
                            "column": 67,
                            "index": 5537
                          }
                        },
                        "range": [
                          5508,
                          5537
                        ],
                        "left": {
                          "type": "MemberExpression",
                          "start": 5508,
                          "end": 5518,
                          "loc": {
                            "start": {
                              "line": 130,
                              "column": 38,
                              "index": 5508
                            },
                            "end": {
                              "line": 130,
                              "column": 48,
                              "index": 5518
                            }
                          },
                          "range": [
                            5508,
                            5518
                          ],
                          "object": {
                            "type": "Identifier",
                            "start": 5508,
                            "end": 5509,
                            "loc": {
                              "start": {
                                "line": 130,
                                "column": 38,
                                "index": 5508
                              },
                              "end": {
                                "line": 130,
                                "column": 39,
                                "index": 5509
                              },
                              "identifierName": "a"
                            },
                            "range": [
                              5508,
                              5509
                            ],
                            "name": "a"
                          },
                          "computed": false,
                          "property": {
                            "type": "Identifier",
                            "start": 5510,
                            "end": 5518,
                            "loc": {
                              "start": {
                                "line": 130,
                                "column": 40,
                                "index": 5510
                              },
                              "end": {
                                "line": 130,
                                "column": 48,
                                "index": 5518
                              },
                              "identifierName": "formatID"
                            },
                            "range": [
                              5510,
                              5518
                            ],
                            "name": "formatID"
                          }
                        },
                        "operator": "===",
                        "right": {
                          "type": "StringLiteral",
                          "start": 5523,
                          "end": 5537,
                          "loc": {
                            "start": {
                              "line": 130,
                              "column": 53,
                              "index": 5523
                            },
                            "end": {
                              "line": 130,
                              "column": 67,
                              "index": 5537
                            }
                          },
                          "range": [
                            5523,
                            5537
                          ],
                          "extra": {
                            "rawValue": "GIMP_PALETTE",
                            "raw": "\"GIMP_PALETTE\""
                          },
                          "value": "GIMP_PALETTE"
                        },
                        "extra": {
                          "parenthesized": true,
                          "parenStart": 5507
                        }
                      }
                    }
                  }
                },
                "operator": "||",
                "right": {
                  "type": "NumericLiteral",
                  "start": 5543,
                  "end": 5544,
                  "loc": {
                    "start": {
                      "line": 131,
                      "column": 1,
                      "index": 5543
                    },
                    "end": {
                      "line": 131,
                      "column": 2,
                      "index": 5544
                    }
                  },
                  "range": [
                    5543,
                    5544
                  ],
                  "extra": {
                    "rawValue": 0,
                    "raw": "0"
                  },
                  "value": 0
                },
                "leadingComments": [
                  {
                    "type": "CommentLine",
                    "value": " Order important formats first, starting with RIFF PAL format:",
                    "start": 5333,
                    "end": 5397,
                    "loc": {
                      "start": {
                        "line": 128,
                        "column": 1,
                        "index": 5333
                      },
                      "end": {
                        "line": 128,
                        "column": 65,
                        "index": 5397
                      }
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "type": "ExportNamedDeclaration",
        "start": 5549,
        "end": 5626,
        "loc": {
          "start": {
            "line": 134,
            "column": 0,
            "index": 5549
          },
          "end": {
            "line": 134,
            "column": 77,
            "index": 5626
          }
        },
        "range": [
          5549,
          5626
        ],
        "exportKind": "value",
        "specifiers": [
          {
            "type": "ExportSpecifier",
            "start": 5558,
            "end": 5591,
            "loc": {
              "start": {
                "line": 134,
                "column": 9,
                "index": 5558
              },
              "end": {
                "line": 134,
                "column": 42,
                "index": 5591
              }
            },
            "range": [
              5558,
              5591
            ],
            "local": {
              "type": "Identifier",
              "start": 5558,
              "end": 5591,
              "loc": {
                "start": {
                  "line": 134,
                  "column": 9,
                  "index": 5558
                },
                "end": {
                  "line": 134,
                  "column": 42,
                  "index": 5591
                },
                "identifierName": "formats_unique_per_file_extension"
              },
              "range": [
                5558,
                5591
              ],
              "name": "formats_unique_per_file_extension"
            },
            "exportKind": "value",
            "exported": {
              "type": "Identifier",
              "start": 5558,
              "end": 5591,
              "loc": {
                "start": {
                  "line": 134,
                  "column": 9,
                  "index": 5558
                },
                "end": {
                  "line": 134,
                  "column": 42,
                  "index": 5591
                },
                "identifierName": "formats_unique_per_file_extension"
              },
              "range": [
                5558,
                5591
              ],
              "name": "formats_unique_per_file_extension"
            }
          },
          {
            "type": "ExportSpecifier",
            "start": 5593,
            "end": 5606,
            "loc": {
              "start": {
                "line": 134,
                "column": 44,
                "index": 5593
              },
              "end": {
                "line": 134,
                "column": 57,
                "index": 5606
              }
            },
            "range": [
              5593,
              5606
            ],
            "local": {
              "type": "Identifier",
              "start": 5593,
              "end": 5606,
              "loc": {
                "start": {
                  "line": 134,
                  "column": 44,
                  "index": 5593
                },
                "end": {
                  "line": 134,
                  "column": 57,
                  "index": 5606
                },
                "identifierName": "image_formats"
              },
              "range": [
                5593,
                5606
              ],
              "name": "image_formats"
            },
            "exportKind": "value",
            "exported": {
              "type": "Identifier",
              "start": 5593,
              "end": 5606,
              "loc": {
                "start": {
                  "line": 134,
                  "column": 44,
                  "index": 5593
                },
                "end": {
                  "line": 134,
                  "column": 57,
                  "index": 5606
                },
                "identifierName": "image_formats"
              },
              "range": [
                5593,
                5606
              ],
              "name": "image_formats"
            }
          },
          {
            "type": "ExportSpecifier",
            "start": 5608,
            "end": 5623,
            "loc": {
              "start": {
                "line": 134,
                "column": 59,
                "index": 5608
              },
              "end": {
                "line": 134,
                "column": 74,
                "index": 5623
              }
            },
            "range": [
              5608,
              5623
            ],
            "local": {
              "type": "Identifier",
              "start": 5608,
              "end": 5623,
              "loc": {
                "start": {
                  "line": 134,
                  "column": 59,
                  "index": 5608
                },
                "end": {
                  "line": 134,
                  "column": 74,
                  "index": 5623
                },
                "identifierName": "palette_formats"
              },
              "range": [
                5608,
                5623
              ],
              "name": "palette_formats"
            },
            "exportKind": "value",
            "exported": {
              "type": "Identifier",
              "start": 5608,
              "end": 5623,
              "loc": {
                "start": {
                  "line": 134,
                  "column": 59,
                  "index": 5608
                },
                "end": {
                  "line": 134,
                  "column": 74,
                  "index": 5623
                },
                "identifierName": "palette_formats"
              },
              "range": [
                5608,
                5623
              ],
              "name": "palette_formats"
            }
          }
        ],
        "source": null,
        "attributes": [],
        "declaration": null,
        "trailingComments": [
          {
            "type": "CommentLine",
            "value": " Temporary globals until all dependent code is converted to ES Modules",
            "start": 5627,
            "end": 5699,
            "loc": {
              "start": {
                "line": 135,
                "column": 0,
                "index": 5627
              },
              "end": {
                "line": 135,
                "column": 72,
                "index": 5699
              }
            }
          }
        ]
      },
      {
        "type": "ExpressionStatement",
        "start": 5700,
        "end": 5777,
        "loc": {
          "start": {
            "line": 136,
            "column": 0,
            "index": 5700
          },
          "end": {
            "line": 136,
            "column": 77,
            "index": 5777
          }
        },
        "range": [
          5700,
          5777
        ],
        "expression": {
          "type": "AssignmentExpression",
          "start": 5700,
          "end": 5776,
          "loc": {
            "start": {
              "line": 136,
              "column": 0,
              "index": 5700
            },
            "end": {
              "line": 136,
              "column": 76,
              "index": 5776
            }
          },
          "range": [
            5700,
            5776
          ],
          "operator": "=",
          "left": {
            "type": "MemberExpression",
            "start": 5700,
            "end": 5740,
            "loc": {
              "start": {
                "line": 136,
                "column": 0,
                "index": 5700
              },
              "end": {
                "line": 136,
                "column": 40,
                "index": 5740
              }
            },
            "range": [
              5700,
              5740
            ],
            "object": {
              "type": "Identifier",
              "start": 5700,
              "end": 5706,
              "loc": {
                "start": {
                  "line": 136,
                  "column": 0,
                  "index": 5700
                },
                "end": {
                  "line": 136,
                  "column": 6,
                  "index": 5706
                },
                "identifierName": "window"
              },
              "range": [
                5700,
                5706
              ],
              "name": "window"
            },
            "computed": false,
            "property": {
              "type": "Identifier",
              "start": 5707,
              "end": 5740,
              "loc": {
                "start": {
                  "line": 136,
                  "column": 7,
                  "index": 5707
                },
                "end": {
                  "line": 136,
                  "column": 40,
                  "index": 5740
                },
                "identifierName": "formats_unique_per_file_extension"
              },
              "range": [
                5707,
                5740
              ],
              "name": "formats_unique_per_file_extension"
            }
          },
          "right": {
            "type": "Identifier",
            "start": 5743,
            "end": 5776,
            "loc": {
              "start": {
                "line": 136,
                "column": 43,
                "index": 5743
              },
              "end": {
                "line": 136,
                "column": 76,
                "index": 5776
              },
              "identifierName": "formats_unique_per_file_extension"
            },
            "range": [
              5743,
              5776
            ],
            "name": "formats_unique_per_file_extension"
          }
        },
        "trailingComments": [
          {
            "type": "CommentLine",
            "value": " used by electron-injected.js",
            "start": 5778,
            "end": 5809,
            "loc": {
              "start": {
                "line": 136,
                "column": 78,
                "index": 5778
              },
              "end": {
                "line": 136,
                "column": 109,
                "index": 5809
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentLine",
            "value": " Temporary globals until all dependent code is converted to ES Modules",
            "start": 5627,
            "end": 5699,
            "loc": {
              "start": {
                "line": 135,
                "column": 0,
                "index": 5627
              },
              "end": {
                "line": 135,
                "column": 72,
                "index": 5699
              }
            }
          }
        ]
      }
    ],
    "directives": [],
    "extra": {
      "topLevelAwait": false
    }
  },
  "comments": [
    {
      "type": "CommentLine",
      "value": " @ts-check",
      "start": 0,
      "end": 12,
      "loc": {
        "start": {
          "line": 1,
          "column": 0,
          "index": 0
        },
        "end": {
          "line": 1,
          "column": 12,
          "index": 12
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": " global get_direction, localize ",
      "start": 13,
      "end": 49,
      "loc": {
        "start": {
          "line": 2,
          "column": 0,
          "index": 13
        },
        "end": {
          "line": 2,
          "column": 36,
          "index": 49
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " import { get_direction, localize } from \"./app-localization.js\";",
      "start": 51,
      "end": 118,
      "loc": {
        "start": {
          "line": 4,
          "column": 0,
          "index": 51
        },
        "end": {
          "line": 4,
          "column": 67,
          "index": 118
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {ImageFileFormat[]} ",
      "start": 120,
      "end": 152,
      "loc": {
        "start": {
          "line": 6,
          "column": 0,
          "index": 120
        },
        "end": {
          "line": 6,
          "column": 32,
          "index": 152
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " const ext_to_image_formats = {}; // there can be multiple with the same extension, e.g. different bit depth BMP files",
      "start": 177,
      "end": 297,
      "loc": {
        "start": {
          "line": 8,
          "column": 0,
          "index": 177
        },
        "end": {
          "line": 8,
          "column": 120,
          "index": 297
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " const mime_type_to_image_formats = {};",
      "start": 298,
      "end": 339,
      "loc": {
        "start": {
          "line": 9,
          "column": 0,
          "index": 298
        },
        "end": {
          "line": 9,
          "column": 41,
          "index": 339
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "*\n * @param {string} mime_type\n * @param {string} name_and_exts\n * @param {ImageFileFormat[]} [target_array]\n ",
      "start": 340,
      "end": 454,
      "loc": {
        "start": {
          "line": 10,
          "column": 0,
          "index": 340
        },
        "end": {
          "line": 14,
          "column": 3,
          "index": 454
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " Note: some localizations have commas instead of semicolons to separate file extensions",
      "start": 543,
      "end": 632,
      "loc": {
        "start": {
          "line": 16,
          "column": 1,
          "index": 543
        },
        "end": {
          "line": 16,
          "column": 90,
          "index": 632
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " Assumption: file extensions are never localized",
      "start": 634,
      "end": 684,
      "loc": {
        "start": {
          "line": 17,
          "column": 1,
          "index": 634
        },
        "end": {
          "line": 17,
          "column": 51,
          "index": 684
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " eslint-disable-next-line no-cond-assign",
      "start": 1117,
      "end": 1159,
      "loc": {
        "start": {
          "line": 32,
          "column": 1,
          "index": 1117
        },
        "end": {
          "line": 32,
          "column": 43,
          "index": 1159
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " ext_to_image_formats[ext] = ext_to_image_formats[ext] || [];",
      "start": 1236,
      "end": 1299,
      "loc": {
        "start": {
          "line": 35,
          "column": 2,
          "index": 1236
        },
        "end": {
          "line": 35,
          "column": 65,
          "index": 1299
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " ext_to_image_formats[ext].push(format);",
      "start": 1302,
      "end": 1344,
      "loc": {
        "start": {
          "line": 36,
          "column": 2,
          "index": 1302
        },
        "end": {
          "line": 36,
          "column": 44,
          "index": 1344
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " mime_type_to_image_formats[mime_type] = mime_type_to_image_formats[mime_type] || [];",
      "start": 1347,
      "end": 1434,
      "loc": {
        "start": {
          "line": 37,
          "column": 2,
          "index": 1347
        },
        "end": {
          "line": 37,
          "column": 89,
          "index": 1434
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " mime_type_to_image_formats[mime_type].push(format);",
      "start": 1437,
      "end": 1491,
      "loc": {
        "start": {
          "line": 38,
          "column": 2,
          "index": 1437
        },
        "end": {
          "line": 38,
          "column": 56,
          "index": 1491
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " First file extension in a parenthetical defines default for the format.",
      "start": 1558,
      "end": 1632,
      "loc": {
        "start": {
          "line": 44,
          "column": 0,
          "index": 1558
        },
        "end": {
          "line": 44,
          "column": 74,
          "index": 1632
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " Strings are localized in add_image_format, don't need localize() here.",
      "start": 1633,
      "end": 1706,
      "loc": {
        "start": {
          "line": 45,
          "column": 0,
          "index": 1633
        },
        "end": {
          "line": 45,
          "column": 73,
          "index": 1706
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " add_image_format(\"image/x-bmp-32bpp\", \"32-bit Transparent Bitmap (*.bmp;*.dib)\");",
      "start": 2249,
      "end": 2333,
      "loc": {
        "start": {
          "line": 55,
          "column": 0,
          "index": 2249
        },
        "end": {
          "line": 55,
          "column": 84,
          "index": 2333
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "*\n * Filter to only support 24bpp BMP files for File System Access API and Electron save dialog,\n * as these APIs don't allow you to access the selected file type.\n * You can only guess it from the file extension the user types.\n * @template {FileFormat} T\n * @param {T[]} formats\n * @returns {T[]}\n ",
      "start": 2335,
      "end": 2639,
      "loc": {
        "start": {
          "line": 57,
          "column": 0,
          "index": 2335
        },
        "end": {
          "line": 64,
          "column": 3,
          "index": 2639
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " first handle BMP format specifically to make sure the 24-bpp is the selected BMP format",
      "start": 2698,
      "end": 2788,
      "loc": {
        "start": {
          "line": 66,
          "column": 1,
          "index": 2698
        },
        "end": {
          "line": 66,
          "column": 91,
          "index": 2788
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "*@type {ImageFileFormat}",
      "start": 2866,
      "end": 2894,
      "loc": {
        "start": {
          "line": 68,
          "column": 39,
          "index": 2866
        },
        "end": {
          "line": 68,
          "column": 67,
          "index": 2894
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " then generally uniquify on extensions",
      "start": 2941,
      "end": 2981,
      "loc": {
        "start": {
          "line": 70,
          "column": 1,
          "index": 2941
        },
        "end": {
          "line": 70,
          "column": 41,
          "index": 2981
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " (this could be overzealous in case of partial overlap in extensions of different formats,",
      "start": 2983,
      "end": 3075,
      "loc": {
        "start": {
          "line": 71,
          "column": 1,
          "index": 2983
        },
        "end": {
          "line": 71,
          "column": 93,
          "index": 3075
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " but in general it needs special care anyways, to decide which format should win)",
      "start": 3077,
      "end": 3160,
      "loc": {
        "start": {
          "line": 72,
          "column": 1,
          "index": 3077
        },
        "end": {
          "line": 72,
          "column": 84,
          "index": 3160
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " This can't be simply chained with the above because it needs to use the intermediate, partially filtered formats array.",
      "start": 3162,
      "end": 3284,
      "loc": {
        "start": {
          "line": 73,
          "column": 1,
          "index": 3162
        },
        "end": {
          "line": 73,
          "column": 123,
          "index": 3284
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " For the Open dialog, show more general format categories, like \"Bitmap Files\", maybe \"Icon Files\", etc.",
      "start": 3535,
      "end": 3641,
      "loc": {
        "start": {
          "line": 84,
          "column": 0,
          "index": 3535
        },
        "end": {
          "line": 84,
          "column": 106,
          "index": 3641
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " @TODO: probably need to do this differently for showOpenFilePicker...",
      "start": 3642,
      "end": 3714,
      "loc": {
        "start": {
          "line": 85,
          "column": 0,
          "index": 3642
        },
        "end": {
          "line": 85,
          "column": 72,
          "index": 3714
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "\nconst image_format_categories = (image_formats) => {\n\timage_formats = image_formats.filter((format) =>\n\t\t!format.extensions.includes(\"bmp\")\n\t);\n\tadd_image_format(\"image/bmp\", localize(\"Bitmap Files (*.bmp)\").replace(\"(*.bmp)\", \"(*.bmp;*.dib)\"), image_formats);\n\t// add_image_format(\"\", \"Icon Files (*.ico;*.cur;*.ani;*.icns)\", image_formats);\n\t// add_image_format(\"\", \"All Picture Files\", image_formats);\n\t// add_image_format(\"\", \"All Files\", image_formats);\n\timage_formats.push({\n\t\t// TODO: we don't treat formatID and mimeType interchangeably, do we?\n\t\tformatID: \"IMAGE_FILES\",\n\t\tmimeType: \"image/*\", // but also application/pdf, not included here, but hopefully the mime type isn't what we go off of (I don't remember)\n\t\tname: localize(\"All Picture Files\"),\n\t\tnameWithExtensions: localize(\"All Picture Files\"),\n\t\textensions: image_formats.map((format) => format.extensions).flat(),\n\t});\n\timage_formats.push({\n\t\tformatID: \"ALL_FILES\",\n\t\tmimeType: \"*\" + \"/*\",\n\t\tname: localize(\"All Files\"),\n\t\tnameWithExtensions: localize(\"All Files\"),\n\t\textensions: [\"*\"], // Note: no other wildcard is allowed in the extension list\n\t});\n\treturn image_formats;\n};\n",
      "start": 3715,
      "end": 4869,
      "loc": {
        "start": {
          "line": 86,
          "column": 0,
          "index": 3715
        },
        "end": {
          "line": 112,
          "column": 2,
          "index": 4869
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {PaletteFileFormat[]} ",
      "start": 4871,
      "end": 4905,
      "loc": {
        "start": {
          "line": 114,
          "column": 0,
          "index": 4871
        },
        "end": {
          "line": 114,
          "column": 34,
          "index": 4905
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " Order important formats first, starting with RIFF PAL format:",
      "start": 5333,
      "end": 5397,
      "loc": {
        "start": {
          "line": 128,
          "column": 1,
          "index": 5333
        },
        "end": {
          "line": 128,
          "column": 65,
          "index": 5397
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " Temporary globals until all dependent code is converted to ES Modules",
      "start": 5627,
      "end": 5699,
      "loc": {
        "start": {
          "line": 135,
          "column": 0,
          "index": 5627
        },
        "end": {
          "line": 135,
          "column": 72,
          "index": 5699
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " used by electron-injected.js",
      "start": 5778,
      "end": 5809,
      "loc": {
        "start": {
          "line": 136,
          "column": 78,
          "index": 5778
        },
        "end": {
          "line": 136,
          "column": 109,
          "index": 5809
        }
      }
    }
  ]
}
{
  "type": "File",
  "start": 0,
  "end": 7091,
  "loc": {
    "start": {
      "line": 1,
      "column": 0,
      "index": 0
    },
    "end": {
      "line": 183,
      "column": 0,
      "index": 7091
    }
  },
  "range": [
    0,
    7091
  ],
  "errors": [],
  "program": {
    "type": "Program",
    "start": 0,
    "end": 7091,
    "loc": {
      "start": {
        "line": 1,
        "column": 0,
        "index": 0
      },
      "end": {
        "line": 183,
        "column": 0,
        "index": 7091
      }
    },
    "range": [
      0,
      7091
    ],
    "sourceType": "module",
    "interpreter": null,
    "body": [
      {
        "type": "VariableDeclaration",
        "start": 1489,
        "end": 1521,
        "loc": {
          "start": {
            "line": 14,
            "column": 0,
            "index": 1489
          },
          "end": {
            "line": 14,
            "column": 32,
            "index": 1521
          }
        },
        "range": [
          1489,
          1521
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 1495,
            "end": 1520,
            "loc": {
              "start": {
                "line": 14,
                "column": 6,
                "index": 1495
              },
              "end": {
                "line": 14,
                "column": 31,
                "index": 1520
              }
            },
            "range": [
              1495,
              1520
            ],
            "id": {
              "type": "Identifier",
              "start": 1495,
              "end": 1516,
              "loc": {
                "start": {
                  "line": 14,
                  "column": 6,
                  "index": 1495
                },
                "end": {
                  "line": 14,
                  "column": 27,
                  "index": 1516
                },
                "identifierName": "default_magnification"
              },
              "range": [
                1495,
                1516
              ],
              "name": "default_magnification"
            },
            "init": {
              "type": "NumericLiteral",
              "start": 1519,
              "end": 1520,
              "loc": {
                "start": {
                  "line": 14,
                  "column": 30,
                  "index": 1519
                },
                "end": {
                  "line": 14,
                  "column": 31,
                  "index": 1520
                }
              },
              "range": [
                1519,
                1520
              ],
              "extra": {
                "rawValue": 1,
                "raw": "1"
              },
              "value": 1
            }
          }
        ],
        "kind": "const",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {Tool} ",
            "start": 1523,
            "end": 1542,
            "loc": {
              "start": {
                "line": 16,
                "column": 0,
                "index": 1523
              },
              "end": {
                "line": 16,
                "column": 19,
                "index": 1542
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentLine",
            "value": " @ts-check",
            "start": 0,
            "end": 12,
            "loc": {
              "start": {
                "line": 1,
                "column": 0,
                "index": 0
              },
              "end": {
                "line": 1,
                "column": 12,
                "index": 12
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": " exported $thumbnail_window, airbrush_size, aliasing, brush_shape, brush_size, button, ctrl, current_history_node, enable_fs_access_api, enable_palette_loading_from_indexed_images, eraser_size, file_format, file_name, fill_color, helper_layer, history_node_to_cancel_to, magnification, main_ctx, monochrome, monochrome_palette, my_canvas_height, my_canvas_width, palette, pencil_size, pick_color_slot, pointer, pointer_active, pointer_buttons, pointer_over_canvas, pointer_previous, pointer_start, pointer_type, pointers, polychrome_palette, redos, return_to_magnification, return_to_tools, reverse, root_history_node, saved, selected_colors, selected_tool, selected_tools, selection, shift, show_grid, show_thumbnail, stroke_color, stroke_size, system_file_handle, text_tool_font, textbox, thumbnail_canvas, tool_transparent_mode, transparency, undos, update_helper_layer_on_pointermove_active ",
            "start": 13,
            "end": 912,
            "loc": {
              "start": {
                "line": 2,
                "column": 0,
                "index": 13
              },
              "end": {
                "line": 2,
                "column": 899,
                "index": 912
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " Can't import things until this file is a module...",
            "start": 914,
            "end": 967,
            "loc": {
              "start": {
                "line": 4,
                "column": 0,
                "index": 914
              },
              "end": {
                "line": 4,
                "column": 53,
                "index": 967
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " (Well, could use dynamic imports, but that's async and thus probably as complicated as getting it to work with all ESM.)",
            "start": 968,
            "end": 1091,
            "loc": {
              "start": {
                "line": 5,
                "column": 0,
                "index": 968
              },
              "end": {
                "line": 5,
                "column": 123,
                "index": 1091
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " import { default_palette } from \"./color-data.js\";",
            "start": 1092,
            "end": 1145,
            "loc": {
              "start": {
                "line": 6,
                "column": 0,
                "index": 1092
              },
              "end": {
                "line": 6,
                "column": 53,
                "index": 1145
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " import { get_tool_by_id, make_monochrome_palette, make_history_node } from \"./functions.js\";",
            "start": 1146,
            "end": 1241,
            "loc": {
              "start": {
                "line": 7,
                "column": 0,
                "index": 1146
              },
              "end": {
                "line": 7,
                "column": 95,
                "index": 1241
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " import { make_canvas } from \"./helpers.js\";",
            "start": 1242,
            "end": 1288,
            "loc": {
              "start": {
                "line": 8,
                "column": 0,
                "index": 1242
              },
              "end": {
                "line": 8,
                "column": 46,
                "index": 1288
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " import { TOOL_PENCIL } from \"./tools.js\";",
            "start": 1289,
            "end": 1333,
            "loc": {
              "start": {
                "line": 9,
                "column": 0,
                "index": 1289
              },
              "end": {
                "line": 9,
                "column": 44,
                "index": 1333
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " Causes TypeScript errors",
            "start": 1335,
            "end": 1362,
            "loc": {
              "start": {
                "line": 11,
                "column": 0,
                "index": 1335
              },
              "end": {
                "line": 11,
                "column": 27,
                "index": 1362
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " const { get_tool_by_id, make_monochrome_palette, make_history_node, default_palette, make_canvas, TOOL_PENCIL } = window;",
            "start": 1363,
            "end": 1487,
            "loc": {
              "start": {
                "line": 12,
                "column": 0,
                "index": 1363
              },
              "end": {
                "line": 12,
                "column": 124,
                "index": 1487
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 1543,
        "end": 1606,
        "loc": {
          "start": {
            "line": 17,
            "column": 0,
            "index": 1543
          },
          "end": {
            "line": 17,
            "column": 63,
            "index": 1606
          }
        },
        "range": [
          1543,
          1606
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 1549,
            "end": 1605,
            "loc": {
              "start": {
                "line": 17,
                "column": 6,
                "index": 1549
              },
              "end": {
                "line": 17,
                "column": 62,
                "index": 1605
              }
            },
            "range": [
              1549,
              1605
            ],
            "id": {
              "type": "Identifier",
              "start": 1549,
              "end": 1561,
              "loc": {
                "start": {
                  "line": 17,
                  "column": 6,
                  "index": 1549
                },
                "end": {
                  "line": 17,
                  "column": 18,
                  "index": 1561
                },
                "identifierName": "default_tool"
              },
              "range": [
                1549,
                1561
              ],
              "name": "default_tool"
            },
            "init": {
              "type": "CallExpression",
              "start": 1564,
              "end": 1605,
              "loc": {
                "start": {
                  "line": 17,
                  "column": 21,
                  "index": 1564
                },
                "end": {
                  "line": 17,
                  "column": 62,
                  "index": 1605
                }
              },
              "range": [
                1564,
                1605
              ],
              "callee": {
                "type": "MemberExpression",
                "start": 1564,
                "end": 1585,
                "loc": {
                  "start": {
                    "line": 17,
                    "column": 21,
                    "index": 1564
                  },
                  "end": {
                    "line": 17,
                    "column": 42,
                    "index": 1585
                  }
                },
                "range": [
                  1564,
                  1585
                ],
                "object": {
                  "type": "Identifier",
                  "start": 1564,
                  "end": 1570,
                  "loc": {
                    "start": {
                      "line": 17,
                      "column": 21,
                      "index": 1564
                    },
                    "end": {
                      "line": 17,
                      "column": 27,
                      "index": 1570
                    },
                    "identifierName": "window"
                  },
                  "range": [
                    1564,
                    1570
                  ],
                  "name": "window"
                },
                "computed": false,
                "property": {
                  "type": "Identifier",
                  "start": 1571,
                  "end": 1585,
                  "loc": {
                    "start": {
                      "line": 17,
                      "column": 28,
                      "index": 1571
                    },
                    "end": {
                      "line": 17,
                      "column": 42,
                      "index": 1585
                    },
                    "identifierName": "get_tool_by_id"
                  },
                  "range": [
                    1571,
                    1585
                  ],
                  "name": "get_tool_by_id"
                }
              },
              "arguments": [
                {
                  "type": "MemberExpression",
                  "start": 1586,
                  "end": 1604,
                  "loc": {
                    "start": {
                      "line": 17,
                      "column": 43,
                      "index": 1586
                    },
                    "end": {
                      "line": 17,
                      "column": 61,
                      "index": 1604
                    }
                  },
                  "range": [
                    1586,
                    1604
                  ],
                  "object": {
                    "type": "Identifier",
                    "start": 1586,
                    "end": 1592,
                    "loc": {
                      "start": {
                        "line": 17,
                        "column": 43,
                        "index": 1586
                      },
                      "end": {
                        "line": 17,
                        "column": 49,
                        "index": 1592
                      },
                      "identifierName": "window"
                    },
                    "range": [
                      1586,
                      1592
                    ],
                    "name": "window"
                  },
                  "computed": false,
                  "property": {
                    "type": "Identifier",
                    "start": 1593,
                    "end": 1604,
                    "loc": {
                      "start": {
                        "line": 17,
                        "column": 50,
                        "index": 1593
                      },
                      "end": {
                        "line": 17,
                        "column": 61,
                        "index": 1604
                      },
                      "identifierName": "TOOL_PENCIL"
                    },
                    "range": [
                      1593,
                      1604
                    ],
                    "name": "TOOL_PENCIL"
                  }
                }
              ]
            }
          }
        ],
        "kind": "const",
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {Tool} ",
            "start": 1523,
            "end": 1542,
            "loc": {
              "start": {
                "line": 16,
                "column": 0,
                "index": 1523
              },
              "end": {
                "line": 16,
                "column": 19,
                "index": 1542
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 1608,
        "end": 1641,
        "loc": {
          "start": {
            "line": 19,
            "column": 0,
            "index": 1608
          },
          "end": {
            "line": 19,
            "column": 33,
            "index": 1641
          }
        },
        "range": [
          1608,
          1641
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 1614,
            "end": 1640,
            "loc": {
              "start": {
                "line": 19,
                "column": 6,
                "index": 1614
              },
              "end": {
                "line": 19,
                "column": 32,
                "index": 1640
              }
            },
            "range": [
              1614,
              1640
            ],
            "id": {
              "type": "Identifier",
              "start": 1614,
              "end": 1634,
              "loc": {
                "start": {
                  "line": 19,
                  "column": 6,
                  "index": 1614
                },
                "end": {
                  "line": 19,
                  "column": 26,
                  "index": 1634
                },
                "identifierName": "default_canvas_width"
              },
              "range": [
                1614,
                1634
              ],
              "name": "default_canvas_width"
            },
            "init": {
              "type": "NumericLiteral",
              "start": 1637,
              "end": 1640,
              "loc": {
                "start": {
                  "line": 19,
                  "column": 29,
                  "index": 1637
                },
                "end": {
                  "line": 19,
                  "column": 32,
                  "index": 1640
                }
              },
              "range": [
                1637,
                1640
              ],
              "extra": {
                "rawValue": 683,
                "raw": "683"
              },
              "value": 683
            }
          }
        ],
        "kind": "const"
      },
      {
        "type": "VariableDeclaration",
        "start": 1642,
        "end": 1676,
        "loc": {
          "start": {
            "line": 20,
            "column": 0,
            "index": 1642
          },
          "end": {
            "line": 20,
            "column": 34,
            "index": 1676
          }
        },
        "range": [
          1642,
          1676
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 1648,
            "end": 1675,
            "loc": {
              "start": {
                "line": 20,
                "column": 6,
                "index": 1648
              },
              "end": {
                "line": 20,
                "column": 33,
                "index": 1675
              }
            },
            "range": [
              1648,
              1675
            ],
            "id": {
              "type": "Identifier",
              "start": 1648,
              "end": 1669,
              "loc": {
                "start": {
                  "line": 20,
                  "column": 6,
                  "index": 1648
                },
                "end": {
                  "line": 20,
                  "column": 27,
                  "index": 1669
                },
                "identifierName": "default_canvas_height"
              },
              "range": [
                1648,
                1669
              ],
              "name": "default_canvas_height"
            },
            "init": {
              "type": "NumericLiteral",
              "start": 1672,
              "end": 1675,
              "loc": {
                "start": {
                  "line": 20,
                  "column": 30,
                  "index": 1672
                },
                "end": {
                  "line": 20,
                  "column": 33,
                  "index": 1675
                }
              },
              "range": [
                1672,
                1675
              ],
              "extra": {
                "rawValue": 384,
                "raw": "384"
              },
              "value": 384
            }
          }
        ],
        "kind": "const"
      },
      {
        "type": "VariableDeclaration",
        "start": 1677,
        "end": 1720,
        "loc": {
          "start": {
            "line": 21,
            "column": 0,
            "index": 1677
          },
          "end": {
            "line": 21,
            "column": 43,
            "index": 1720
          }
        },
        "range": [
          1677,
          1720
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 1681,
            "end": 1719,
            "loc": {
              "start": {
                "line": 21,
                "column": 4,
                "index": 1681
              },
              "end": {
                "line": 21,
                "column": 42,
                "index": 1719
              }
            },
            "range": [
              1681,
              1719
            ],
            "id": {
              "type": "Identifier",
              "start": 1681,
              "end": 1696,
              "loc": {
                "start": {
                  "line": 21,
                  "column": 4,
                  "index": 1681
                },
                "end": {
                  "line": 21,
                  "column": 19,
                  "index": 1696
                },
                "identifierName": "my_canvas_width"
              },
              "range": [
                1681,
                1696
              ],
              "name": "my_canvas_width"
            },
            "init": {
              "type": "Identifier",
              "start": 1699,
              "end": 1719,
              "loc": {
                "start": {
                  "line": 21,
                  "column": 22,
                  "index": 1699
                },
                "end": {
                  "line": 21,
                  "column": 42,
                  "index": 1719
                },
                "identifierName": "default_canvas_width"
              },
              "range": [
                1699,
                1719
              ],
              "name": "default_canvas_width"
            }
          }
        ],
        "kind": "let"
      },
      {
        "type": "VariableDeclaration",
        "start": 1721,
        "end": 1766,
        "loc": {
          "start": {
            "line": 22,
            "column": 0,
            "index": 1721
          },
          "end": {
            "line": 22,
            "column": 45,
            "index": 1766
          }
        },
        "range": [
          1721,
          1766
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 1725,
            "end": 1765,
            "loc": {
              "start": {
                "line": 22,
                "column": 4,
                "index": 1725
              },
              "end": {
                "line": 22,
                "column": 44,
                "index": 1765
              }
            },
            "range": [
              1725,
              1765
            ],
            "id": {
              "type": "Identifier",
              "start": 1725,
              "end": 1741,
              "loc": {
                "start": {
                  "line": 22,
                  "column": 4,
                  "index": 1725
                },
                "end": {
                  "line": 22,
                  "column": 20,
                  "index": 1741
                },
                "identifierName": "my_canvas_height"
              },
              "range": [
                1725,
                1741
              ],
              "name": "my_canvas_height"
            },
            "init": {
              "type": "Identifier",
              "start": 1744,
              "end": 1765,
              "loc": {
                "start": {
                  "line": 22,
                  "column": 23,
                  "index": 1744
                },
                "end": {
                  "line": 22,
                  "column": 44,
                  "index": 1765
                },
                "identifierName": "default_canvas_height"
              },
              "range": [
                1744,
                1765
              ],
              "name": "default_canvas_height"
            }
          }
        ],
        "kind": "let"
      },
      {
        "type": "VariableDeclaration",
        "start": 1768,
        "end": 1788,
        "loc": {
          "start": {
            "line": 24,
            "column": 0,
            "index": 1768
          },
          "end": {
            "line": 24,
            "column": 20,
            "index": 1788
          }
        },
        "range": [
          1768,
          1788
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 1772,
            "end": 1787,
            "loc": {
              "start": {
                "line": 24,
                "column": 4,
                "index": 1772
              },
              "end": {
                "line": 24,
                "column": 19,
                "index": 1787
              }
            },
            "range": [
              1772,
              1787
            ],
            "id": {
              "type": "Identifier",
              "start": 1772,
              "end": 1780,
              "loc": {
                "start": {
                  "line": 24,
                  "column": 4,
                  "index": 1772
                },
                "end": {
                  "line": 24,
                  "column": 12,
                  "index": 1780
                },
                "identifierName": "aliasing"
              },
              "range": [
                1772,
                1780
              ],
              "name": "aliasing"
            },
            "init": {
              "type": "BooleanLiteral",
              "start": 1783,
              "end": 1787,
              "loc": {
                "start": {
                  "line": 24,
                  "column": 15,
                  "index": 1783
                },
                "end": {
                  "line": 24,
                  "column": 19,
                  "index": 1787
                }
              },
              "range": [
                1783,
                1787
              ],
              "value": true
            }
          }
        ],
        "kind": "let"
      },
      {
        "type": "VariableDeclaration",
        "start": 1789,
        "end": 1814,
        "loc": {
          "start": {
            "line": 25,
            "column": 0,
            "index": 1789
          },
          "end": {
            "line": 25,
            "column": 25,
            "index": 1814
          }
        },
        "range": [
          1789,
          1814
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 1793,
            "end": 1813,
            "loc": {
              "start": {
                "line": 25,
                "column": 4,
                "index": 1793
              },
              "end": {
                "line": 25,
                "column": 24,
                "index": 1813
              }
            },
            "range": [
              1793,
              1813
            ],
            "id": {
              "type": "Identifier",
              "start": 1793,
              "end": 1805,
              "loc": {
                "start": {
                  "line": 25,
                  "column": 4,
                  "index": 1793
                },
                "end": {
                  "line": 25,
                  "column": 16,
                  "index": 1805
                },
                "identifierName": "transparency"
              },
              "range": [
                1793,
                1805
              ],
              "name": "transparency"
            },
            "init": {
              "type": "BooleanLiteral",
              "start": 1808,
              "end": 1813,
              "loc": {
                "start": {
                  "line": 25,
                  "column": 19,
                  "index": 1808
                },
                "end": {
                  "line": 25,
                  "column": 24,
                  "index": 1813
                }
              },
              "range": [
                1808,
                1813
              ],
              "value": false
            }
          }
        ],
        "kind": "let"
      },
      {
        "type": "VariableDeclaration",
        "start": 1815,
        "end": 1838,
        "loc": {
          "start": {
            "line": 26,
            "column": 0,
            "index": 1815
          },
          "end": {
            "line": 26,
            "column": 23,
            "index": 1838
          }
        },
        "range": [
          1815,
          1838
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 1819,
            "end": 1837,
            "loc": {
              "start": {
                "line": 26,
                "column": 4,
                "index": 1819
              },
              "end": {
                "line": 26,
                "column": 22,
                "index": 1837
              }
            },
            "range": [
              1819,
              1837
            ],
            "id": {
              "type": "Identifier",
              "start": 1819,
              "end": 1829,
              "loc": {
                "start": {
                  "line": 26,
                  "column": 4,
                  "index": 1819
                },
                "end": {
                  "line": 26,
                  "column": 14,
                  "index": 1829
                },
                "identifierName": "monochrome"
              },
              "range": [
                1819,
                1829
              ],
              "name": "monochrome"
            },
            "init": {
              "type": "BooleanLiteral",
              "start": 1832,
              "end": 1837,
              "loc": {
                "start": {
                  "line": 26,
                  "column": 17,
                  "index": 1832
                },
                "end": {
                  "line": 26,
                  "column": 22,
                  "index": 1837
                }
              },
              "range": [
                1832,
                1837
              ],
              "value": false
            }
          }
        ],
        "kind": "let"
      },
      {
        "type": "VariableDeclaration",
        "start": 1840,
        "end": 1882,
        "loc": {
          "start": {
            "line": 28,
            "column": 0,
            "index": 1840
          },
          "end": {
            "line": 28,
            "column": 42,
            "index": 1882
          }
        },
        "range": [
          1840,
          1882
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 1844,
            "end": 1881,
            "loc": {
              "start": {
                "line": 28,
                "column": 4,
                "index": 1844
              },
              "end": {
                "line": 28,
                "column": 41,
                "index": 1881
              }
            },
            "range": [
              1844,
              1881
            ],
            "id": {
              "type": "Identifier",
              "start": 1844,
              "end": 1857,
              "loc": {
                "start": {
                  "line": 28,
                  "column": 4,
                  "index": 1844
                },
                "end": {
                  "line": 28,
                  "column": 17,
                  "index": 1857
                },
                "identifierName": "magnification"
              },
              "range": [
                1844,
                1857
              ],
              "name": "magnification"
            },
            "init": {
              "type": "Identifier",
              "start": 1860,
              "end": 1881,
              "loc": {
                "start": {
                  "line": 28,
                  "column": 20,
                  "index": 1860
                },
                "end": {
                  "line": 28,
                  "column": 41,
                  "index": 1881
                },
                "identifierName": "default_magnification"
              },
              "range": [
                1860,
                1881
              ],
              "name": "default_magnification"
            }
          }
        ],
        "kind": "let"
      },
      {
        "type": "VariableDeclaration",
        "start": 1883,
        "end": 1915,
        "loc": {
          "start": {
            "line": 29,
            "column": 0,
            "index": 1883
          },
          "end": {
            "line": 29,
            "column": 32,
            "index": 1915
          }
        },
        "range": [
          1883,
          1915
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 1887,
            "end": 1914,
            "loc": {
              "start": {
                "line": 29,
                "column": 4,
                "index": 1887
              },
              "end": {
                "line": 29,
                "column": 31,
                "index": 1914
              }
            },
            "range": [
              1887,
              1914
            ],
            "id": {
              "type": "Identifier",
              "start": 1887,
              "end": 1910,
              "loc": {
                "start": {
                  "line": 29,
                  "column": 4,
                  "index": 1887
                },
                "end": {
                  "line": 29,
                  "column": 27,
                  "index": 1910
                },
                "identifierName": "return_to_magnification"
              },
              "range": [
                1887,
                1910
              ],
              "name": "return_to_magnification"
            },
            "init": {
              "type": "NumericLiteral",
              "start": 1913,
              "end": 1914,
              "loc": {
                "start": {
                  "line": 29,
                  "column": 30,
                  "index": 1913
                },
                "end": {
                  "line": 29,
                  "column": 31,
                  "index": 1914
                }
              },
              "range": [
                1913,
                1914
              ],
              "extra": {
                "rawValue": 4,
                "raw": "4"
              },
              "value": 4
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {PixelCanvas} ",
            "start": 1917,
            "end": 1943,
            "loc": {
              "start": {
                "line": 31,
                "column": 0,
                "index": 1917
              },
              "end": {
                "line": 31,
                "column": 26,
                "index": 1943
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 1944,
        "end": 1985,
        "loc": {
          "start": {
            "line": 32,
            "column": 0,
            "index": 1944
          },
          "end": {
            "line": 32,
            "column": 41,
            "index": 1985
          }
        },
        "range": [
          1944,
          1985
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 1950,
            "end": 1984,
            "loc": {
              "start": {
                "line": 32,
                "column": 6,
                "index": 1950
              },
              "end": {
                "line": 32,
                "column": 40,
                "index": 1984
              }
            },
            "range": [
              1950,
              1984
            ],
            "id": {
              "type": "Identifier",
              "start": 1950,
              "end": 1961,
              "loc": {
                "start": {
                  "line": 32,
                  "column": 6,
                  "index": 1950
                },
                "end": {
                  "line": 32,
                  "column": 17,
                  "index": 1961
                },
                "identifierName": "main_canvas"
              },
              "range": [
                1950,
                1961
              ],
              "name": "main_canvas"
            },
            "init": {
              "type": "CallExpression",
              "start": 1964,
              "end": 1984,
              "loc": {
                "start": {
                  "line": 32,
                  "column": 20,
                  "index": 1964
                },
                "end": {
                  "line": 32,
                  "column": 40,
                  "index": 1984
                }
              },
              "range": [
                1964,
                1984
              ],
              "callee": {
                "type": "MemberExpression",
                "start": 1964,
                "end": 1982,
                "loc": {
                  "start": {
                    "line": 32,
                    "column": 20,
                    "index": 1964
                  },
                  "end": {
                    "line": 32,
                    "column": 38,
                    "index": 1982
                  }
                },
                "range": [
                  1964,
                  1982
                ],
                "object": {
                  "type": "Identifier",
                  "start": 1964,
                  "end": 1970,
                  "loc": {
                    "start": {
                      "line": 32,
                      "column": 20,
                      "index": 1964
                    },
                    "end": {
                      "line": 32,
                      "column": 26,
                      "index": 1970
                    },
                    "identifierName": "window"
                  },
                  "range": [
                    1964,
                    1970
                  ],
                  "name": "window"
                },
                "computed": false,
                "property": {
                  "type": "Identifier",
                  "start": 1971,
                  "end": 1982,
                  "loc": {
                    "start": {
                      "line": 32,
                      "column": 27,
                      "index": 1971
                    },
                    "end": {
                      "line": 32,
                      "column": 38,
                      "index": 1982
                    },
                    "identifierName": "make_canvas"
                  },
                  "range": [
                    1971,
                    1982
                  ],
                  "name": "make_canvas"
                }
              },
              "arguments": []
            }
          }
        ],
        "kind": "const",
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {PixelCanvas} ",
            "start": 1917,
            "end": 1943,
            "loc": {
              "start": {
                "line": 31,
                "column": 0,
                "index": 1917
              },
              "end": {
                "line": 31,
                "column": 26,
                "index": 1943
              }
            }
          }
        ]
      },
      {
        "type": "ExpressionStatement",
        "start": 1986,
        "end": 2027,
        "loc": {
          "start": {
            "line": 33,
            "column": 0,
            "index": 1986
          },
          "end": {
            "line": 33,
            "column": 41,
            "index": 2027
          }
        },
        "range": [
          1986,
          2027
        ],
        "expression": {
          "type": "CallExpression",
          "start": 1986,
          "end": 2026,
          "loc": {
            "start": {
              "line": 33,
              "column": 0,
              "index": 1986
            },
            "end": {
              "line": 33,
              "column": 40,
              "index": 2026
            }
          },
          "range": [
            1986,
            2026
          ],
          "callee": {
            "type": "MemberExpression",
            "start": 1986,
            "end": 2011,
            "loc": {
              "start": {
                "line": 33,
                "column": 0,
                "index": 1986
              },
              "end": {
                "line": 33,
                "column": 25,
                "index": 2011
              }
            },
            "range": [
              1986,
              2011
            ],
            "object": {
              "type": "MemberExpression",
              "start": 1986,
              "end": 2007,
              "loc": {
                "start": {
                  "line": 33,
                  "column": 0,
                  "index": 1986
                },
                "end": {
                  "line": 33,
                  "column": 21,
                  "index": 2007
                }
              },
              "range": [
                1986,
                2007
              ],
              "object": {
                "type": "Identifier",
                "start": 1986,
                "end": 1997,
                "loc": {
                  "start": {
                    "line": 33,
                    "column": 0,
                    "index": 1986
                  },
                  "end": {
                    "line": 33,
                    "column": 11,
                    "index": 1997
                  },
                  "identifierName": "main_canvas"
                },
                "range": [
                  1986,
                  1997
                ],
                "name": "main_canvas"
              },
              "computed": false,
              "property": {
                "type": "Identifier",
                "start": 1998,
                "end": 2007,
                "loc": {
                  "start": {
                    "line": 33,
                    "column": 12,
                    "index": 1998
                  },
                  "end": {
                    "line": 33,
                    "column": 21,
                    "index": 2007
                  },
                  "identifierName": "classList"
                },
                "range": [
                  1998,
                  2007
                ],
                "name": "classList"
              }
            },
            "computed": false,
            "property": {
              "type": "Identifier",
              "start": 2008,
              "end": 2011,
              "loc": {
                "start": {
                  "line": 33,
                  "column": 22,
                  "index": 2008
                },
                "end": {
                  "line": 33,
                  "column": 25,
                  "index": 2011
                },
                "identifierName": "add"
              },
              "range": [
                2008,
                2011
              ],
              "name": "add"
            }
          },
          "arguments": [
            {
              "type": "StringLiteral",
              "start": 2012,
              "end": 2025,
              "loc": {
                "start": {
                  "line": 33,
                  "column": 26,
                  "index": 2012
                },
                "end": {
                  "line": 33,
                  "column": 39,
                  "index": 2025
                }
              },
              "range": [
                2012,
                2025
              ],
              "extra": {
                "rawValue": "main-canvas",
                "raw": "\"main-canvas\""
              },
              "value": "main-canvas"
            }
          ]
        },
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {PixelContext} ",
            "start": 2028,
            "end": 2055,
            "loc": {
              "start": {
                "line": 34,
                "column": 0,
                "index": 2028
              },
              "end": {
                "line": 34,
                "column": 27,
                "index": 2055
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 2056,
        "end": 2089,
        "loc": {
          "start": {
            "line": 35,
            "column": 0,
            "index": 2056
          },
          "end": {
            "line": 35,
            "column": 33,
            "index": 2089
          }
        },
        "range": [
          2056,
          2089
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 2062,
            "end": 2088,
            "loc": {
              "start": {
                "line": 35,
                "column": 6,
                "index": 2062
              },
              "end": {
                "line": 35,
                "column": 32,
                "index": 2088
              }
            },
            "range": [
              2062,
              2088
            ],
            "id": {
              "type": "Identifier",
              "start": 2062,
              "end": 2070,
              "loc": {
                "start": {
                  "line": 35,
                  "column": 6,
                  "index": 2062
                },
                "end": {
                  "line": 35,
                  "column": 14,
                  "index": 2070
                },
                "identifierName": "main_ctx"
              },
              "range": [
                2062,
                2070
              ],
              "name": "main_ctx"
            },
            "init": {
              "type": "MemberExpression",
              "start": 2073,
              "end": 2088,
              "loc": {
                "start": {
                  "line": 35,
                  "column": 17,
                  "index": 2073
                },
                "end": {
                  "line": 35,
                  "column": 32,
                  "index": 2088
                }
              },
              "range": [
                2073,
                2088
              ],
              "object": {
                "type": "Identifier",
                "start": 2073,
                "end": 2084,
                "loc": {
                  "start": {
                    "line": 35,
                    "column": 17,
                    "index": 2073
                  },
                  "end": {
                    "line": 35,
                    "column": 28,
                    "index": 2084
                  },
                  "identifierName": "main_canvas"
                },
                "range": [
                  2073,
                  2084
                ],
                "name": "main_canvas"
              },
              "computed": false,
              "property": {
                "type": "Identifier",
                "start": 2085,
                "end": 2088,
                "loc": {
                  "start": {
                    "line": 35,
                    "column": 29,
                    "index": 2085
                  },
                  "end": {
                    "line": 35,
                    "column": 32,
                    "index": 2088
                  },
                  "identifierName": "ctx"
                },
                "range": [
                  2085,
                  2088
                ],
                "name": "ctx"
              }
            }
          }
        ],
        "kind": "const",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {(string | CanvasPattern)[]} ",
            "start": 2091,
            "end": 2132,
            "loc": {
              "start": {
                "line": 37,
                "column": 0,
                "index": 2091
              },
              "end": {
                "line": 37,
                "column": 41,
                "index": 2132
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {PixelContext} ",
            "start": 2028,
            "end": 2055,
            "loc": {
              "start": {
                "line": 34,
                "column": 0,
                "index": 2028
              },
              "end": {
                "line": 34,
                "column": 27,
                "index": 2055
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 2133,
        "end": 2170,
        "loc": {
          "start": {
            "line": 38,
            "column": 0,
            "index": 2133
          },
          "end": {
            "line": 38,
            "column": 37,
            "index": 2170
          }
        },
        "range": [
          2133,
          2170
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 2137,
            "end": 2169,
            "loc": {
              "start": {
                "line": 38,
                "column": 4,
                "index": 2137
              },
              "end": {
                "line": 38,
                "column": 36,
                "index": 2169
              }
            },
            "range": [
              2137,
              2169
            ],
            "id": {
              "type": "Identifier",
              "start": 2137,
              "end": 2144,
              "loc": {
                "start": {
                  "line": 38,
                  "column": 4,
                  "index": 2137
                },
                "end": {
                  "line": 38,
                  "column": 11,
                  "index": 2144
                },
                "identifierName": "palette"
              },
              "range": [
                2137,
                2144
              ],
              "name": "palette"
            },
            "init": {
              "type": "MemberExpression",
              "start": 2147,
              "end": 2169,
              "loc": {
                "start": {
                  "line": 38,
                  "column": 14,
                  "index": 2147
                },
                "end": {
                  "line": 38,
                  "column": 36,
                  "index": 2169
                }
              },
              "range": [
                2147,
                2169
              ],
              "object": {
                "type": "Identifier",
                "start": 2147,
                "end": 2153,
                "loc": {
                  "start": {
                    "line": 38,
                    "column": 14,
                    "index": 2147
                  },
                  "end": {
                    "line": 38,
                    "column": 20,
                    "index": 2153
                  },
                  "identifierName": "window"
                },
                "range": [
                  2147,
                  2153
                ],
                "name": "window"
              },
              "computed": false,
              "property": {
                "type": "Identifier",
                "start": 2154,
                "end": 2169,
                "loc": {
                  "start": {
                    "line": 38,
                    "column": 21,
                    "index": 2154
                  },
                  "end": {
                    "line": 38,
                    "column": 36,
                    "index": 2169
                  },
                  "identifierName": "default_palette"
                },
                "range": [
                  2154,
                  2169
                ],
                "name": "default_palette"
              }
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {(string | CanvasPattern)[]} ",
            "start": 2171,
            "end": 2212,
            "loc": {
              "start": {
                "line": 39,
                "column": 0,
                "index": 2171
              },
              "end": {
                "line": 39,
                "column": 41,
                "index": 2212
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {(string | CanvasPattern)[]} ",
            "start": 2091,
            "end": 2132,
            "loc": {
              "start": {
                "line": 37,
                "column": 0,
                "index": 2091
              },
              "end": {
                "line": 37,
                "column": 41,
                "index": 2132
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 2213,
        "end": 2246,
        "loc": {
          "start": {
            "line": 40,
            "column": 0,
            "index": 2213
          },
          "end": {
            "line": 40,
            "column": 33,
            "index": 2246
          }
        },
        "range": [
          2213,
          2246
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 2217,
            "end": 2245,
            "loc": {
              "start": {
                "line": 40,
                "column": 4,
                "index": 2217
              },
              "end": {
                "line": 40,
                "column": 32,
                "index": 2245
              }
            },
            "range": [
              2217,
              2245
            ],
            "id": {
              "type": "Identifier",
              "start": 2217,
              "end": 2235,
              "loc": {
                "start": {
                  "line": 40,
                  "column": 4,
                  "index": 2217
                },
                "end": {
                  "line": 40,
                  "column": 22,
                  "index": 2235
                },
                "identifierName": "polychrome_palette"
              },
              "range": [
                2217,
                2235
              ],
              "name": "polychrome_palette"
            },
            "init": {
              "type": "Identifier",
              "start": 2238,
              "end": 2245,
              "loc": {
                "start": {
                  "line": 40,
                  "column": 25,
                  "index": 2238
                },
                "end": {
                  "line": 40,
                  "column": 32,
                  "index": 2245
                },
                "identifierName": "palette"
              },
              "range": [
                2238,
                2245
              ],
              "name": "palette"
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {(string | CanvasPattern)[]} ",
            "start": 2247,
            "end": 2288,
            "loc": {
              "start": {
                "line": 41,
                "column": 0,
                "index": 2247
              },
              "end": {
                "line": 41,
                "column": 41,
                "index": 2288
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {(string | CanvasPattern)[]} ",
            "start": 2171,
            "end": 2212,
            "loc": {
              "start": {
                "line": 39,
                "column": 0,
                "index": 2171
              },
              "end": {
                "line": 39,
                "column": 41,
                "index": 2212
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 2289,
        "end": 2347,
        "loc": {
          "start": {
            "line": 42,
            "column": 0,
            "index": 2289
          },
          "end": {
            "line": 42,
            "column": 58,
            "index": 2347
          }
        },
        "range": [
          2289,
          2347
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 2293,
            "end": 2346,
            "loc": {
              "start": {
                "line": 42,
                "column": 4,
                "index": 2293
              },
              "end": {
                "line": 42,
                "column": 57,
                "index": 2346
              }
            },
            "range": [
              2293,
              2346
            ],
            "id": {
              "type": "Identifier",
              "start": 2293,
              "end": 2311,
              "loc": {
                "start": {
                  "line": 42,
                  "column": 4,
                  "index": 2293
                },
                "end": {
                  "line": 42,
                  "column": 22,
                  "index": 2311
                },
                "identifierName": "monochrome_palette"
              },
              "range": [
                2293,
                2311
              ],
              "name": "monochrome_palette"
            },
            "init": {
              "type": "CallExpression",
              "start": 2314,
              "end": 2346,
              "loc": {
                "start": {
                  "line": 42,
                  "column": 25,
                  "index": 2314
                },
                "end": {
                  "line": 42,
                  "column": 57,
                  "index": 2346
                }
              },
              "range": [
                2314,
                2346
              ],
              "callee": {
                "type": "MemberExpression",
                "start": 2314,
                "end": 2344,
                "loc": {
                  "start": {
                    "line": 42,
                    "column": 25,
                    "index": 2314
                  },
                  "end": {
                    "line": 42,
                    "column": 55,
                    "index": 2344
                  }
                },
                "range": [
                  2314,
                  2344
                ],
                "object": {
                  "type": "Identifier",
                  "start": 2314,
                  "end": 2320,
                  "loc": {
                    "start": {
                      "line": 42,
                      "column": 25,
                      "index": 2314
                    },
                    "end": {
                      "line": 42,
                      "column": 31,
                      "index": 2320
                    },
                    "identifierName": "window"
                  },
                  "range": [
                    2314,
                    2320
                  ],
                  "name": "window"
                },
                "computed": false,
                "property": {
                  "type": "Identifier",
                  "start": 2321,
                  "end": 2344,
                  "loc": {
                    "start": {
                      "line": 42,
                      "column": 32,
                      "index": 2321
                    },
                    "end": {
                      "line": 42,
                      "column": 55,
                      "index": 2344
                    },
                    "identifierName": "make_monochrome_palette"
                  },
                  "range": [
                    2321,
                    2344
                  ],
                  "name": "make_monochrome_palette"
                }
              },
              "arguments": []
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentLine",
            "value": " This feature is not ready yet.",
            "start": 2349,
            "end": 2382,
            "loc": {
              "start": {
                "line": 44,
                "column": 0,
                "index": 2349
              },
              "end": {
                "line": 44,
                "column": 33,
                "index": 2382
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " It needs to let the user decide when to switch the palette or not, when saving/opening an image.",
            "start": 2383,
            "end": 2482,
            "loc": {
              "start": {
                "line": 45,
                "column": 0,
                "index": 2383
              },
              "end": {
                "line": 45,
                "column": 99,
                "index": 2482
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " (maybe there could be a palette undo button? feels weird. MS Paint would probably use a dialog.)",
            "start": 2483,
            "end": 2582,
            "loc": {
              "start": {
                "line": 46,
                "column": 0,
                "index": 2483
              },
              "end": {
                "line": 46,
                "column": 99,
                "index": 2582
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " And it needs to handle canvas farbling, where pixel values are slightly different from each other,",
            "start": 2583,
            "end": 2684,
            "loc": {
              "start": {
                "line": 47,
                "column": 0,
                "index": 2583
              },
              "end": {
                "line": 47,
                "column": 101,
                "index": 2684
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " and equivalize them, when saving to a file. And maybe at other times.",
            "start": 2685,
            "end": 2757,
            "loc": {
              "start": {
                "line": 48,
                "column": 0,
                "index": 2685
              },
              "end": {
                "line": 48,
                "column": 72,
                "index": 2757
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " There are a lot of places in this app where I have to handle canvas farbling. It's obnoxious.",
            "start": 2758,
            "end": 2854,
            "loc": {
              "start": {
                "line": 49,
                "column": 0,
                "index": 2758
              },
              "end": {
                "line": 49,
                "column": 96,
                "index": 2854
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {(string | CanvasPattern)[]} ",
            "start": 2247,
            "end": 2288,
            "loc": {
              "start": {
                "line": 41,
                "column": 0,
                "index": 2247
              },
              "end": {
                "line": 41,
                "column": 41,
                "index": 2288
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 2855,
        "end": 2910,
        "loc": {
          "start": {
            "line": 50,
            "column": 0,
            "index": 2855
          },
          "end": {
            "line": 50,
            "column": 55,
            "index": 2910
          }
        },
        "range": [
          2855,
          2910
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 2859,
            "end": 2909,
            "loc": {
              "start": {
                "line": 50,
                "column": 4,
                "index": 2859
              },
              "end": {
                "line": 50,
                "column": 54,
                "index": 2909
              }
            },
            "range": [
              2859,
              2909
            ],
            "id": {
              "type": "Identifier",
              "start": 2859,
              "end": 2901,
              "loc": {
                "start": {
                  "line": 50,
                  "column": 4,
                  "index": 2859
                },
                "end": {
                  "line": 50,
                  "column": 46,
                  "index": 2901
                },
                "identifierName": "enable_palette_loading_from_indexed_images"
              },
              "range": [
                2859,
                2901
              ],
              "name": "enable_palette_loading_from_indexed_images"
            },
            "init": {
              "type": "BooleanLiteral",
              "start": 2904,
              "end": 2909,
              "loc": {
                "start": {
                  "line": 50,
                  "column": 49,
                  "index": 2904
                },
                "end": {
                  "line": 50,
                  "column": 54,
                  "index": 2909
                }
              },
              "range": [
                2904,
                2909
              ],
              "value": false
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentLine",
            "value": " The File System Access API doesn't provide a way to get the file type selected by the user,",
            "start": 2912,
            "end": 3006,
            "loc": {
              "start": {
                "line": 52,
                "column": 0,
                "index": 2912
              },
              "end": {
                "line": 52,
                "column": 94,
                "index": 3006
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " or to automatically append a file extension to the file name.",
            "start": 3007,
            "end": 3071,
            "loc": {
              "start": {
                "line": 53,
                "column": 0,
                "index": 3007
              },
              "end": {
                "line": 53,
                "column": 64,
                "index": 3071
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " I'm not sure it's worth it to be able to save over an existing file.",
            "start": 3072,
            "end": 3143,
            "loc": {
              "start": {
                "line": 54,
                "column": 0,
                "index": 3072
              },
              "end": {
                "line": 54,
                "column": 71,
                "index": 3143
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " I also like the downloads bar UI to be honest.",
            "start": 3144,
            "end": 3193,
            "loc": {
              "start": {
                "line": 55,
                "column": 0,
                "index": 3144
              },
              "end": {
                "line": 55,
                "column": 49,
                "index": 3193
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " So this might need to be optional, but right now I'm disabling it as it's not ready.",
            "start": 3194,
            "end": 3281,
            "loc": {
              "start": {
                "line": 56,
                "column": 0,
                "index": 3194
              },
              "end": {
                "line": 56,
                "column": 87,
                "index": 3281
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " There are cases where 0-byte files are created, which is either a serious problem,",
            "start": 3282,
            "end": 3367,
            "loc": {
              "start": {
                "line": 57,
                "column": 0,
                "index": 3282
              },
              "end": {
                "line": 57,
                "column": 85,
                "index": 3367
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " it's just from canceling saving when the file name has a problem, and it needs to be cleaned up.",
            "start": 3368,
            "end": 3467,
            "loc": {
              "start": {
                "line": 58,
                "column": 0,
                "index": 3368
              },
              "end": {
                "line": 58,
                "column": 99,
                "index": 3467
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " Also, while I've implemented most of the UI, it'd be nice to release this with recent files support.",
            "start": 3468,
            "end": 3571,
            "loc": {
              "start": {
                "line": 59,
                "column": 0,
                "index": 3468
              },
              "end": {
                "line": 59,
                "column": 103,
                "index": 3571
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentLine",
            "value": " This feature is not ready yet.",
            "start": 2349,
            "end": 2382,
            "loc": {
              "start": {
                "line": 44,
                "column": 0,
                "index": 2349
              },
              "end": {
                "line": 44,
                "column": 33,
                "index": 2382
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " It needs to let the user decide when to switch the palette or not, when saving/opening an image.",
            "start": 2383,
            "end": 2482,
            "loc": {
              "start": {
                "line": 45,
                "column": 0,
                "index": 2383
              },
              "end": {
                "line": 45,
                "column": 99,
                "index": 2482
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " (maybe there could be a palette undo button? feels weird. MS Paint would probably use a dialog.)",
            "start": 2483,
            "end": 2582,
            "loc": {
              "start": {
                "line": 46,
                "column": 0,
                "index": 2483
              },
              "end": {
                "line": 46,
                "column": 99,
                "index": 2582
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " And it needs to handle canvas farbling, where pixel values are slightly different from each other,",
            "start": 2583,
            "end": 2684,
            "loc": {
              "start": {
                "line": 47,
                "column": 0,
                "index": 2583
              },
              "end": {
                "line": 47,
                "column": 101,
                "index": 2684
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " and equivalize them, when saving to a file. And maybe at other times.",
            "start": 2685,
            "end": 2757,
            "loc": {
              "start": {
                "line": 48,
                "column": 0,
                "index": 2685
              },
              "end": {
                "line": 48,
                "column": 72,
                "index": 2757
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " There are a lot of places in this app where I have to handle canvas farbling. It's obnoxious.",
            "start": 2758,
            "end": 2854,
            "loc": {
              "start": {
                "line": 49,
                "column": 0,
                "index": 2758
              },
              "end": {
                "line": 49,
                "column": 96,
                "index": 2854
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 3572,
        "end": 3605,
        "loc": {
          "start": {
            "line": 60,
            "column": 0,
            "index": 3572
          },
          "end": {
            "line": 60,
            "column": 33,
            "index": 3605
          }
        },
        "range": [
          3572,
          3605
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 3576,
            "end": 3604,
            "loc": {
              "start": {
                "line": 60,
                "column": 4,
                "index": 3576
              },
              "end": {
                "line": 60,
                "column": 32,
                "index": 3604
              }
            },
            "range": [
              3576,
              3604
            ],
            "id": {
              "type": "Identifier",
              "start": 3576,
              "end": 3596,
              "loc": {
                "start": {
                  "line": 60,
                  "column": 4,
                  "index": 3576
                },
                "end": {
                  "line": 60,
                  "column": 24,
                  "index": 3596
                },
                "identifierName": "enable_fs_access_api"
              },
              "range": [
                3576,
                3596
              ],
              "name": "enable_fs_access_api"
            },
            "init": {
              "type": "BooleanLiteral",
              "start": 3599,
              "end": 3604,
              "loc": {
                "start": {
                  "line": 60,
                  "column": 27,
                  "index": 3599
                },
                "end": {
                  "line": 60,
                  "column": 32,
                  "index": 3604
                }
              },
              "range": [
                3599,
                3604
              ],
              "value": false
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {BrushShape} ",
            "start": 3607,
            "end": 3632,
            "loc": {
              "start": {
                "line": 62,
                "column": 0,
                "index": 3607
              },
              "end": {
                "line": 62,
                "column": 25,
                "index": 3632
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentLine",
            "value": " The File System Access API doesn't provide a way to get the file type selected by the user,",
            "start": 2912,
            "end": 3006,
            "loc": {
              "start": {
                "line": 52,
                "column": 0,
                "index": 2912
              },
              "end": {
                "line": 52,
                "column": 94,
                "index": 3006
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " or to automatically append a file extension to the file name.",
            "start": 3007,
            "end": 3071,
            "loc": {
              "start": {
                "line": 53,
                "column": 0,
                "index": 3007
              },
              "end": {
                "line": 53,
                "column": 64,
                "index": 3071
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " I'm not sure it's worth it to be able to save over an existing file.",
            "start": 3072,
            "end": 3143,
            "loc": {
              "start": {
                "line": 54,
                "column": 0,
                "index": 3072
              },
              "end": {
                "line": 54,
                "column": 71,
                "index": 3143
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " I also like the downloads bar UI to be honest.",
            "start": 3144,
            "end": 3193,
            "loc": {
              "start": {
                "line": 55,
                "column": 0,
                "index": 3144
              },
              "end": {
                "line": 55,
                "column": 49,
                "index": 3193
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " So this might need to be optional, but right now I'm disabling it as it's not ready.",
            "start": 3194,
            "end": 3281,
            "loc": {
              "start": {
                "line": 56,
                "column": 0,
                "index": 3194
              },
              "end": {
                "line": 56,
                "column": 87,
                "index": 3281
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " There are cases where 0-byte files are created, which is either a serious problem,",
            "start": 3282,
            "end": 3367,
            "loc": {
              "start": {
                "line": 57,
                "column": 0,
                "index": 3282
              },
              "end": {
                "line": 57,
                "column": 85,
                "index": 3367
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " it's just from canceling saving when the file name has a problem, and it needs to be cleaned up.",
            "start": 3368,
            "end": 3467,
            "loc": {
              "start": {
                "line": 58,
                "column": 0,
                "index": 3368
              },
              "end": {
                "line": 58,
                "column": 99,
                "index": 3467
              }
            }
          },
          {
            "type": "CommentLine",
            "value": " Also, while I've implemented most of the UI, it'd be nice to release this with recent files support.",
            "start": 3468,
            "end": 3571,
            "loc": {
              "start": {
                "line": 59,
                "column": 0,
                "index": 3468
              },
              "end": {
                "line": 59,
                "column": 103,
                "index": 3571
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 3633,
        "end": 3670,
        "loc": {
          "start": {
            "line": 63,
            "column": 0,
            "index": 3633
          },
          "end": {
            "line": 63,
            "column": 37,
            "index": 3670
          }
        },
        "range": [
          3633,
          3670
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 3639,
            "end": 3669,
            "loc": {
              "start": {
                "line": 63,
                "column": 6,
                "index": 3639
              },
              "end": {
                "line": 63,
                "column": 36,
                "index": 3669
              }
            },
            "range": [
              3639,
              3669
            ],
            "id": {
              "type": "Identifier",
              "start": 3639,
              "end": 3658,
              "loc": {
                "start": {
                  "line": 63,
                  "column": 6,
                  "index": 3639
                },
                "end": {
                  "line": 63,
                  "column": 25,
                  "index": 3658
                },
                "identifierName": "default_brush_shape"
              },
              "range": [
                3639,
                3658
              ],
              "name": "default_brush_shape"
            },
            "init": {
              "type": "StringLiteral",
              "start": 3661,
              "end": 3669,
              "loc": {
                "start": {
                  "line": 63,
                  "column": 28,
                  "index": 3661
                },
                "end": {
                  "line": 63,
                  "column": 36,
                  "index": 3669
                }
              },
              "range": [
                3661,
                3669
              ],
              "extra": {
                "rawValue": "circle",
                "raw": "\"circle\""
              },
              "value": "circle"
            }
          }
        ],
        "kind": "const",
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {BrushShape} ",
            "start": 3607,
            "end": 3632,
            "loc": {
              "start": {
                "line": 62,
                "column": 0,
                "index": 3607
              },
              "end": {
                "line": 62,
                "column": 25,
                "index": 3632
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 3671,
        "end": 3700,
        "loc": {
          "start": {
            "line": 64,
            "column": 0,
            "index": 3671
          },
          "end": {
            "line": 64,
            "column": 29,
            "index": 3700
          }
        },
        "range": [
          3671,
          3700
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 3677,
            "end": 3699,
            "loc": {
              "start": {
                "line": 64,
                "column": 6,
                "index": 3677
              },
              "end": {
                "line": 64,
                "column": 28,
                "index": 3699
              }
            },
            "range": [
              3677,
              3699
            ],
            "id": {
              "type": "Identifier",
              "start": 3677,
              "end": 3695,
              "loc": {
                "start": {
                  "line": 64,
                  "column": 6,
                  "index": 3677
                },
                "end": {
                  "line": 64,
                  "column": 24,
                  "index": 3695
                },
                "identifierName": "default_brush_size"
              },
              "range": [
                3677,
                3695
              ],
              "name": "default_brush_size"
            },
            "init": {
              "type": "NumericLiteral",
              "start": 3698,
              "end": 3699,
              "loc": {
                "start": {
                  "line": 64,
                  "column": 27,
                  "index": 3698
                },
                "end": {
                  "line": 64,
                  "column": 28,
                  "index": 3699
                }
              },
              "range": [
                3698,
                3699
              ],
              "extra": {
                "rawValue": 4,
                "raw": "4"
              },
              "value": 4
            }
          }
        ],
        "kind": "const"
      },
      {
        "type": "VariableDeclaration",
        "start": 3701,
        "end": 3731,
        "loc": {
          "start": {
            "line": 65,
            "column": 0,
            "index": 3701
          },
          "end": {
            "line": 65,
            "column": 30,
            "index": 3731
          }
        },
        "range": [
          3701,
          3731
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 3707,
            "end": 3730,
            "loc": {
              "start": {
                "line": 65,
                "column": 6,
                "index": 3707
              },
              "end": {
                "line": 65,
                "column": 29,
                "index": 3730
              }
            },
            "range": [
              3707,
              3730
            ],
            "id": {
              "type": "Identifier",
              "start": 3707,
              "end": 3726,
              "loc": {
                "start": {
                  "line": 65,
                  "column": 6,
                  "index": 3707
                },
                "end": {
                  "line": 65,
                  "column": 25,
                  "index": 3726
                },
                "identifierName": "default_eraser_size"
              },
              "range": [
                3707,
                3726
              ],
              "name": "default_eraser_size"
            },
            "init": {
              "type": "NumericLiteral",
              "start": 3729,
              "end": 3730,
              "loc": {
                "start": {
                  "line": 65,
                  "column": 28,
                  "index": 3729
                },
                "end": {
                  "line": 65,
                  "column": 29,
                  "index": 3730
                }
              },
              "range": [
                3729,
                3730
              ],
              "extra": {
                "rawValue": 8,
                "raw": "8"
              },
              "value": 8
            }
          }
        ],
        "kind": "const"
      },
      {
        "type": "VariableDeclaration",
        "start": 3732,
        "end": 3764,
        "loc": {
          "start": {
            "line": 66,
            "column": 0,
            "index": 3732
          },
          "end": {
            "line": 66,
            "column": 32,
            "index": 3764
          }
        },
        "range": [
          3732,
          3764
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 3738,
            "end": 3763,
            "loc": {
              "start": {
                "line": 66,
                "column": 6,
                "index": 3738
              },
              "end": {
                "line": 66,
                "column": 31,
                "index": 3763
              }
            },
            "range": [
              3738,
              3763
            ],
            "id": {
              "type": "Identifier",
              "start": 3738,
              "end": 3759,
              "loc": {
                "start": {
                  "line": 66,
                  "column": 6,
                  "index": 3738
                },
                "end": {
                  "line": 66,
                  "column": 27,
                  "index": 3759
                },
                "identifierName": "default_airbrush_size"
              },
              "range": [
                3738,
                3759
              ],
              "name": "default_airbrush_size"
            },
            "init": {
              "type": "NumericLiteral",
              "start": 3762,
              "end": 3763,
              "loc": {
                "start": {
                  "line": 66,
                  "column": 30,
                  "index": 3762
                },
                "end": {
                  "line": 66,
                  "column": 31,
                  "index": 3763
                }
              },
              "range": [
                3762,
                3763
              ],
              "extra": {
                "rawValue": 9,
                "raw": "9"
              },
              "value": 9
            }
          }
        ],
        "kind": "const"
      },
      {
        "type": "VariableDeclaration",
        "start": 3765,
        "end": 3795,
        "loc": {
          "start": {
            "line": 67,
            "column": 0,
            "index": 3765
          },
          "end": {
            "line": 67,
            "column": 30,
            "index": 3795
          }
        },
        "range": [
          3765,
          3795
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 3771,
            "end": 3794,
            "loc": {
              "start": {
                "line": 67,
                "column": 6,
                "index": 3771
              },
              "end": {
                "line": 67,
                "column": 29,
                "index": 3794
              }
            },
            "range": [
              3771,
              3794
            ],
            "id": {
              "type": "Identifier",
              "start": 3771,
              "end": 3790,
              "loc": {
                "start": {
                  "line": 67,
                  "column": 6,
                  "index": 3771
                },
                "end": {
                  "line": 67,
                  "column": 25,
                  "index": 3790
                },
                "identifierName": "default_pencil_size"
              },
              "range": [
                3771,
                3790
              ],
              "name": "default_pencil_size"
            },
            "init": {
              "type": "NumericLiteral",
              "start": 3793,
              "end": 3794,
              "loc": {
                "start": {
                  "line": 67,
                  "column": 28,
                  "index": 3793
                },
                "end": {
                  "line": 67,
                  "column": 29,
                  "index": 3794
                }
              },
              "range": [
                3793,
                3794
              ],
              "extra": {
                "rawValue": 1,
                "raw": "1"
              },
              "value": 1
            }
          }
        ],
        "kind": "const"
      },
      {
        "type": "VariableDeclaration",
        "start": 3796,
        "end": 3826,
        "loc": {
          "start": {
            "line": 68,
            "column": 0,
            "index": 3796
          },
          "end": {
            "line": 68,
            "column": 30,
            "index": 3826
          }
        },
        "range": [
          3796,
          3826
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 3802,
            "end": 3825,
            "loc": {
              "start": {
                "line": 68,
                "column": 6,
                "index": 3802
              },
              "end": {
                "line": 68,
                "column": 29,
                "index": 3825
              }
            },
            "range": [
              3802,
              3825
            ],
            "id": {
              "type": "Identifier",
              "start": 3802,
              "end": 3821,
              "loc": {
                "start": {
                  "line": 68,
                  "column": 6,
                  "index": 3802
                },
                "end": {
                  "line": 68,
                  "column": 25,
                  "index": 3821
                },
                "identifierName": "default_stroke_size"
              },
              "range": [
                3802,
                3821
              ],
              "name": "default_stroke_size"
            },
            "init": {
              "type": "NumericLiteral",
              "start": 3824,
              "end": 3825,
              "loc": {
                "start": {
                  "line": 68,
                  "column": 28,
                  "index": 3824
                },
                "end": {
                  "line": 68,
                  "column": 29,
                  "index": 3825
                }
              },
              "range": [
                3824,
                3825
              ],
              "extra": {
                "rawValue": 1,
                "raw": "1"
              },
              "value": 1
            }
          }
        ],
        "kind": "const",
        "trailingComments": [
          {
            "type": "CommentLine",
            "value": " applies to lines, curves, shape outlines",
            "start": 3827,
            "end": 3870,
            "loc": {
              "start": {
                "line": 68,
                "column": 31,
                "index": 3827
              },
              "end": {
                "line": 68,
                "column": 74,
                "index": 3870
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": "* @type {BrushShape} ",
            "start": 3872,
            "end": 3897,
            "loc": {
              "start": {
                "line": 70,
                "column": 0,
                "index": 3872
              },
              "end": {
                "line": 70,
                "column": 25,
                "index": 3897
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 3898,
        "end": 3936,
        "loc": {
          "start": {
            "line": 71,
            "column": 0,
            "index": 3898
          },
          "end": {
            "line": 71,
            "column": 38,
            "index": 3936
          }
        },
        "range": [
          3898,
          3936
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 3902,
            "end": 3935,
            "loc": {
              "start": {
                "line": 71,
                "column": 4,
                "index": 3902
              },
              "end": {
                "line": 71,
                "column": 37,
                "index": 3935
              }
            },
            "range": [
              3902,
              3935
            ],
            "id": {
              "type": "Identifier",
              "start": 3902,
              "end": 3913,
              "loc": {
                "start": {
                  "line": 71,
                  "column": 4,
                  "index": 3902
                },
                "end": {
                  "line": 71,
                  "column": 15,
                  "index": 3913
                },
                "identifierName": "brush_shape"
              },
              "range": [
                3902,
                3913
              ],
              "name": "brush_shape"
            },
            "init": {
              "type": "Identifier",
              "start": 3916,
              "end": 3935,
              "loc": {
                "start": {
                  "line": 71,
                  "column": 18,
                  "index": 3916
                },
                "end": {
                  "line": 71,
                  "column": 37,
                  "index": 3935
                },
                "identifierName": "default_brush_shape"
              },
              "range": [
                3916,
                3935
              ],
              "name": "default_brush_shape"
            }
          }
        ],
        "kind": "let",
        "leadingComments": [
          {
            "type": "CommentLine",
            "value": " applies to lines, curves, shape outlines",
            "start": 3827,
            "end": 3870,
            "loc": {
              "start": {
                "line": 68,
                "column": 31,
                "index": 3827
              },
              "end": {
                "line": 68,
                "column": 74,
                "index": 3870
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": "* @type {BrushShape} ",
            "start": 3872,
            "end": 3897,
            "loc": {
              "start": {
                "line": 70,
                "column": 0,
                "index": 3872
              },
              "end": {
                "line": 70,
                "column": 25,
                "index": 3897
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 3937,
        "end": 3973,
        "loc": {
          "start": {
            "line": 72,
            "column": 0,
            "index": 3937
          },
          "end": {
            "line": 72,
            "column": 36,
            "index": 3973
          }
        },
        "range": [
          3937,
          3973
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 3941,
            "end": 3972,
            "loc": {
              "start": {
                "line": 72,
                "column": 4,
                "index": 3941
              },
              "end": {
                "line": 72,
                "column": 35,
                "index": 3972
              }
            },
            "range": [
              3941,
              3972
            ],
            "id": {
              "type": "Identifier",
              "start": 3941,
              "end": 3951,
              "loc": {
                "start": {
                  "line": 72,
                  "column": 4,
                  "index": 3941
                },
                "end": {
                  "line": 72,
                  "column": 14,
                  "index": 3951
                },
                "identifierName": "brush_size"
              },
              "range": [
                3941,
                3951
              ],
              "name": "brush_size"
            },
            "init": {
              "type": "Identifier",
              "start": 3954,
              "end": 3972,
              "loc": {
                "start": {
                  "line": 72,
                  "column": 17,
                  "index": 3954
                },
                "end": {
                  "line": 72,
                  "column": 35,
                  "index": 3972
                },
                "identifierName": "default_brush_size"
              },
              "range": [
                3954,
                3972
              ],
              "name": "default_brush_size"
            }
          }
        ],
        "kind": "let"
      },
      {
        "type": "VariableDeclaration",
        "start": 3974,
        "end": 4012,
        "loc": {
          "start": {
            "line": 73,
            "column": 0,
            "index": 3974
          },
          "end": {
            "line": 73,
            "column": 38,
            "index": 4012
          }
        },
        "range": [
          3974,
          4012
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 3978,
            "end": 4011,
            "loc": {
              "start": {
                "line": 73,
                "column": 4,
                "index": 3978
              },
              "end": {
                "line": 73,
                "column": 37,
                "index": 4011
              }
            },
            "range": [
              3978,
              4011
            ],
            "id": {
              "type": "Identifier",
              "start": 3978,
              "end": 3989,
              "loc": {
                "start": {
                  "line": 73,
                  "column": 4,
                  "index": 3978
                },
                "end": {
                  "line": 73,
                  "column": 15,
                  "index": 3989
                },
                "identifierName": "eraser_size"
              },
              "range": [
                3978,
                3989
              ],
              "name": "eraser_size"
            },
            "init": {
              "type": "Identifier",
              "start": 3992,
              "end": 4011,
              "loc": {
                "start": {
                  "line": 73,
                  "column": 18,
                  "index": 3992
                },
                "end": {
                  "line": 73,
                  "column": 37,
                  "index": 4011
                },
                "identifierName": "default_eraser_size"
              },
              "range": [
                3992,
                4011
              ],
              "name": "default_eraser_size"
            }
          }
        ],
        "kind": "let"
      },
      {
        "type": "VariableDeclaration",
        "start": 4013,
        "end": 4055,
        "loc": {
          "start": {
            "line": 74,
            "column": 0,
            "index": 4013
          },
          "end": {
            "line": 74,
            "column": 42,
            "index": 4055
          }
        },
        "range": [
          4013,
          4055
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 4017,
            "end": 4054,
            "loc": {
              "start": {
                "line": 74,
                "column": 4,
                "index": 4017
              },
              "end": {
                "line": 74,
                "column": 41,
                "index": 4054
              }
            },
            "range": [
              4017,
              4054
            ],
            "id": {
              "type": "Identifier",
              "start": 4017,
              "end": 4030,
              "loc": {
                "start": {
                  "line": 74,
                  "column": 4,
                  "index": 4017
                },
                "end": {
                  "line": 74,
                  "column": 17,
                  "index": 4030
                },
                "identifierName": "airbrush_size"
              },
              "range": [
                4017,
                4030
              ],
              "name": "airbrush_size"
            },
            "init": {
              "type": "Identifier",
              "start": 4033,
              "end": 4054,
              "loc": {
                "start": {
                  "line": 74,
                  "column": 20,
                  "index": 4033
                },
                "end": {
                  "line": 74,
                  "column": 41,
                  "index": 4054
                },
                "identifierName": "default_airbrush_size"
              },
              "range": [
                4033,
                4054
              ],
              "name": "default_airbrush_size"
            }
          }
        ],
        "kind": "let"
      },
      {
        "type": "VariableDeclaration",
        "start": 4056,
        "end": 4094,
        "loc": {
          "start": {
            "line": 75,
            "column": 0,
            "index": 4056
          },
          "end": {
            "line": 75,
            "column": 38,
            "index": 4094
          }
        },
        "range": [
          4056,
          4094
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 4060,
            "end": 4093,
            "loc": {
              "start": {
                "line": 75,
                "column": 4,
                "index": 4060
              },
              "end": {
                "line": 75,
                "column": 37,
                "index": 4093
              }
            },
            "range": [
              4060,
              4093
            ],
            "id": {
              "type": "Identifier",
              "start": 4060,
              "end": 4071,
              "loc": {
                "start": {
                  "line": 75,
                  "column": 4,
                  "index": 4060
                },
                "end": {
                  "line": 75,
                  "column": 15,
                  "index": 4071
                },
                "identifierName": "pencil_size"
              },
              "range": [
                4060,
                4071
              ],
              "name": "pencil_size"
            },
            "init": {
              "type": "Identifier",
              "start": 4074,
              "end": 4093,
              "loc": {
                "start": {
                  "line": 75,
                  "column": 18,
                  "index": 4074
                },
                "end": {
                  "line": 75,
                  "column": 37,
                  "index": 4093
                },
                "identifierName": "default_pencil_size"
              },
              "range": [
                4074,
                4093
              ],
              "name": "default_pencil_size"
            }
          }
        ],
        "kind": "let"
      },
      {
        "type": "VariableDeclaration",
        "start": 4095,
        "end": 4133,
        "loc": {
          "start": {
            "line": 76,
            "column": 0,
            "index": 4095
          },
          "end": {
            "line": 76,
            "column": 38,
            "index": 4133
          }
        },
        "range": [
          4095,
          4133
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 4099,
            "end": 4132,
            "loc": {
              "start": {
                "line": 76,
                "column": 4,
                "index": 4099
              },
              "end": {
                "line": 76,
                "column": 37,
                "index": 4132
              }
            },
            "range": [
              4099,
              4132
            ],
            "id": {
              "type": "Identifier",
              "start": 4099,
              "end": 4110,
              "loc": {
                "start": {
                  "line": 76,
                  "column": 4,
                  "index": 4099
                },
                "end": {
                  "line": 76,
                  "column": 15,
                  "index": 4110
                },
                "identifierName": "stroke_size"
              },
              "range": [
                4099,
                4110
              ],
              "name": "stroke_size"
            },
            "init": {
              "type": "Identifier",
              "start": 4113,
              "end": 4132,
              "loc": {
                "start": {
                  "line": 76,
                  "column": 18,
                  "index": 4113
                },
                "end": {
                  "line": 76,
                  "column": 37,
                  "index": 4132
                },
                "identifierName": "default_stroke_size"
              },
              "range": [
                4113,
                4132
              ],
              "name": "default_stroke_size"
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentLine",
            "value": " applies to lines, curves, shape outlines",
            "start": 4134,
            "end": 4177,
            "loc": {
              "start": {
                "line": 76,
                "column": 39,
                "index": 4134
              },
              "end": {
                "line": 76,
                "column": 82,
                "index": 4177
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": "* @type {boolean} ",
            "start": 4179,
            "end": 4201,
            "loc": {
              "start": {
                "line": 78,
                "column": 0,
                "index": 4179
              },
              "end": {
                "line": 78,
                "column": 22,
                "index": 4201
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 4202,
        "end": 4236,
        "loc": {
          "start": {
            "line": 79,
            "column": 0,
            "index": 4202
          },
          "end": {
            "line": 79,
            "column": 34,
            "index": 4236
          }
        },
        "range": [
          4202,
          4236
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 4206,
            "end": 4235,
            "loc": {
              "start": {
                "line": 79,
                "column": 4,
                "index": 4206
              },
              "end": {
                "line": 79,
                "column": 33,
                "index": 4235
              }
            },
            "range": [
              4206,
              4235
            ],
            "id": {
              "type": "Identifier",
              "start": 4206,
              "end": 4227,
              "loc": {
                "start": {
                  "line": 79,
                  "column": 4,
                  "index": 4206
                },
                "end": {
                  "line": 79,
                  "column": 25,
                  "index": 4227
                },
                "identifierName": "tool_transparent_mode"
              },
              "range": [
                4206,
                4227
              ],
              "name": "tool_transparent_mode"
            },
            "init": {
              "type": "BooleanLiteral",
              "start": 4230,
              "end": 4235,
              "loc": {
                "start": {
                  "line": 79,
                  "column": 28,
                  "index": 4230
                },
                "end": {
                  "line": 79,
                  "column": 33,
                  "index": 4235
                }
              },
              "range": [
                4230,
                4235
              ],
              "value": false
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {string | CanvasPattern} ",
            "start": 4238,
            "end": 4275,
            "loc": {
              "start": {
                "line": 81,
                "column": 0,
                "index": 4238
              },
              "end": {
                "line": 81,
                "column": 37,
                "index": 4275
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentLine",
            "value": " applies to lines, curves, shape outlines",
            "start": 4134,
            "end": 4177,
            "loc": {
              "start": {
                "line": 76,
                "column": 39,
                "index": 4134
              },
              "end": {
                "line": 76,
                "column": 82,
                "index": 4177
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": "* @type {boolean} ",
            "start": 4179,
            "end": 4201,
            "loc": {
              "start": {
                "line": 78,
                "column": 0,
                "index": 4179
              },
              "end": {
                "line": 78,
                "column": 22,
                "index": 4201
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 4276,
        "end": 4293,
        "loc": {
          "start": {
            "line": 82,
            "column": 0,
            "index": 4276
          },
          "end": {
            "line": 82,
            "column": 17,
            "index": 4293
          }
        },
        "range": [
          4276,
          4293
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 4280,
            "end": 4292,
            "loc": {
              "start": {
                "line": 82,
                "column": 4,
                "index": 4280
              },
              "end": {
                "line": 82,
                "column": 16,
                "index": 4292
              }
            },
            "range": [
              4280,
              4292
            ],
            "id": {
              "type": "Identifier",
              "start": 4280,
              "end": 4292,
              "loc": {
                "start": {
                  "line": 82,
                  "column": 4,
                  "index": 4280
                },
                "end": {
                  "line": 82,
                  "column": 16,
                  "index": 4292
                },
                "identifierName": "stroke_color"
              },
              "range": [
                4280,
                4292
              ],
              "name": "stroke_color"
            },
            "init": null
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {string | CanvasPattern} ",
            "start": 4294,
            "end": 4331,
            "loc": {
              "start": {
                "line": 83,
                "column": 0,
                "index": 4294
              },
              "end": {
                "line": 83,
                "column": 37,
                "index": 4331
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {string | CanvasPattern} ",
            "start": 4238,
            "end": 4275,
            "loc": {
              "start": {
                "line": 81,
                "column": 0,
                "index": 4238
              },
              "end": {
                "line": 81,
                "column": 37,
                "index": 4275
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 4332,
        "end": 4347,
        "loc": {
          "start": {
            "line": 84,
            "column": 0,
            "index": 4332
          },
          "end": {
            "line": 84,
            "column": 15,
            "index": 4347
          }
        },
        "range": [
          4332,
          4347
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 4336,
            "end": 4346,
            "loc": {
              "start": {
                "line": 84,
                "column": 4,
                "index": 4336
              },
              "end": {
                "line": 84,
                "column": 14,
                "index": 4346
              }
            },
            "range": [
              4336,
              4346
            ],
            "id": {
              "type": "Identifier",
              "start": 4336,
              "end": 4346,
              "loc": {
                "start": {
                  "line": 84,
                  "column": 4,
                  "index": 4336
                },
                "end": {
                  "line": 84,
                  "column": 14,
                  "index": 4346
                },
                "identifierName": "fill_color"
              },
              "range": [
                4336,
                4346
              ],
              "name": "fill_color"
            },
            "init": null
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {ColorSelectionSlot} ",
            "start": 4348,
            "end": 4381,
            "loc": {
              "start": {
                "line": 85,
                "column": 0,
                "index": 4348
              },
              "end": {
                "line": 85,
                "column": 33,
                "index": 4381
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {string | CanvasPattern} ",
            "start": 4294,
            "end": 4331,
            "loc": {
              "start": {
                "line": 83,
                "column": 0,
                "index": 4294
              },
              "end": {
                "line": 83,
                "column": 37,
                "index": 4331
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 4382,
        "end": 4417,
        "loc": {
          "start": {
            "line": 86,
            "column": 0,
            "index": 4382
          },
          "end": {
            "line": 86,
            "column": 35,
            "index": 4417
          }
        },
        "range": [
          4382,
          4417
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 4386,
            "end": 4416,
            "loc": {
              "start": {
                "line": 86,
                "column": 4,
                "index": 4386
              },
              "end": {
                "line": 86,
                "column": 34,
                "index": 4416
              }
            },
            "range": [
              4386,
              4416
            ],
            "id": {
              "type": "Identifier",
              "start": 4386,
              "end": 4401,
              "loc": {
                "start": {
                  "line": 86,
                  "column": 4,
                  "index": 4386
                },
                "end": {
                  "line": 86,
                  "column": 19,
                  "index": 4401
                },
                "identifierName": "pick_color_slot"
              },
              "range": [
                4386,
                4401
              ],
              "name": "pick_color_slot"
            },
            "init": {
              "type": "StringLiteral",
              "start": 4404,
              "end": 4416,
              "loc": {
                "start": {
                  "line": 86,
                  "column": 22,
                  "index": 4404
                },
                "end": {
                  "line": 86,
                  "column": 34,
                  "index": 4416
                }
              },
              "range": [
                4404,
                4416
              ],
              "extra": {
                "rawValue": "background",
                "raw": "\"background\""
              },
              "value": "background"
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {Tool} ",
            "start": 4419,
            "end": 4438,
            "loc": {
              "start": {
                "line": 88,
                "column": 0,
                "index": 4419
              },
              "end": {
                "line": 88,
                "column": 19,
                "index": 4438
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {ColorSelectionSlot} ",
            "start": 4348,
            "end": 4381,
            "loc": {
              "start": {
                "line": 85,
                "column": 0,
                "index": 4348
              },
              "end": {
                "line": 85,
                "column": 33,
                "index": 4381
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 4439,
        "end": 4472,
        "loc": {
          "start": {
            "line": 89,
            "column": 0,
            "index": 4439
          },
          "end": {
            "line": 89,
            "column": 33,
            "index": 4472
          }
        },
        "range": [
          4439,
          4472
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 4443,
            "end": 4471,
            "loc": {
              "start": {
                "line": 89,
                "column": 4,
                "index": 4443
              },
              "end": {
                "line": 89,
                "column": 32,
                "index": 4471
              }
            },
            "range": [
              4443,
              4471
            ],
            "id": {
              "type": "Identifier",
              "start": 4443,
              "end": 4456,
              "loc": {
                "start": {
                  "line": 89,
                  "column": 4,
                  "index": 4443
                },
                "end": {
                  "line": 89,
                  "column": 17,
                  "index": 4456
                },
                "identifierName": "selected_tool"
              },
              "range": [
                4443,
                4456
              ],
              "name": "selected_tool"
            },
            "init": {
              "type": "Identifier",
              "start": 4459,
              "end": 4471,
              "loc": {
                "start": {
                  "line": 89,
                  "column": 20,
                  "index": 4459
                },
                "end": {
                  "line": 89,
                  "column": 32,
                  "index": 4471
                },
                "identifierName": "default_tool"
              },
              "range": [
                4459,
                4471
              ],
              "name": "default_tool"
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {Tool[]} ",
            "start": 4473,
            "end": 4494,
            "loc": {
              "start": {
                "line": 90,
                "column": 0,
                "index": 4473
              },
              "end": {
                "line": 90,
                "column": 21,
                "index": 4494
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {Tool} ",
            "start": 4419,
            "end": 4438,
            "loc": {
              "start": {
                "line": 88,
                "column": 0,
                "index": 4419
              },
              "end": {
                "line": 88,
                "column": 19,
                "index": 4438
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 4495,
        "end": 4532,
        "loc": {
          "start": {
            "line": 91,
            "column": 0,
            "index": 4495
          },
          "end": {
            "line": 91,
            "column": 37,
            "index": 4532
          }
        },
        "range": [
          4495,
          4532
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 4499,
            "end": 4531,
            "loc": {
              "start": {
                "line": 91,
                "column": 4,
                "index": 4499
              },
              "end": {
                "line": 91,
                "column": 36,
                "index": 4531
              }
            },
            "range": [
              4499,
              4531
            ],
            "id": {
              "type": "Identifier",
              "start": 4499,
              "end": 4513,
              "loc": {
                "start": {
                  "line": 91,
                  "column": 4,
                  "index": 4499
                },
                "end": {
                  "line": 91,
                  "column": 18,
                  "index": 4513
                },
                "identifierName": "selected_tools"
              },
              "range": [
                4499,
                4513
              ],
              "name": "selected_tools"
            },
            "init": {
              "type": "ArrayExpression",
              "start": 4516,
              "end": 4531,
              "loc": {
                "start": {
                  "line": 91,
                  "column": 21,
                  "index": 4516
                },
                "end": {
                  "line": 91,
                  "column": 36,
                  "index": 4531
                }
              },
              "range": [
                4516,
                4531
              ],
              "elements": [
                {
                  "type": "Identifier",
                  "start": 4517,
                  "end": 4530,
                  "loc": {
                    "start": {
                      "line": 91,
                      "column": 22,
                      "index": 4517
                    },
                    "end": {
                      "line": 91,
                      "column": 35,
                      "index": 4530
                    },
                    "identifierName": "selected_tool"
                  },
                  "range": [
                    4517,
                    4530
                  ],
                  "name": "selected_tool"
                }
              ]
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {Tool[]} ",
            "start": 4533,
            "end": 4554,
            "loc": {
              "start": {
                "line": 92,
                "column": 0,
                "index": 4533
              },
              "end": {
                "line": 92,
                "column": 21,
                "index": 4554
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {Tool[]} ",
            "start": 4473,
            "end": 4494,
            "loc": {
              "start": {
                "line": 90,
                "column": 0,
                "index": 4473
              },
              "end": {
                "line": 90,
                "column": 21,
                "index": 4494
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 4555,
        "end": 4593,
        "loc": {
          "start": {
            "line": 93,
            "column": 0,
            "index": 4555
          },
          "end": {
            "line": 93,
            "column": 38,
            "index": 4593
          }
        },
        "range": [
          4555,
          4593
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 4559,
            "end": 4592,
            "loc": {
              "start": {
                "line": 93,
                "column": 4,
                "index": 4559
              },
              "end": {
                "line": 93,
                "column": 37,
                "index": 4592
              }
            },
            "range": [
              4559,
              4592
            ],
            "id": {
              "type": "Identifier",
              "start": 4559,
              "end": 4574,
              "loc": {
                "start": {
                  "line": 93,
                  "column": 4,
                  "index": 4559
                },
                "end": {
                  "line": 93,
                  "column": 19,
                  "index": 4574
                },
                "identifierName": "return_to_tools"
              },
              "range": [
                4559,
                4574
              ],
              "name": "return_to_tools"
            },
            "init": {
              "type": "ArrayExpression",
              "start": 4577,
              "end": 4592,
              "loc": {
                "start": {
                  "line": 93,
                  "column": 22,
                  "index": 4577
                },
                "end": {
                  "line": 93,
                  "column": 37,
                  "index": 4592
                }
              },
              "range": [
                4577,
                4592
              ],
              "elements": [
                {
                  "type": "Identifier",
                  "start": 4578,
                  "end": 4591,
                  "loc": {
                    "start": {
                      "line": 93,
                      "column": 23,
                      "index": 4578
                    },
                    "end": {
                      "line": 93,
                      "column": 36,
                      "index": 4591
                    },
                    "identifierName": "selected_tool"
                  },
                  "range": [
                    4578,
                    4591
                  ],
                  "name": "selected_tool"
                }
              ]
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {{foreground: string | CanvasPattern, background: string | CanvasPattern, ternary: string | CanvasPattern}} ",
            "start": 4595,
            "end": 4715,
            "loc": {
              "start": {
                "line": 95,
                "column": 0,
                "index": 4595
              },
              "end": {
                "line": 95,
                "column": 120,
                "index": 4715
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {Tool[]} ",
            "start": 4533,
            "end": 4554,
            "loc": {
              "start": {
                "line": 92,
                "column": 0,
                "index": 4533
              },
              "end": {
                "line": 92,
                "column": 21,
                "index": 4554
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 4716,
        "end": 4790,
        "loc": {
          "start": {
            "line": 96,
            "column": 0,
            "index": 4716
          },
          "end": {
            "line": 100,
            "column": 2,
            "index": 4790
          }
        },
        "range": [
          4716,
          4790
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 4720,
            "end": 4789,
            "loc": {
              "start": {
                "line": 96,
                "column": 4,
                "index": 4720
              },
              "end": {
                "line": 100,
                "column": 1,
                "index": 4789
              }
            },
            "range": [
              4720,
              4789
            ],
            "id": {
              "type": "Identifier",
              "start": 4720,
              "end": 4735,
              "loc": {
                "start": {
                  "line": 96,
                  "column": 4,
                  "index": 4720
                },
                "end": {
                  "line": 96,
                  "column": 19,
                  "index": 4735
                },
                "identifierName": "selected_colors"
              },
              "range": [
                4720,
                4735
              ],
              "name": "selected_colors"
            },
            "init": {
              "type": "ObjectExpression",
              "start": 4738,
              "end": 4789,
              "loc": {
                "start": {
                  "line": 96,
                  "column": 22,
                  "index": 4738
                },
                "end": {
                  "line": 100,
                  "column": 1,
                  "index": 4789
                }
              },
              "range": [
                4738,
                4789
              ],
              "properties": [
                {
                  "type": "ObjectProperty",
                  "start": 4741,
                  "end": 4755,
                  "loc": {
                    "start": {
                      "line": 97,
                      "column": 1,
                      "index": 4741
                    },
                    "end": {
                      "line": 97,
                      "column": 15,
                      "index": 4755
                    }
                  },
                  "range": [
                    4741,
                    4755
                  ],
                  "method": false,
                  "key": {
                    "type": "Identifier",
                    "start": 4741,
                    "end": 4751,
                    "loc": {
                      "start": {
                        "line": 97,
                        "column": 1,
                        "index": 4741
                      },
                      "end": {
                        "line": 97,
                        "column": 11,
                        "index": 4751
                      },
                      "identifierName": "foreground"
                    },
                    "range": [
                      4741,
                      4751
                    ],
                    "name": "foreground"
                  },
                  "computed": false,
                  "shorthand": false,
                  "value": {
                    "type": "StringLiteral",
                    "start": 4753,
                    "end": 4755,
                    "loc": {
                      "start": {
                        "line": 97,
                        "column": 13,
                        "index": 4753
                      },
                      "end": {
                        "line": 97,
                        "column": 15,
                        "index": 4755
                      }
                    },
                    "range": [
                      4753,
                      4755
                    ],
                    "extra": {
                      "rawValue": "",
                      "raw": "\"\""
                    },
                    "value": ""
                  }
                },
                {
                  "type": "ObjectProperty",
                  "start": 4758,
                  "end": 4772,
                  "loc": {
                    "start": {
                      "line": 98,
                      "column": 1,
                      "index": 4758
                    },
                    "end": {
                      "line": 98,
                      "column": 15,
                      "index": 4772
                    }
                  },
                  "range": [
                    4758,
                    4772
                  ],
                  "method": false,
                  "key": {
                    "type": "Identifier",
                    "start": 4758,
                    "end": 4768,
                    "loc": {
                      "start": {
                        "line": 98,
                        "column": 1,
                        "index": 4758
                      },
                      "end": {
                        "line": 98,
                        "column": 11,
                        "index": 4768
                      },
                      "identifierName": "background"
                    },
                    "range": [
                      4758,
                      4768
                    ],
                    "name": "background"
                  },
                  "computed": false,
                  "shorthand": false,
                  "value": {
                    "type": "StringLiteral",
                    "start": 4770,
                    "end": 4772,
                    "loc": {
                      "start": {
                        "line": 98,
                        "column": 13,
                        "index": 4770
                      },
                      "end": {
                        "line": 98,
                        "column": 15,
                        "index": 4772
                      }
                    },
                    "range": [
                      4770,
                      4772
                    ],
                    "extra": {
                      "rawValue": "",
                      "raw": "\"\""
                    },
                    "value": ""
                  }
                },
                {
                  "type": "ObjectProperty",
                  "start": 4775,
                  "end": 4786,
                  "loc": {
                    "start": {
                      "line": 99,
                      "column": 1,
                      "index": 4775
                    },
                    "end": {
                      "line": 99,
                      "column": 12,
                      "index": 4786
                    }
                  },
                  "range": [
                    4775,
                    4786
                  ],
                  "method": false,
                  "key": {
                    "type": "Identifier",
                    "start": 4775,
                    "end": 4782,
                    "loc": {
                      "start": {
                        "line": 99,
                        "column": 1,
                        "index": 4775
                      },
                      "end": {
                        "line": 99,
                        "column": 8,
                        "index": 4782
                      },
                      "identifierName": "ternary"
                    },
                    "range": [
                      4775,
                      4782
                    ],
                    "name": "ternary"
                  },
                  "computed": false,
                  "shorthand": false,
                  "value": {
                    "type": "StringLiteral",
                    "start": 4784,
                    "end": 4786,
                    "loc": {
                      "start": {
                        "line": 99,
                        "column": 10,
                        "index": 4784
                      },
                      "end": {
                        "line": 99,
                        "column": 12,
                        "index": 4786
                      }
                    },
                    "range": [
                      4784,
                      4786
                    ],
                    "extra": {
                      "rawValue": "",
                      "raw": "\"\""
                    },
                    "value": ""
                  }
                }
              ],
              "extra": {
                "trailingComma": 4786
              }
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {OnCanvasSelection} ",
            "start": 4792,
            "end": 4824,
            "loc": {
              "start": {
                "line": 102,
                "column": 0,
                "index": 4792
              },
              "end": {
                "line": 102,
                "column": 32,
                "index": 4824
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {{foreground: string | CanvasPattern, background: string | CanvasPattern, ternary: string | CanvasPattern}} ",
            "start": 4595,
            "end": 4715,
            "loc": {
              "start": {
                "line": 95,
                "column": 0,
                "index": 4595
              },
              "end": {
                "line": 95,
                "column": 120,
                "index": 4715
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 4825,
        "end": 4839,
        "loc": {
          "start": {
            "line": 103,
            "column": 0,
            "index": 4825
          },
          "end": {
            "line": 103,
            "column": 14,
            "index": 4839
          }
        },
        "range": [
          4825,
          4839
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 4829,
            "end": 4838,
            "loc": {
              "start": {
                "line": 103,
                "column": 4,
                "index": 4829
              },
              "end": {
                "line": 103,
                "column": 13,
                "index": 4838
              }
            },
            "range": [
              4829,
              4838
            ],
            "id": {
              "type": "Identifier",
              "start": 4829,
              "end": 4838,
              "loc": {
                "start": {
                  "line": 103,
                  "column": 4,
                  "index": 4829
                },
                "end": {
                  "line": 103,
                  "column": 13,
                  "index": 4838
                },
                "identifierName": "selection"
              },
              "range": [
                4829,
                4838
              ],
              "name": "selection"
            },
            "init": null
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentLine",
            "value": " singleton",
            "start": 4840,
            "end": 4852,
            "loc": {
              "start": {
                "line": 103,
                "column": 15,
                "index": 4840
              },
              "end": {
                "line": 103,
                "column": 27,
                "index": 4852
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": "* @type {OnCanvasTextBox} ",
            "start": 4853,
            "end": 4883,
            "loc": {
              "start": {
                "line": 104,
                "column": 0,
                "index": 4853
              },
              "end": {
                "line": 104,
                "column": 30,
                "index": 4883
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {OnCanvasSelection} ",
            "start": 4792,
            "end": 4824,
            "loc": {
              "start": {
                "line": 102,
                "column": 0,
                "index": 4792
              },
              "end": {
                "line": 102,
                "column": 32,
                "index": 4824
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 4884,
        "end": 4896,
        "loc": {
          "start": {
            "line": 105,
            "column": 0,
            "index": 4884
          },
          "end": {
            "line": 105,
            "column": 12,
            "index": 4896
          }
        },
        "range": [
          4884,
          4896
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 4888,
            "end": 4895,
            "loc": {
              "start": {
                "line": 105,
                "column": 4,
                "index": 4888
              },
              "end": {
                "line": 105,
                "column": 11,
                "index": 4895
              }
            },
            "range": [
              4888,
              4895
            ],
            "id": {
              "type": "Identifier",
              "start": 4888,
              "end": 4895,
              "loc": {
                "start": {
                  "line": 105,
                  "column": 4,
                  "index": 4888
                },
                "end": {
                  "line": 105,
                  "column": 11,
                  "index": 4895
                },
                "identifierName": "textbox"
              },
              "range": [
                4888,
                4895
              ],
              "name": "textbox"
            },
            "init": null
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentLine",
            "value": " singleton",
            "start": 4897,
            "end": 4909,
            "loc": {
              "start": {
                "line": 105,
                "column": 13,
                "index": 4897
              },
              "end": {
                "line": 105,
                "column": 25,
                "index": 4909
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": "* @type {OnCanvasHelperLayer} ",
            "start": 4910,
            "end": 4944,
            "loc": {
              "start": {
                "line": 106,
                "column": 0,
                "index": 4910
              },
              "end": {
                "line": 106,
                "column": 34,
                "index": 4944
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentLine",
            "value": " singleton",
            "start": 4840,
            "end": 4852,
            "loc": {
              "start": {
                "line": 103,
                "column": 15,
                "index": 4840
              },
              "end": {
                "line": 103,
                "column": 27,
                "index": 4852
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": "* @type {OnCanvasTextBox} ",
            "start": 4853,
            "end": 4883,
            "loc": {
              "start": {
                "line": 104,
                "column": 0,
                "index": 4853
              },
              "end": {
                "line": 104,
                "column": 30,
                "index": 4883
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 4945,
        "end": 4962,
        "loc": {
          "start": {
            "line": 107,
            "column": 0,
            "index": 4945
          },
          "end": {
            "line": 107,
            "column": 17,
            "index": 4962
          }
        },
        "range": [
          4945,
          4962
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 4949,
            "end": 4961,
            "loc": {
              "start": {
                "line": 107,
                "column": 4,
                "index": 4949
              },
              "end": {
                "line": 107,
                "column": 16,
                "index": 4961
              }
            },
            "range": [
              4949,
              4961
            ],
            "id": {
              "type": "Identifier",
              "start": 4949,
              "end": 4961,
              "loc": {
                "start": {
                  "line": 107,
                  "column": 4,
                  "index": 4949
                },
                "end": {
                  "line": 107,
                  "column": 16,
                  "index": 4961
                },
                "identifierName": "helper_layer"
              },
              "range": [
                4949,
                4961
              ],
              "name": "helper_layer"
            },
            "init": null
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentLine",
            "value": " instance used for the grid and tool previews (not a singleton)",
            "start": 4963,
            "end": 5028,
            "loc": {
              "start": {
                "line": 107,
                "column": 18,
                "index": 4963
              },
              "end": {
                "line": 107,
                "column": 83,
                "index": 5028
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": "* @type {OSGUI$Window} ",
            "start": 5029,
            "end": 5056,
            "loc": {
              "start": {
                "line": 108,
                "column": 0,
                "index": 5029
              },
              "end": {
                "line": 108,
                "column": 27,
                "index": 5056
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentLine",
            "value": " singleton",
            "start": 4897,
            "end": 4909,
            "loc": {
              "start": {
                "line": 105,
                "column": 13,
                "index": 4897
              },
              "end": {
                "line": 105,
                "column": 25,
                "index": 4909
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": "* @type {OnCanvasHelperLayer} ",
            "start": 4910,
            "end": 4944,
            "loc": {
              "start": {
                "line": 106,
                "column": 0,
                "index": 4910
              },
              "end": {
                "line": 106,
                "column": 34,
                "index": 4944
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 5057,
        "end": 5079,
        "loc": {
          "start": {
            "line": 109,
            "column": 0,
            "index": 5057
          },
          "end": {
            "line": 109,
            "column": 22,
            "index": 5079
          }
        },
        "range": [
          5057,
          5079
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 5061,
            "end": 5078,
            "loc": {
              "start": {
                "line": 109,
                "column": 4,
                "index": 5061
              },
              "end": {
                "line": 109,
                "column": 21,
                "index": 5078
              }
            },
            "range": [
              5061,
              5078
            ],
            "id": {
              "type": "Identifier",
              "start": 5061,
              "end": 5078,
              "loc": {
                "start": {
                  "line": 109,
                  "column": 4,
                  "index": 5061
                },
                "end": {
                  "line": 109,
                  "column": 21,
                  "index": 5078
                },
                "identifierName": "$thumbnail_window"
              },
              "range": [
                5061,
                5078
              ],
              "name": "$thumbnail_window"
            },
            "init": null
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {PixelCanvas} ",
            "start": 5080,
            "end": 5106,
            "loc": {
              "start": {
                "line": 110,
                "column": 0,
                "index": 5080
              },
              "end": {
                "line": 110,
                "column": 26,
                "index": 5106
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentLine",
            "value": " instance used for the grid and tool previews (not a singleton)",
            "start": 4963,
            "end": 5028,
            "loc": {
              "start": {
                "line": 107,
                "column": 18,
                "index": 4963
              },
              "end": {
                "line": 107,
                "column": 83,
                "index": 5028
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": "* @type {OSGUI$Window} ",
            "start": 5029,
            "end": 5056,
            "loc": {
              "start": {
                "line": 108,
                "column": 0,
                "index": 5029
              },
              "end": {
                "line": 108,
                "column": 27,
                "index": 5056
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 5107,
        "end": 5128,
        "loc": {
          "start": {
            "line": 111,
            "column": 0,
            "index": 5107
          },
          "end": {
            "line": 111,
            "column": 21,
            "index": 5128
          }
        },
        "range": [
          5107,
          5128
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 5111,
            "end": 5127,
            "loc": {
              "start": {
                "line": 111,
                "column": 4,
                "index": 5111
              },
              "end": {
                "line": 111,
                "column": 20,
                "index": 5127
              }
            },
            "range": [
              5111,
              5127
            ],
            "id": {
              "type": "Identifier",
              "start": 5111,
              "end": 5127,
              "loc": {
                "start": {
                  "line": 111,
                  "column": 4,
                  "index": 5111
                },
                "end": {
                  "line": 111,
                  "column": 20,
                  "index": 5127
                },
                "identifierName": "thumbnail_canvas"
              },
              "range": [
                5111,
                5127
              ],
              "name": "thumbnail_canvas"
            },
            "init": null
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {boolean} ",
            "start": 5129,
            "end": 5151,
            "loc": {
              "start": {
                "line": 112,
                "column": 0,
                "index": 5129
              },
              "end": {
                "line": 112,
                "column": 22,
                "index": 5151
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {PixelCanvas} ",
            "start": 5080,
            "end": 5106,
            "loc": {
              "start": {
                "line": 110,
                "column": 0,
                "index": 5080
              },
              "end": {
                "line": 110,
                "column": 26,
                "index": 5106
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 5152,
        "end": 5174,
        "loc": {
          "start": {
            "line": 113,
            "column": 0,
            "index": 5152
          },
          "end": {
            "line": 113,
            "column": 22,
            "index": 5174
          }
        },
        "range": [
          5152,
          5174
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 5156,
            "end": 5173,
            "loc": {
              "start": {
                "line": 113,
                "column": 4,
                "index": 5156
              },
              "end": {
                "line": 113,
                "column": 21,
                "index": 5173
              }
            },
            "range": [
              5156,
              5173
            ],
            "id": {
              "type": "Identifier",
              "start": 5156,
              "end": 5165,
              "loc": {
                "start": {
                  "line": 113,
                  "column": 4,
                  "index": 5156
                },
                "end": {
                  "line": 113,
                  "column": 13,
                  "index": 5165
                },
                "identifierName": "show_grid"
              },
              "range": [
                5156,
                5165
              ],
              "name": "show_grid"
            },
            "init": {
              "type": "BooleanLiteral",
              "start": 5168,
              "end": 5173,
              "loc": {
                "start": {
                  "line": 113,
                  "column": 16,
                  "index": 5168
                },
                "end": {
                  "line": 113,
                  "column": 21,
                  "index": 5173
                }
              },
              "range": [
                5168,
                5173
              ],
              "value": false
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {boolean} ",
            "start": 5175,
            "end": 5197,
            "loc": {
              "start": {
                "line": 114,
                "column": 0,
                "index": 5175
              },
              "end": {
                "line": 114,
                "column": 22,
                "index": 5197
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {boolean} ",
            "start": 5129,
            "end": 5151,
            "loc": {
              "start": {
                "line": 112,
                "column": 0,
                "index": 5129
              },
              "end": {
                "line": 112,
                "column": 22,
                "index": 5151
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 5198,
        "end": 5225,
        "loc": {
          "start": {
            "line": 115,
            "column": 0,
            "index": 5198
          },
          "end": {
            "line": 115,
            "column": 27,
            "index": 5225
          }
        },
        "range": [
          5198,
          5225
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 5202,
            "end": 5224,
            "loc": {
              "start": {
                "line": 115,
                "column": 4,
                "index": 5202
              },
              "end": {
                "line": 115,
                "column": 26,
                "index": 5224
              }
            },
            "range": [
              5202,
              5224
            ],
            "id": {
              "type": "Identifier",
              "start": 5202,
              "end": 5216,
              "loc": {
                "start": {
                  "line": 115,
                  "column": 4,
                  "index": 5202
                },
                "end": {
                  "line": 115,
                  "column": 18,
                  "index": 5216
                },
                "identifierName": "show_thumbnail"
              },
              "range": [
                5202,
                5216
              ],
              "name": "show_thumbnail"
            },
            "init": {
              "type": "BooleanLiteral",
              "start": 5219,
              "end": 5224,
              "loc": {
                "start": {
                  "line": 115,
                  "column": 21,
                  "index": 5219
                },
                "end": {
                  "line": 115,
                  "column": 26,
                  "index": 5224
                }
              },
              "range": [
                5219,
                5224
              ],
              "value": false
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {TextToolFontOptions} ",
            "start": 5226,
            "end": 5260,
            "loc": {
              "start": {
                "line": 116,
                "column": 0,
                "index": 5226
              },
              "end": {
                "line": 116,
                "column": 34,
                "index": 5260
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {boolean} ",
            "start": 5175,
            "end": 5197,
            "loc": {
              "start": {
                "line": 114,
                "column": 0,
                "index": 5175
              },
              "end": {
                "line": 114,
                "column": 22,
                "index": 5197
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 5261,
        "end": 5490,
        "loc": {
          "start": {
            "line": 117,
            "column": 0,
            "index": 5261
          },
          "end": {
            "line": 127,
            "column": 2,
            "index": 5490
          }
        },
        "range": [
          5261,
          5490
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 5265,
            "end": 5489,
            "loc": {
              "start": {
                "line": 117,
                "column": 4,
                "index": 5265
              },
              "end": {
                "line": 127,
                "column": 1,
                "index": 5489
              }
            },
            "range": [
              5265,
              5489
            ],
            "id": {
              "type": "Identifier",
              "start": 5265,
              "end": 5279,
              "loc": {
                "start": {
                  "line": 117,
                  "column": 4,
                  "index": 5265
                },
                "end": {
                  "line": 117,
                  "column": 18,
                  "index": 5279
                },
                "identifierName": "text_tool_font"
              },
              "range": [
                5265,
                5279
              ],
              "name": "text_tool_font"
            },
            "init": {
              "type": "ObjectExpression",
              "start": 5282,
              "end": 5489,
              "loc": {
                "start": {
                  "line": 117,
                  "column": 21,
                  "index": 5282
                },
                "end": {
                  "line": 127,
                  "column": 1,
                  "index": 5489
                }
              },
              "range": [
                5282,
                5489
              ],
              "properties": [
                {
                  "type": "ObjectProperty",
                  "start": 5285,
                  "end": 5302,
                  "loc": {
                    "start": {
                      "line": 118,
                      "column": 1,
                      "index": 5285
                    },
                    "end": {
                      "line": 118,
                      "column": 18,
                      "index": 5302
                    }
                  },
                  "range": [
                    5285,
                    5302
                  ],
                  "method": false,
                  "key": {
                    "type": "Identifier",
                    "start": 5285,
                    "end": 5291,
                    "loc": {
                      "start": {
                        "line": 118,
                        "column": 1,
                        "index": 5285
                      },
                      "end": {
                        "line": 118,
                        "column": 7,
                        "index": 5291
                      },
                      "identifierName": "family"
                    },
                    "range": [
                      5285,
                      5291
                    ],
                    "name": "family"
                  },
                  "computed": false,
                  "shorthand": false,
                  "value": {
                    "type": "StringLiteral",
                    "start": 5293,
                    "end": 5302,
                    "loc": {
                      "start": {
                        "line": 118,
                        "column": 9,
                        "index": 5293
                      },
                      "end": {
                        "line": 118,
                        "column": 18,
                        "index": 5302
                      }
                    },
                    "range": [
                      5293,
                      5302
                    ],
                    "extra": {
                      "rawValue": "\"Arial\"",
                      "raw": "'\"Arial\"'"
                    },
                    "value": "\"Arial\""
                  }
                },
                {
                  "type": "ObjectProperty",
                  "start": 5360,
                  "end": 5368,
                  "loc": {
                    "start": {
                      "line": 119,
                      "column": 1,
                      "index": 5360
                    },
                    "end": {
                      "line": 119,
                      "column": 9,
                      "index": 5368
                    }
                  },
                  "range": [
                    5360,
                    5368
                  ],
                  "method": false,
                  "key": {
                    "type": "Identifier",
                    "start": 5360,
                    "end": 5364,
                    "loc": {
                      "start": {
                        "line": 119,
                        "column": 1,
                        "index": 5360
                      },
                      "end": {
                        "line": 119,
                        "column": 5,
                        "index": 5364
                      },
                      "identifierName": "size"
                    },
                    "range": [
                      5360,
                      5364
                    ],
                    "name": "size"
                  },
                  "computed": false,
                  "shorthand": false,
                  "value": {
                    "type": "NumericLiteral",
                    "start": 5366,
                    "end": 5368,
                    "loc": {
                      "start": {
                        "line": 119,
                        "column": 7,
                        "index": 5366
                      },
                      "end": {
                        "line": 119,
                        "column": 9,
                        "index": 5368
                      }
                    },
                    "range": [
                      5366,
                      5368
                    ],
                    "extra": {
                      "rawValue": 12,
                      "raw": "12"
                    },
                    "value": 12
                  },
                  "leadingComments": [
                    {
                      "type": "CommentLine",
                      "value": " should be an exact value detected by Font Detective",
                      "start": 5304,
                      "end": 5358,
                      "loc": {
                        "start": {
                          "line": 118,
                          "column": 20,
                          "index": 5304
                        },
                        "end": {
                          "line": 118,
                          "column": 74,
                          "index": 5358
                        }
                      }
                    }
                  ]
                },
                {
                  "type": "ObjectProperty",
                  "start": 5371,
                  "end": 5390,
                  "loc": {
                    "start": {
                      "line": 120,
                      "column": 1,
                      "index": 5371
                    },
                    "end": {
                      "line": 120,
                      "column": 20,
                      "index": 5390
                    }
                  },
                  "range": [
                    5371,
                    5390
                  ],
                  "method": false,
                  "key": {
                    "type": "Identifier",
                    "start": 5371,
                    "end": 5381,
                    "loc": {
                      "start": {
                        "line": 120,
                        "column": 1,
                        "index": 5371
                      },
                      "end": {
                        "line": 120,
                        "column": 11,
                        "index": 5381
                      },
                      "identifierName": "line_scale"
                    },
                    "range": [
                      5371,
                      5381
                    ],
                    "name": "line_scale"
                  },
                  "computed": false,
                  "shorthand": false,
                  "value": {
                    "type": "BinaryExpression",
                    "start": 5383,
                    "end": 5390,
                    "loc": {
                      "start": {
                        "line": 120,
                        "column": 13,
                        "index": 5383
                      },
                      "end": {
                        "line": 120,
                        "column": 20,
                        "index": 5390
                      }
                    },
                    "range": [
                      5383,
                      5390
                    ],
                    "left": {
                      "type": "NumericLiteral",
                      "start": 5383,
                      "end": 5385,
                      "loc": {
                        "start": {
                          "line": 120,
                          "column": 13,
                          "index": 5383
                        },
                        "end": {
                          "line": 120,
                          "column": 15,
                          "index": 5385
                        }
                      },
                      "range": [
                        5383,
                        5385
                      ],
                      "extra": {
                        "rawValue": 20,
                        "raw": "20"
                      },
                      "value": 20
                    },
                    "operator": "/",
                    "right": {
                      "type": "NumericLiteral",
                      "start": 5388,
                      "end": 5390,
                      "loc": {
                        "start": {
                          "line": 120,
                          "column": 18,
                          "index": 5388
                        },
                        "end": {
                          "line": 120,
                          "column": 20,
                          "index": 5390
                        }
                      },
                      "range": [
                        5388,
                        5390
                      ],
                      "extra": {
                        "rawValue": 12,
                        "raw": "12"
                      },
                      "value": 12
                    }
                  }
                },
                {
                  "type": "ObjectProperty",
                  "start": 5393,
                  "end": 5404,
                  "loc": {
                    "start": {
                      "line": 121,
                      "column": 1,
                      "index": 5393
                    },
                    "end": {
                      "line": 121,
                      "column": 12,
                      "index": 5404
                    }
                  },
                  "range": [
                    5393,
                    5404
                  ],
                  "method": false,
                  "key": {
                    "type": "Identifier",
                    "start": 5393,
                    "end": 5397,
                    "loc": {
                      "start": {
                        "line": 121,
                        "column": 1,
                        "index": 5393
                      },
                      "end": {
                        "line": 121,
                        "column": 5,
                        "index": 5397
                      },
                      "identifierName": "bold"
                    },
                    "range": [
                      5393,
                      5397
                    ],
                    "name": "bold"
                  },
                  "computed": false,
                  "shorthand": false,
                  "value": {
                    "type": "BooleanLiteral",
                    "start": 5399,
                    "end": 5404,
                    "loc": {
                      "start": {
                        "line": 121,
                        "column": 7,
                        "index": 5399
                      },
                      "end": {
                        "line": 121,
                        "column": 12,
                        "index": 5404
                      }
                    },
                    "range": [
                      5399,
                      5404
                    ],
                    "value": false
                  }
                },
                {
                  "type": "ObjectProperty",
                  "start": 5407,
                  "end": 5420,
                  "loc": {
                    "start": {
                      "line": 122,
                      "column": 1,
                      "index": 5407
                    },
                    "end": {
                      "line": 122,
                      "column": 14,
                      "index": 5420
                    }
                  },
                  "range": [
                    5407,
                    5420
                  ],
                  "method": false,
                  "key": {
                    "type": "Identifier",
                    "start": 5407,
                    "end": 5413,
                    "loc": {
                      "start": {
                        "line": 122,
                        "column": 1,
                        "index": 5407
                      },
                      "end": {
                        "line": 122,
                        "column": 7,
                        "index": 5413
                      },
                      "identifierName": "italic"
                    },
                    "range": [
                      5407,
                      5413
                    ],
                    "name": "italic"
                  },
                  "computed": false,
                  "shorthand": false,
                  "value": {
                    "type": "BooleanLiteral",
                    "start": 5415,
                    "end": 5420,
                    "loc": {
                      "start": {
                        "line": 122,
                        "column": 9,
                        "index": 5415
                      },
                      "end": {
                        "line": 122,
                        "column": 14,
                        "index": 5420
                      }
                    },
                    "range": [
                      5415,
                      5420
                    ],
                    "value": false
                  }
                },
                {
                  "type": "ObjectProperty",
                  "start": 5423,
                  "end": 5439,
                  "loc": {
                    "start": {
                      "line": 123,
                      "column": 1,
                      "index": 5423
                    },
                    "end": {
                      "line": 123,
                      "column": 17,
                      "index": 5439
                    }
                  },
                  "range": [
                    5423,
                    5439
                  ],
                  "method": false,
                  "key": {
                    "type": "Identifier",
                    "start": 5423,
                    "end": 5432,
                    "loc": {
                      "start": {
                        "line": 123,
                        "column": 1,
                        "index": 5423
                      },
                      "end": {
                        "line": 123,
                        "column": 10,
                        "index": 5432
                      },
                      "identifierName": "underline"
                    },
                    "range": [
                      5423,
                      5432
                    ],
                    "name": "underline"
                  },
                  "computed": false,
                  "shorthand": false,
                  "value": {
                    "type": "BooleanLiteral",
                    "start": 5434,
                    "end": 5439,
                    "loc": {
                      "start": {
                        "line": 123,
                        "column": 12,
                        "index": 5434
                      },
                      "end": {
                        "line": 123,
                        "column": 17,
                        "index": 5439
                      }
                    },
                    "range": [
                      5434,
                      5439
                    ],
                    "value": false
                  }
                },
                {
                  "type": "ObjectProperty",
                  "start": 5442,
                  "end": 5457,
                  "loc": {
                    "start": {
                      "line": 124,
                      "column": 1,
                      "index": 5442
                    },
                    "end": {
                      "line": 124,
                      "column": 16,
                      "index": 5457
                    }
                  },
                  "range": [
                    5442,
                    5457
                  ],
                  "method": false,
                  "key": {
                    "type": "Identifier",
                    "start": 5442,
                    "end": 5450,
                    "loc": {
                      "start": {
                        "line": 124,
                        "column": 1,
                        "index": 5442
                      },
                      "end": {
                        "line": 124,
                        "column": 9,
                        "index": 5450
                      },
                      "identifierName": "vertical"
                    },
                    "range": [
                      5442,
                      5450
                    ],
                    "name": "vertical"
                  },
                  "computed": false,
                  "shorthand": false,
                  "value": {
                    "type": "BooleanLiteral",
                    "start": 5452,
                    "end": 5457,
                    "loc": {
                      "start": {
                        "line": 124,
                        "column": 11,
                        "index": 5452
                      },
                      "end": {
                        "line": 124,
                        "column": 16,
                        "index": 5457
                      }
                    },
                    "range": [
                      5452,
                      5457
                    ],
                    "value": false
                  }
                },
                {
                  "type": "ObjectProperty",
                  "start": 5460,
                  "end": 5469,
                  "loc": {
                    "start": {
                      "line": 125,
                      "column": 1,
                      "index": 5460
                    },
                    "end": {
                      "line": 125,
                      "column": 10,
                      "index": 5469
                    }
                  },
                  "range": [
                    5460,
                    5469
                  ],
                  "method": false,
                  "key": {
                    "type": "Identifier",
                    "start": 5460,
                    "end": 5465,
                    "loc": {
                      "start": {
                        "line": 125,
                        "column": 1,
                        "index": 5460
                      },
                      "end": {
                        "line": 125,
                        "column": 6,
                        "index": 5465
                      },
                      "identifierName": "color"
                    },
                    "range": [
                      5460,
                      5465
                    ],
                    "name": "color"
                  },
                  "computed": false,
                  "shorthand": false,
                  "value": {
                    "type": "StringLiteral",
                    "start": 5467,
                    "end": 5469,
                    "loc": {
                      "start": {
                        "line": 125,
                        "column": 8,
                        "index": 5467
                      },
                      "end": {
                        "line": 125,
                        "column": 10,
                        "index": 5469
                      }
                    },
                    "range": [
                      5467,
                      5469
                    ],
                    "extra": {
                      "rawValue": "",
                      "raw": "\"\""
                    },
                    "value": ""
                  }
                },
                {
                  "type": "ObjectProperty",
                  "start": 5472,
                  "end": 5486,
                  "loc": {
                    "start": {
                      "line": 126,
                      "column": 1,
                      "index": 5472
                    },
                    "end": {
                      "line": 126,
                      "column": 15,
                      "index": 5486
                    }
                  },
                  "range": [
                    5472,
                    5486
                  ],
                  "method": false,
                  "key": {
                    "type": "Identifier",
                    "start": 5472,
                    "end": 5482,
                    "loc": {
                      "start": {
                        "line": 126,
                        "column": 1,
                        "index": 5472
                      },
                      "end": {
                        "line": 126,
                        "column": 11,
                        "index": 5482
                      },
                      "identifierName": "background"
                    },
                    "range": [
                      5472,
                      5482
                    ],
                    "name": "background"
                  },
                  "computed": false,
                  "shorthand": false,
                  "value": {
                    "type": "StringLiteral",
                    "start": 5484,
                    "end": 5486,
                    "loc": {
                      "start": {
                        "line": 126,
                        "column": 13,
                        "index": 5484
                      },
                      "end": {
                        "line": 126,
                        "column": 15,
                        "index": 5486
                      }
                    },
                    "range": [
                      5484,
                      5486
                    ],
                    "extra": {
                      "rawValue": "",
                      "raw": "\"\""
                    },
                    "value": ""
                  }
                }
              ],
              "extra": {
                "trailingComma": 5486
              }
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {HistoryNode} ",
            "start": 5492,
            "end": 5518,
            "loc": {
              "start": {
                "line": 129,
                "column": 0,
                "index": 5492
              },
              "end": {
                "line": 129,
                "column": 26,
                "index": 5518
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {TextToolFontOptions} ",
            "start": 5226,
            "end": 5260,
            "loc": {
              "start": {
                "line": 116,
                "column": 0,
                "index": 5226
              },
              "end": {
                "line": 116,
                "column": 34,
                "index": 5260
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 5519,
        "end": 5633,
        "loc": {
          "start": {
            "line": 130,
            "column": 0,
            "index": 5519
          },
          "end": {
            "line": 130,
            "column": 114,
            "index": 5633
          }
        },
        "range": [
          5519,
          5633
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 5523,
            "end": 5632,
            "loc": {
              "start": {
                "line": 130,
                "column": 4,
                "index": 5523
              },
              "end": {
                "line": 130,
                "column": 113,
                "index": 5632
              }
            },
            "range": [
              5523,
              5632
            ],
            "id": {
              "type": "Identifier",
              "start": 5523,
              "end": 5540,
              "loc": {
                "start": {
                  "line": 130,
                  "column": 4,
                  "index": 5523
                },
                "end": {
                  "line": 130,
                  "column": 21,
                  "index": 5540
                },
                "identifierName": "root_history_node"
              },
              "range": [
                5523,
                5540
              ],
              "name": "root_history_node"
            },
            "init": {
              "type": "CallExpression",
              "start": 5543,
              "end": 5632,
              "loc": {
                "start": {
                  "line": 130,
                  "column": 24,
                  "index": 5543
                },
                "end": {
                  "line": 130,
                  "column": 113,
                  "index": 5632
                }
              },
              "range": [
                5543,
                5632
              ],
              "callee": {
                "type": "MemberExpression",
                "start": 5543,
                "end": 5567,
                "loc": {
                  "start": {
                    "line": 130,
                    "column": 24,
                    "index": 5543
                  },
                  "end": {
                    "line": 130,
                    "column": 48,
                    "index": 5567
                  }
                },
                "range": [
                  5543,
                  5567
                ],
                "object": {
                  "type": "Identifier",
                  "start": 5543,
                  "end": 5549,
                  "loc": {
                    "start": {
                      "line": 130,
                      "column": 24,
                      "index": 5543
                    },
                    "end": {
                      "line": 130,
                      "column": 30,
                      "index": 5549
                    },
                    "identifierName": "window"
                  },
                  "range": [
                    5543,
                    5549
                  ],
                  "name": "window"
                },
                "computed": false,
                "property": {
                  "type": "Identifier",
                  "start": 5550,
                  "end": 5567,
                  "loc": {
                    "start": {
                      "line": 130,
                      "column": 31,
                      "index": 5550
                    },
                    "end": {
                      "line": 130,
                      "column": 48,
                      "index": 5567
                    },
                    "identifierName": "make_history_node"
                  },
                  "range": [
                    5550,
                    5567
                  ],
                  "name": "make_history_node"
                }
              },
              "arguments": [
                {
                  "type": "ObjectExpression",
                  "start": 5568,
                  "end": 5631,
                  "loc": {
                    "start": {
                      "line": 130,
                      "column": 49,
                      "index": 5568
                    },
                    "end": {
                      "line": 130,
                      "column": 112,
                      "index": 5631
                    }
                  },
                  "range": [
                    5568,
                    5631
                  ],
                  "properties": [
                    {
                      "type": "ObjectProperty",
                      "start": 5570,
                      "end": 5629,
                      "loc": {
                        "start": {
                          "line": 130,
                          "column": 51,
                          "index": 5570
                        },
                        "end": {
                          "line": 130,
                          "column": 110,
                          "index": 5629
                        }
                      },
                      "range": [
                        5570,
                        5629
                      ],
                      "method": false,
                      "key": {
                        "type": "Identifier",
                        "start": 5570,
                        "end": 5574,
                        "loc": {
                          "start": {
                            "line": 130,
                            "column": 51,
                            "index": 5570
                          },
                          "end": {
                            "line": 130,
                            "column": 55,
                            "index": 5574
                          },
                          "identifierName": "name"
                        },
                        "range": [
                          5570,
                          5574
                        ],
                        "name": "name"
                      },
                      "computed": false,
                      "shorthand": false,
                      "value": {
                        "type": "StringLiteral",
                        "start": 5576,
                        "end": 5629,
                        "loc": {
                          "start": {
                            "line": 130,
                            "column": 57,
                            "index": 5576
                          },
                          "end": {
                            "line": 130,
                            "column": 110,
                            "index": 5629
                          }
                        },
                        "range": [
                          5576,
                          5629
                        ],
                        "extra": {
                          "rawValue": "App Not Loaded Properly - Please send a bug report.",
                          "raw": "\"App Not Loaded Properly - Please send a bug report.\""
                        },
                        "value": "App Not Loaded Properly - Please send a bug report."
                      }
                    }
                  ]
                }
              ]
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentLine",
            "value": " will be replaced",
            "start": 5634,
            "end": 5653,
            "loc": {
              "start": {
                "line": 130,
                "column": 115,
                "index": 5634
              },
              "end": {
                "line": 130,
                "column": 134,
                "index": 5653
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": "* @type {HistoryNode} ",
            "start": 5654,
            "end": 5680,
            "loc": {
              "start": {
                "line": 131,
                "column": 0,
                "index": 5654
              },
              "end": {
                "line": 131,
                "column": 26,
                "index": 5680
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {HistoryNode} ",
            "start": 5492,
            "end": 5518,
            "loc": {
              "start": {
                "line": 129,
                "column": 0,
                "index": 5492
              },
              "end": {
                "line": 129,
                "column": 26,
                "index": 5518
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 5681,
        "end": 5726,
        "loc": {
          "start": {
            "line": 132,
            "column": 0,
            "index": 5681
          },
          "end": {
            "line": 132,
            "column": 45,
            "index": 5726
          }
        },
        "range": [
          5681,
          5726
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 5685,
            "end": 5725,
            "loc": {
              "start": {
                "line": 132,
                "column": 4,
                "index": 5685
              },
              "end": {
                "line": 132,
                "column": 44,
                "index": 5725
              }
            },
            "range": [
              5685,
              5725
            ],
            "id": {
              "type": "Identifier",
              "start": 5685,
              "end": 5705,
              "loc": {
                "start": {
                  "line": 132,
                  "column": 4,
                  "index": 5685
                },
                "end": {
                  "line": 132,
                  "column": 24,
                  "index": 5705
                },
                "identifierName": "current_history_node"
              },
              "range": [
                5685,
                5705
              ],
              "name": "current_history_node"
            },
            "init": {
              "type": "Identifier",
              "start": 5708,
              "end": 5725,
              "loc": {
                "start": {
                  "line": 132,
                  "column": 27,
                  "index": 5708
                },
                "end": {
                  "line": 132,
                  "column": 44,
                  "index": 5725
                },
                "identifierName": "root_history_node"
              },
              "range": [
                5708,
                5725
              ],
              "name": "root_history_node"
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {HistoryNode | null} ",
            "start": 5727,
            "end": 5760,
            "loc": {
              "start": {
                "line": 133,
                "column": 0,
                "index": 5727
              },
              "end": {
                "line": 133,
                "column": 33,
                "index": 5760
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentLine",
            "value": " will be replaced",
            "start": 5634,
            "end": 5653,
            "loc": {
              "start": {
                "line": 130,
                "column": 115,
                "index": 5634
              },
              "end": {
                "line": 130,
                "column": 134,
                "index": 5653
              }
            }
          },
          {
            "type": "CommentBlock",
            "value": "* @type {HistoryNode} ",
            "start": 5654,
            "end": 5680,
            "loc": {
              "start": {
                "line": 131,
                "column": 0,
                "index": 5654
              },
              "end": {
                "line": 131,
                "column": 26,
                "index": 5680
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 5761,
        "end": 5798,
        "loc": {
          "start": {
            "line": 134,
            "column": 0,
            "index": 5761
          },
          "end": {
            "line": 134,
            "column": 37,
            "index": 5798
          }
        },
        "range": [
          5761,
          5798
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 5765,
            "end": 5797,
            "loc": {
              "start": {
                "line": 134,
                "column": 4,
                "index": 5765
              },
              "end": {
                "line": 134,
                "column": 36,
                "index": 5797
              }
            },
            "range": [
              5765,
              5797
            ],
            "id": {
              "type": "Identifier",
              "start": 5765,
              "end": 5790,
              "loc": {
                "start": {
                  "line": 134,
                  "column": 4,
                  "index": 5765
                },
                "end": {
                  "line": 134,
                  "column": 29,
                  "index": 5790
                },
                "identifierName": "history_node_to_cancel_to"
              },
              "range": [
                5765,
                5790
              ],
              "name": "history_node_to_cancel_to"
            },
            "init": {
              "type": "NullLiteral",
              "start": 5793,
              "end": 5797,
              "loc": {
                "start": {
                  "line": 134,
                  "column": 32,
                  "index": 5793
                },
                "end": {
                  "line": 134,
                  "column": 36,
                  "index": 5797
                }
              },
              "range": [
                5793,
                5797
              ]
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {HistoryNode[]} ",
            "start": 5799,
            "end": 5827,
            "loc": {
              "start": {
                "line": 135,
                "column": 0,
                "index": 5799
              },
              "end": {
                "line": 135,
                "column": 28,
                "index": 5827
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {HistoryNode | null} ",
            "start": 5727,
            "end": 5760,
            "loc": {
              "start": {
                "line": 133,
                "column": 0,
                "index": 5727
              },
              "end": {
                "line": 133,
                "column": 33,
                "index": 5760
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 5828,
        "end": 5843,
        "loc": {
          "start": {
            "line": 136,
            "column": 0,
            "index": 5828
          },
          "end": {
            "line": 136,
            "column": 15,
            "index": 5843
          }
        },
        "range": [
          5828,
          5843
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 5832,
            "end": 5842,
            "loc": {
              "start": {
                "line": 136,
                "column": 4,
                "index": 5832
              },
              "end": {
                "line": 136,
                "column": 14,
                "index": 5842
              }
            },
            "range": [
              5832,
              5842
            ],
            "id": {
              "type": "Identifier",
              "start": 5832,
              "end": 5837,
              "loc": {
                "start": {
                  "line": 136,
                  "column": 4,
                  "index": 5832
                },
                "end": {
                  "line": 136,
                  "column": 9,
                  "index": 5837
                },
                "identifierName": "undos"
              },
              "range": [
                5832,
                5837
              ],
              "name": "undos"
            },
            "init": {
              "type": "ArrayExpression",
              "start": 5840,
              "end": 5842,
              "loc": {
                "start": {
                  "line": 136,
                  "column": 12,
                  "index": 5840
                },
                "end": {
                  "line": 136,
                  "column": 14,
                  "index": 5842
                }
              },
              "range": [
                5840,
                5842
              ],
              "elements": []
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {HistoryNode[]} ",
            "start": 5844,
            "end": 5872,
            "loc": {
              "start": {
                "line": 137,
                "column": 0,
                "index": 5844
              },
              "end": {
                "line": 137,
                "column": 28,
                "index": 5872
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {HistoryNode[]} ",
            "start": 5799,
            "end": 5827,
            "loc": {
              "start": {
                "line": 135,
                "column": 0,
                "index": 5799
              },
              "end": {
                "line": 135,
                "column": 28,
                "index": 5827
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 5873,
        "end": 5888,
        "loc": {
          "start": {
            "line": 138,
            "column": 0,
            "index": 5873
          },
          "end": {
            "line": 138,
            "column": 15,
            "index": 5888
          }
        },
        "range": [
          5873,
          5888
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 5877,
            "end": 5887,
            "loc": {
              "start": {
                "line": 138,
                "column": 4,
                "index": 5877
              },
              "end": {
                "line": 138,
                "column": 14,
                "index": 5887
              }
            },
            "range": [
              5877,
              5887
            ],
            "id": {
              "type": "Identifier",
              "start": 5877,
              "end": 5882,
              "loc": {
                "start": {
                  "line": 138,
                  "column": 4,
                  "index": 5877
                },
                "end": {
                  "line": 138,
                  "column": 9,
                  "index": 5882
                },
                "identifierName": "redos"
              },
              "range": [
                5877,
                5882
              ],
              "name": "redos"
            },
            "init": {
              "type": "ArrayExpression",
              "start": 5885,
              "end": 5887,
              "loc": {
                "start": {
                  "line": 138,
                  "column": 12,
                  "index": 5885
                },
                "end": {
                  "line": 138,
                  "column": 14,
                  "index": 5887
                }
              },
              "range": [
                5885,
                5887
              ],
              "elements": []
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {string | undefined} ",
            "start": 5890,
            "end": 5923,
            "loc": {
              "start": {
                "line": 140,
                "column": 0,
                "index": 5890
              },
              "end": {
                "line": 140,
                "column": 33,
                "index": 5923
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {HistoryNode[]} ",
            "start": 5844,
            "end": 5872,
            "loc": {
              "start": {
                "line": 137,
                "column": 0,
                "index": 5844
              },
              "end": {
                "line": 137,
                "column": 28,
                "index": 5872
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 5924,
        "end": 5938,
        "loc": {
          "start": {
            "line": 141,
            "column": 0,
            "index": 5924
          },
          "end": {
            "line": 141,
            "column": 14,
            "index": 5938
          }
        },
        "range": [
          5924,
          5938
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 5928,
            "end": 5937,
            "loc": {
              "start": {
                "line": 141,
                "column": 4,
                "index": 5928
              },
              "end": {
                "line": 141,
                "column": 13,
                "index": 5937
              }
            },
            "range": [
              5928,
              5937
            ],
            "id": {
              "type": "Identifier",
              "start": 5928,
              "end": 5937,
              "loc": {
                "start": {
                  "line": 141,
                  "column": 4,
                  "index": 5928
                },
                "end": {
                  "line": 141,
                  "column": 13,
                  "index": 5937
                },
                "identifierName": "file_name"
              },
              "range": [
                5928,
                5937
              ],
              "name": "file_name"
            },
            "init": null
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {string | undefined} ",
            "start": 5939,
            "end": 5972,
            "loc": {
              "start": {
                "line": 142,
                "column": 0,
                "index": 5939
              },
              "end": {
                "line": 142,
                "column": 33,
                "index": 5972
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {string | undefined} ",
            "start": 5890,
            "end": 5923,
            "loc": {
              "start": {
                "line": 140,
                "column": 0,
                "index": 5890
              },
              "end": {
                "line": 140,
                "column": 33,
                "index": 5923
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 5973,
        "end": 5989,
        "loc": {
          "start": {
            "line": 143,
            "column": 0,
            "index": 5973
          },
          "end": {
            "line": 143,
            "column": 16,
            "index": 5989
          }
        },
        "range": [
          5973,
          5989
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 5977,
            "end": 5988,
            "loc": {
              "start": {
                "line": 143,
                "column": 4,
                "index": 5977
              },
              "end": {
                "line": 143,
                "column": 15,
                "index": 5988
              }
            },
            "range": [
              5977,
              5988
            ],
            "id": {
              "type": "Identifier",
              "start": 5977,
              "end": 5988,
              "loc": {
                "start": {
                  "line": 143,
                  "column": 4,
                  "index": 5977
                },
                "end": {
                  "line": 143,
                  "column": 15,
                  "index": 5988
                },
                "identifierName": "file_format"
              },
              "range": [
                5977,
                5988
              ],
              "name": "file_format"
            },
            "init": null
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "*\n * For saving over opened file on Save. Can be different type for File System Access API vs Electron.\n * @type {UserFileHandle}\n ",
            "start": 5990,
            "end": 6125,
            "loc": {
              "start": {
                "line": 144,
                "column": 0,
                "index": 5990
              },
              "end": {
                "line": 147,
                "column": 3,
                "index": 6125
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {string | undefined} ",
            "start": 5939,
            "end": 5972,
            "loc": {
              "start": {
                "line": 142,
                "column": 0,
                "index": 5939
              },
              "end": {
                "line": 142,
                "column": 33,
                "index": 5972
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 6126,
        "end": 6149,
        "loc": {
          "start": {
            "line": 148,
            "column": 0,
            "index": 6126
          },
          "end": {
            "line": 148,
            "column": 23,
            "index": 6149
          }
        },
        "range": [
          6126,
          6149
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 6130,
            "end": 6148,
            "loc": {
              "start": {
                "line": 148,
                "column": 4,
                "index": 6130
              },
              "end": {
                "line": 148,
                "column": 22,
                "index": 6148
              }
            },
            "range": [
              6130,
              6148
            ],
            "id": {
              "type": "Identifier",
              "start": 6130,
              "end": 6148,
              "loc": {
                "start": {
                  "line": 148,
                  "column": 4,
                  "index": 6130
                },
                "end": {
                  "line": 148,
                  "column": 22,
                  "index": 6148
                },
                "identifierName": "system_file_handle"
              },
              "range": [
                6130,
                6148
              ],
              "name": "system_file_handle"
            },
            "init": null
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {boolean} ",
            "start": 6150,
            "end": 6172,
            "loc": {
              "start": {
                "line": 149,
                "column": 0,
                "index": 6150
              },
              "end": {
                "line": 149,
                "column": 22,
                "index": 6172
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "*\n * For saving over opened file on Save. Can be different type for File System Access API vs Electron.\n * @type {UserFileHandle}\n ",
            "start": 5990,
            "end": 6125,
            "loc": {
              "start": {
                "line": 144,
                "column": 0,
                "index": 5990
              },
              "end": {
                "line": 147,
                "column": 3,
                "index": 6125
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 6173,
        "end": 6190,
        "loc": {
          "start": {
            "line": 150,
            "column": 0,
            "index": 6173
          },
          "end": {
            "line": 150,
            "column": 17,
            "index": 6190
          }
        },
        "range": [
          6173,
          6190
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 6177,
            "end": 6189,
            "loc": {
              "start": {
                "line": 150,
                "column": 4,
                "index": 6177
              },
              "end": {
                "line": 150,
                "column": 16,
                "index": 6189
              }
            },
            "range": [
              6177,
              6189
            ],
            "id": {
              "type": "Identifier",
              "start": 6177,
              "end": 6182,
              "loc": {
                "start": {
                  "line": 150,
                  "column": 4,
                  "index": 6177
                },
                "end": {
                  "line": 150,
                  "column": 9,
                  "index": 6182
                },
                "identifierName": "saved"
              },
              "range": [
                6177,
                6182
              ],
              "name": "saved"
            },
            "init": {
              "type": "BooleanLiteral",
              "start": 6185,
              "end": 6189,
              "loc": {
                "start": {
                  "line": 150,
                  "column": 12,
                  "index": 6185
                },
                "end": {
                  "line": 150,
                  "column": 16,
                  "index": 6189
                }
              },
              "range": [
                6185,
                6189
              ],
              "value": true
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* works in canvas coordinates @type {{x: number, y: number} | undefined} ",
            "start": 6192,
            "end": 6269,
            "loc": {
              "start": {
                "line": 152,
                "column": 0,
                "index": 6192
              },
              "end": {
                "line": 152,
                "column": 77,
                "index": 6269
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {boolean} ",
            "start": 6150,
            "end": 6172,
            "loc": {
              "start": {
                "line": 149,
                "column": 0,
                "index": 6150
              },
              "end": {
                "line": 149,
                "column": 22,
                "index": 6172
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 6270,
        "end": 6282,
        "loc": {
          "start": {
            "line": 153,
            "column": 0,
            "index": 6270
          },
          "end": {
            "line": 153,
            "column": 12,
            "index": 6282
          }
        },
        "range": [
          6270,
          6282
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 6274,
            "end": 6281,
            "loc": {
              "start": {
                "line": 153,
                "column": 4,
                "index": 6274
              },
              "end": {
                "line": 153,
                "column": 11,
                "index": 6281
              }
            },
            "range": [
              6274,
              6281
            ],
            "id": {
              "type": "Identifier",
              "start": 6274,
              "end": 6281,
              "loc": {
                "start": {
                  "line": 153,
                  "column": 4,
                  "index": 6274
                },
                "end": {
                  "line": 153,
                  "column": 11,
                  "index": 6281
                },
                "identifierName": "pointer"
              },
              "range": [
                6274,
                6281
              ],
              "name": "pointer"
            },
            "init": null
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* works in canvas coordinates @type {{x: number, y: number} | undefined} ",
            "start": 6283,
            "end": 6360,
            "loc": {
              "start": {
                "line": 154,
                "column": 0,
                "index": 6283
              },
              "end": {
                "line": 154,
                "column": 77,
                "index": 6360
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* works in canvas coordinates @type {{x: number, y: number} | undefined} ",
            "start": 6192,
            "end": 6269,
            "loc": {
              "start": {
                "line": 152,
                "column": 0,
                "index": 6192
              },
              "end": {
                "line": 152,
                "column": 77,
                "index": 6269
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 6361,
        "end": 6379,
        "loc": {
          "start": {
            "line": 155,
            "column": 0,
            "index": 6361
          },
          "end": {
            "line": 155,
            "column": 18,
            "index": 6379
          }
        },
        "range": [
          6361,
          6379
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 6365,
            "end": 6378,
            "loc": {
              "start": {
                "line": 155,
                "column": 4,
                "index": 6365
              },
              "end": {
                "line": 155,
                "column": 17,
                "index": 6378
              }
            },
            "range": [
              6365,
              6378
            ],
            "id": {
              "type": "Identifier",
              "start": 6365,
              "end": 6378,
              "loc": {
                "start": {
                  "line": 155,
                  "column": 4,
                  "index": 6365
                },
                "end": {
                  "line": 155,
                  "column": 17,
                  "index": 6378
                },
                "identifierName": "pointer_start"
              },
              "range": [
                6365,
                6378
              ],
              "name": "pointer_start"
            },
            "init": null
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* works in canvas coordinates @type {{x: number, y: number} | undefined} ",
            "start": 6380,
            "end": 6457,
            "loc": {
              "start": {
                "line": 156,
                "column": 0,
                "index": 6380
              },
              "end": {
                "line": 156,
                "column": 77,
                "index": 6457
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* works in canvas coordinates @type {{x: number, y: number} | undefined} ",
            "start": 6283,
            "end": 6360,
            "loc": {
              "start": {
                "line": 154,
                "column": 0,
                "index": 6283
              },
              "end": {
                "line": 154,
                "column": 77,
                "index": 6360
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 6458,
        "end": 6479,
        "loc": {
          "start": {
            "line": 157,
            "column": 0,
            "index": 6458
          },
          "end": {
            "line": 157,
            "column": 21,
            "index": 6479
          }
        },
        "range": [
          6458,
          6479
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 6462,
            "end": 6478,
            "loc": {
              "start": {
                "line": 157,
                "column": 4,
                "index": 6462
              },
              "end": {
                "line": 157,
                "column": 20,
                "index": 6478
              }
            },
            "range": [
              6462,
              6478
            ],
            "id": {
              "type": "Identifier",
              "start": 6462,
              "end": 6478,
              "loc": {
                "start": {
                  "line": 157,
                  "column": 4,
                  "index": 6462
                },
                "end": {
                  "line": 157,
                  "column": 20,
                  "index": 6478
                },
                "identifierName": "pointer_previous"
              },
              "range": [
                6462,
                6478
              ],
              "name": "pointer_previous"
            },
            "init": null
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {boolean} ",
            "start": 6481,
            "end": 6503,
            "loc": {
              "start": {
                "line": 159,
                "column": 0,
                "index": 6481
              },
              "end": {
                "line": 159,
                "column": 22,
                "index": 6503
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* works in canvas coordinates @type {{x: number, y: number} | undefined} ",
            "start": 6380,
            "end": 6457,
            "loc": {
              "start": {
                "line": 156,
                "column": 0,
                "index": 6380
              },
              "end": {
                "line": 156,
                "column": 77,
                "index": 6457
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 6504,
        "end": 6531,
        "loc": {
          "start": {
            "line": 160,
            "column": 0,
            "index": 6504
          },
          "end": {
            "line": 160,
            "column": 27,
            "index": 6531
          }
        },
        "range": [
          6504,
          6531
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 6508,
            "end": 6530,
            "loc": {
              "start": {
                "line": 160,
                "column": 4,
                "index": 6508
              },
              "end": {
                "line": 160,
                "column": 26,
                "index": 6530
              }
            },
            "range": [
              6508,
              6530
            ],
            "id": {
              "type": "Identifier",
              "start": 6508,
              "end": 6522,
              "loc": {
                "start": {
                  "line": 160,
                  "column": 4,
                  "index": 6508
                },
                "end": {
                  "line": 160,
                  "column": 18,
                  "index": 6522
                },
                "identifierName": "pointer_active"
              },
              "range": [
                6508,
                6522
              ],
              "name": "pointer_active"
            },
            "init": {
              "type": "BooleanLiteral",
              "start": 6525,
              "end": 6530,
              "loc": {
                "start": {
                  "line": 160,
                  "column": 21,
                  "index": 6525
                },
                "end": {
                  "line": 160,
                  "column": 26,
                  "index": 6530
                }
              },
              "range": [
                6525,
                6530
              ],
              "value": false
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {string | undefined} ",
            "start": 6532,
            "end": 6565,
            "loc": {
              "start": {
                "line": 161,
                "column": 0,
                "index": 6532
              },
              "end": {
                "line": 161,
                "column": 33,
                "index": 6565
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {boolean} ",
            "start": 6481,
            "end": 6503,
            "loc": {
              "start": {
                "line": 159,
                "column": 0,
                "index": 6481
              },
              "end": {
                "line": 159,
                "column": 22,
                "index": 6503
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 6566,
        "end": 6583,
        "loc": {
          "start": {
            "line": 162,
            "column": 0,
            "index": 6566
          },
          "end": {
            "line": 162,
            "column": 17,
            "index": 6583
          }
        },
        "range": [
          6566,
          6583
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 6570,
            "end": 6582,
            "loc": {
              "start": {
                "line": 162,
                "column": 4,
                "index": 6570
              },
              "end": {
                "line": 162,
                "column": 16,
                "index": 6582
              }
            },
            "range": [
              6570,
              6582
            ],
            "id": {
              "type": "Identifier",
              "start": 6570,
              "end": 6582,
              "loc": {
                "start": {
                  "line": 162,
                  "column": 4,
                  "index": 6570
                },
                "end": {
                  "line": 162,
                  "column": 16,
                  "index": 6582
                },
                "identifierName": "pointer_type"
              },
              "range": [
                6570,
                6582
              ],
              "name": "pointer_type"
            },
            "init": null
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {number} ",
            "start": 6584,
            "end": 6605,
            "loc": {
              "start": {
                "line": 163,
                "column": 0,
                "index": 6584
              },
              "end": {
                "line": 163,
                "column": 21,
                "index": 6605
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {string | undefined} ",
            "start": 6532,
            "end": 6565,
            "loc": {
              "start": {
                "line": 161,
                "column": 0,
                "index": 6532
              },
              "end": {
                "line": 161,
                "column": 33,
                "index": 6565
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 6606,
        "end": 6626,
        "loc": {
          "start": {
            "line": 164,
            "column": 0,
            "index": 6606
          },
          "end": {
            "line": 164,
            "column": 20,
            "index": 6626
          }
        },
        "range": [
          6606,
          6626
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 6610,
            "end": 6625,
            "loc": {
              "start": {
                "line": 164,
                "column": 4,
                "index": 6610
              },
              "end": {
                "line": 164,
                "column": 19,
                "index": 6625
              }
            },
            "range": [
              6610,
              6625
            ],
            "id": {
              "type": "Identifier",
              "start": 6610,
              "end": 6625,
              "loc": {
                "start": {
                  "line": 164,
                  "column": 4,
                  "index": 6610
                },
                "end": {
                  "line": 164,
                  "column": 19,
                  "index": 6625
                },
                "identifierName": "pointer_buttons"
              },
              "range": [
                6610,
                6625
              ],
              "name": "pointer_buttons"
            },
            "init": null
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {boolean} ",
            "start": 6627,
            "end": 6649,
            "loc": {
              "start": {
                "line": 165,
                "column": 0,
                "index": 6627
              },
              "end": {
                "line": 165,
                "column": 22,
                "index": 6649
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {number} ",
            "start": 6584,
            "end": 6605,
            "loc": {
              "start": {
                "line": 163,
                "column": 0,
                "index": 6584
              },
              "end": {
                "line": 163,
                "column": 21,
                "index": 6605
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 6650,
        "end": 6662,
        "loc": {
          "start": {
            "line": 166,
            "column": 0,
            "index": 6650
          },
          "end": {
            "line": 166,
            "column": 12,
            "index": 6662
          }
        },
        "range": [
          6650,
          6662
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 6654,
            "end": 6661,
            "loc": {
              "start": {
                "line": 166,
                "column": 4,
                "index": 6654
              },
              "end": {
                "line": 166,
                "column": 11,
                "index": 6661
              }
            },
            "range": [
              6654,
              6661
            ],
            "id": {
              "type": "Identifier",
              "start": 6654,
              "end": 6661,
              "loc": {
                "start": {
                  "line": 166,
                  "column": 4,
                  "index": 6654
                },
                "end": {
                  "line": 166,
                  "column": 11,
                  "index": 6661
                },
                "identifierName": "reverse"
              },
              "range": [
                6654,
                6661
              ],
              "name": "reverse"
            },
            "init": null
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {boolean} ",
            "start": 6663,
            "end": 6685,
            "loc": {
              "start": {
                "line": 167,
                "column": 0,
                "index": 6663
              },
              "end": {
                "line": 167,
                "column": 22,
                "index": 6685
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {boolean} ",
            "start": 6627,
            "end": 6649,
            "loc": {
              "start": {
                "line": 165,
                "column": 0,
                "index": 6627
              },
              "end": {
                "line": 165,
                "column": 22,
                "index": 6649
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 6686,
        "end": 6695,
        "loc": {
          "start": {
            "line": 168,
            "column": 0,
            "index": 6686
          },
          "end": {
            "line": 168,
            "column": 9,
            "index": 6695
          }
        },
        "range": [
          6686,
          6695
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 6690,
            "end": 6694,
            "loc": {
              "start": {
                "line": 168,
                "column": 4,
                "index": 6690
              },
              "end": {
                "line": 168,
                "column": 8,
                "index": 6694
              }
            },
            "range": [
              6690,
              6694
            ],
            "id": {
              "type": "Identifier",
              "start": 6690,
              "end": 6694,
              "loc": {
                "start": {
                  "line": 168,
                  "column": 4,
                  "index": 6690
                },
                "end": {
                  "line": 168,
                  "column": 8,
                  "index": 6694
                },
                "identifierName": "ctrl"
              },
              "range": [
                6690,
                6694
              ],
              "name": "ctrl"
            },
            "init": null
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {boolean} ",
            "start": 6696,
            "end": 6718,
            "loc": {
              "start": {
                "line": 169,
                "column": 0,
                "index": 6696
              },
              "end": {
                "line": 169,
                "column": 22,
                "index": 6718
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {boolean} ",
            "start": 6663,
            "end": 6685,
            "loc": {
              "start": {
                "line": 167,
                "column": 0,
                "index": 6663
              },
              "end": {
                "line": 167,
                "column": 22,
                "index": 6685
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 6719,
        "end": 6729,
        "loc": {
          "start": {
            "line": 170,
            "column": 0,
            "index": 6719
          },
          "end": {
            "line": 170,
            "column": 10,
            "index": 6729
          }
        },
        "range": [
          6719,
          6729
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 6723,
            "end": 6728,
            "loc": {
              "start": {
                "line": 170,
                "column": 4,
                "index": 6723
              },
              "end": {
                "line": 170,
                "column": 9,
                "index": 6728
              }
            },
            "range": [
              6723,
              6728
            ],
            "id": {
              "type": "Identifier",
              "start": 6723,
              "end": 6728,
              "loc": {
                "start": {
                  "line": 170,
                  "column": 4,
                  "index": 6723
                },
                "end": {
                  "line": 170,
                  "column": 9,
                  "index": 6728
                },
                "identifierName": "shift"
              },
              "range": [
                6723,
                6728
              ],
              "name": "shift"
            },
            "init": null
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {number | undefined} ",
            "start": 6730,
            "end": 6763,
            "loc": {
              "start": {
                "line": 171,
                "column": 0,
                "index": 6730
              },
              "end": {
                "line": 171,
                "column": 33,
                "index": 6763
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {boolean} ",
            "start": 6696,
            "end": 6718,
            "loc": {
              "start": {
                "line": 169,
                "column": 0,
                "index": 6696
              },
              "end": {
                "line": 169,
                "column": 22,
                "index": 6718
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 6764,
        "end": 6775,
        "loc": {
          "start": {
            "line": 172,
            "column": 0,
            "index": 6764
          },
          "end": {
            "line": 172,
            "column": 11,
            "index": 6775
          }
        },
        "range": [
          6764,
          6775
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 6768,
            "end": 6774,
            "loc": {
              "start": {
                "line": 172,
                "column": 4,
                "index": 6768
              },
              "end": {
                "line": 172,
                "column": 10,
                "index": 6774
              }
            },
            "range": [
              6768,
              6774
            ],
            "id": {
              "type": "Identifier",
              "start": 6768,
              "end": 6774,
              "loc": {
                "start": {
                  "line": 172,
                  "column": 4,
                  "index": 6768
                },
                "end": {
                  "line": 172,
                  "column": 10,
                  "index": 6774
                },
                "identifierName": "button"
              },
              "range": [
                6768,
                6774
              ],
              "name": "button"
            },
            "init": null
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {boolean} ",
            "start": 6776,
            "end": 6798,
            "loc": {
              "start": {
                "line": 173,
                "column": 0,
                "index": 6776
              },
              "end": {
                "line": 173,
                "column": 22,
                "index": 6798
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {number | undefined} ",
            "start": 6730,
            "end": 6763,
            "loc": {
              "start": {
                "line": 171,
                "column": 0,
                "index": 6730
              },
              "end": {
                "line": 171,
                "column": 33,
                "index": 6763
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 6799,
        "end": 6831,
        "loc": {
          "start": {
            "line": 174,
            "column": 0,
            "index": 6799
          },
          "end": {
            "line": 174,
            "column": 32,
            "index": 6831
          }
        },
        "range": [
          6799,
          6831
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 6803,
            "end": 6830,
            "loc": {
              "start": {
                "line": 174,
                "column": 4,
                "index": 6803
              },
              "end": {
                "line": 174,
                "column": 31,
                "index": 6830
              }
            },
            "range": [
              6803,
              6830
            ],
            "id": {
              "type": "Identifier",
              "start": 6803,
              "end": 6822,
              "loc": {
                "start": {
                  "line": 174,
                  "column": 4,
                  "index": 6803
                },
                "end": {
                  "line": 174,
                  "column": 23,
                  "index": 6822
                },
                "identifierName": "pointer_over_canvas"
              },
              "range": [
                6803,
                6822
              ],
              "name": "pointer_over_canvas"
            },
            "init": {
              "type": "BooleanLiteral",
              "start": 6825,
              "end": 6830,
              "loc": {
                "start": {
                  "line": 174,
                  "column": 26,
                  "index": 6825
                },
                "end": {
                  "line": 174,
                  "column": 31,
                  "index": 6830
                }
              },
              "range": [
                6825,
                6830
              ],
              "value": false
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {boolean} ",
            "start": 6832,
            "end": 6854,
            "loc": {
              "start": {
                "line": 175,
                "column": 0,
                "index": 6832
              },
              "end": {
                "line": 175,
                "column": 22,
                "index": 6854
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {boolean} ",
            "start": 6776,
            "end": 6798,
            "loc": {
              "start": {
                "line": 173,
                "column": 0,
                "index": 6776
              },
              "end": {
                "line": 173,
                "column": 22,
                "index": 6798
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 6855,
        "end": 6909,
        "loc": {
          "start": {
            "line": 176,
            "column": 0,
            "index": 6855
          },
          "end": {
            "line": 176,
            "column": 54,
            "index": 6909
          }
        },
        "range": [
          6855,
          6909
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 6859,
            "end": 6908,
            "loc": {
              "start": {
                "line": 176,
                "column": 4,
                "index": 6859
              },
              "end": {
                "line": 176,
                "column": 53,
                "index": 6908
              }
            },
            "range": [
              6859,
              6908
            ],
            "id": {
              "type": "Identifier",
              "start": 6859,
              "end": 6900,
              "loc": {
                "start": {
                  "line": 176,
                  "column": 4,
                  "index": 6859
                },
                "end": {
                  "line": 176,
                  "column": 45,
                  "index": 6900
                },
                "identifierName": "update_helper_layer_on_pointermove_active"
              },
              "range": [
                6859,
                6900
              ],
              "name": "update_helper_layer_on_pointermove_active"
            },
            "init": {
              "type": "BooleanLiteral",
              "start": 6903,
              "end": 6908,
              "loc": {
                "start": {
                  "line": 176,
                  "column": 48,
                  "index": 6903
                },
                "end": {
                  "line": 176,
                  "column": 53,
                  "index": 6908
                }
              },
              "range": [
                6903,
                6908
              ],
              "value": false
            }
          }
        ],
        "kind": "let",
        "trailingComments": [
          {
            "type": "CommentBlock",
            "value": "*\n * works in client coordinates, NOT canvas coordinates\n * @type {{ x: number, y: number, pointerId: number, pointerType: string, isPrimary: boolean }[]}\n ",
            "start": 6911,
            "end": 7071,
            "loc": {
              "start": {
                "line": 178,
                "column": 0,
                "index": 6911
              },
              "end": {
                "line": 181,
                "column": 3,
                "index": 7071
              }
            }
          }
        ],
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "* @type {boolean} ",
            "start": 6832,
            "end": 6854,
            "loc": {
              "start": {
                "line": 175,
                "column": 0,
                "index": 6832
              },
              "end": {
                "line": 175,
                "column": 22,
                "index": 6854
              }
            }
          }
        ]
      },
      {
        "type": "VariableDeclaration",
        "start": 7072,
        "end": 7090,
        "loc": {
          "start": {
            "line": 182,
            "column": 0,
            "index": 7072
          },
          "end": {
            "line": 182,
            "column": 18,
            "index": 7090
          }
        },
        "range": [
          7072,
          7090
        ],
        "declarations": [
          {
            "type": "VariableDeclarator",
            "start": 7076,
            "end": 7089,
            "loc": {
              "start": {
                "line": 182,
                "column": 4,
                "index": 7076
              },
              "end": {
                "line": 182,
                "column": 17,
                "index": 7089
              }
            },
            "range": [
              7076,
              7089
            ],
            "id": {
              "type": "Identifier",
              "start": 7076,
              "end": 7084,
              "loc": {
                "start": {
                  "line": 182,
                  "column": 4,
                  "index": 7076
                },
                "end": {
                  "line": 182,
                  "column": 12,
                  "index": 7084
                },
                "identifierName": "pointers"
              },
              "range": [
                7076,
                7084
              ],
              "name": "pointers"
            },
            "init": {
              "type": "ArrayExpression",
              "start": 7087,
              "end": 7089,
              "loc": {
                "start": {
                  "line": 182,
                  "column": 15,
                  "index": 7087
                },
                "end": {
                  "line": 182,
                  "column": 17,
                  "index": 7089
                }
              },
              "range": [
                7087,
                7089
              ],
              "elements": []
            }
          }
        ],
        "kind": "let",
        "leadingComments": [
          {
            "type": "CommentBlock",
            "value": "*\n * works in client coordinates, NOT canvas coordinates\n * @type {{ x: number, y: number, pointerId: number, pointerType: string, isPrimary: boolean }[]}\n ",
            "start": 6911,
            "end": 7071,
            "loc": {
              "start": {
                "line": 178,
                "column": 0,
                "index": 6911
              },
              "end": {
                "line": 181,
                "column": 3,
                "index": 7071
              }
            }
          }
        ]
      }
    ],
    "directives": [],
    "extra": {
      "topLevelAwait": false
    }
  },
  "comments": [
    {
      "type": "CommentLine",
      "value": " @ts-check",
      "start": 0,
      "end": 12,
      "loc": {
        "start": {
          "line": 1,
          "column": 0,
          "index": 0
        },
        "end": {
          "line": 1,
          "column": 12,
          "index": 12
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": " exported $thumbnail_window, airbrush_size, aliasing, brush_shape, brush_size, button, ctrl, current_history_node, enable_fs_access_api, enable_palette_loading_from_indexed_images, eraser_size, file_format, file_name, fill_color, helper_layer, history_node_to_cancel_to, magnification, main_ctx, monochrome, monochrome_palette, my_canvas_height, my_canvas_width, palette, pencil_size, pick_color_slot, pointer, pointer_active, pointer_buttons, pointer_over_canvas, pointer_previous, pointer_start, pointer_type, pointers, polychrome_palette, redos, return_to_magnification, return_to_tools, reverse, root_history_node, saved, selected_colors, selected_tool, selected_tools, selection, shift, show_grid, show_thumbnail, stroke_color, stroke_size, system_file_handle, text_tool_font, textbox, thumbnail_canvas, tool_transparent_mode, transparency, undos, update_helper_layer_on_pointermove_active ",
      "start": 13,
      "end": 912,
      "loc": {
        "start": {
          "line": 2,
          "column": 0,
          "index": 13
        },
        "end": {
          "line": 2,
          "column": 899,
          "index": 912
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " Can't import things until this file is a module...",
      "start": 914,
      "end": 967,
      "loc": {
        "start": {
          "line": 4,
          "column": 0,
          "index": 914
        },
        "end": {
          "line": 4,
          "column": 53,
          "index": 967
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " (Well, could use dynamic imports, but that's async and thus probably as complicated as getting it to work with all ESM.)",
      "start": 968,
      "end": 1091,
      "loc": {
        "start": {
          "line": 5,
          "column": 0,
          "index": 968
        },
        "end": {
          "line": 5,
          "column": 123,
          "index": 1091
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " import { default_palette } from \"./color-data.js\";",
      "start": 1092,
      "end": 1145,
      "loc": {
        "start": {
          "line": 6,
          "column": 0,
          "index": 1092
        },
        "end": {
          "line": 6,
          "column": 53,
          "index": 1145
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " import { get_tool_by_id, make_monochrome_palette, make_history_node } from \"./functions.js\";",
      "start": 1146,
      "end": 1241,
      "loc": {
        "start": {
          "line": 7,
          "column": 0,
          "index": 1146
        },
        "end": {
          "line": 7,
          "column": 95,
          "index": 1241
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " import { make_canvas } from \"./helpers.js\";",
      "start": 1242,
      "end": 1288,
      "loc": {
        "start": {
          "line": 8,
          "column": 0,
          "index": 1242
        },
        "end": {
          "line": 8,
          "column": 46,
          "index": 1288
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " import { TOOL_PENCIL } from \"./tools.js\";",
      "start": 1289,
      "end": 1333,
      "loc": {
        "start": {
          "line": 9,
          "column": 0,
          "index": 1289
        },
        "end": {
          "line": 9,
          "column": 44,
          "index": 1333
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " Causes TypeScript errors",
      "start": 1335,
      "end": 1362,
      "loc": {
        "start": {
          "line": 11,
          "column": 0,
          "index": 1335
        },
        "end": {
          "line": 11,
          "column": 27,
          "index": 1362
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " const { get_tool_by_id, make_monochrome_palette, make_history_node, default_palette, make_canvas, TOOL_PENCIL } = window;",
      "start": 1363,
      "end": 1487,
      "loc": {
        "start": {
          "line": 12,
          "column": 0,
          "index": 1363
        },
        "end": {
          "line": 12,
          "column": 124,
          "index": 1487
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {Tool} ",
      "start": 1523,
      "end": 1542,
      "loc": {
        "start": {
          "line": 16,
          "column": 0,
          "index": 1523
        },
        "end": {
          "line": 16,
          "column": 19,
          "index": 1542
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {PixelCanvas} ",
      "start": 1917,
      "end": 1943,
      "loc": {
        "start": {
          "line": 31,
          "column": 0,
          "index": 1917
        },
        "end": {
          "line": 31,
          "column": 26,
          "index": 1943
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {PixelContext} ",
      "start": 2028,
      "end": 2055,
      "loc": {
        "start": {
          "line": 34,
          "column": 0,
          "index": 2028
        },
        "end": {
          "line": 34,
          "column": 27,
          "index": 2055
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {(string | CanvasPattern)[]} ",
      "start": 2091,
      "end": 2132,
      "loc": {
        "start": {
          "line": 37,
          "column": 0,
          "index": 2091
        },
        "end": {
          "line": 37,
          "column": 41,
          "index": 2132
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {(string | CanvasPattern)[]} ",
      "start": 2171,
      "end": 2212,
      "loc": {
        "start": {
          "line": 39,
          "column": 0,
          "index": 2171
        },
        "end": {
          "line": 39,
          "column": 41,
          "index": 2212
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {(string | CanvasPattern)[]} ",
      "start": 2247,
      "end": 2288,
      "loc": {
        "start": {
          "line": 41,
          "column": 0,
          "index": 2247
        },
        "end": {
          "line": 41,
          "column": 41,
          "index": 2288
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " This feature is not ready yet.",
      "start": 2349,
      "end": 2382,
      "loc": {
        "start": {
          "line": 44,
          "column": 0,
          "index": 2349
        },
        "end": {
          "line": 44,
          "column": 33,
          "index": 2382
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " It needs to let the user decide when to switch the palette or not, when saving/opening an image.",
      "start": 2383,
      "end": 2482,
      "loc": {
        "start": {
          "line": 45,
          "column": 0,
          "index": 2383
        },
        "end": {
          "line": 45,
          "column": 99,
          "index": 2482
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " (maybe there could be a palette undo button? feels weird. MS Paint would probably use a dialog.)",
      "start": 2483,
      "end": 2582,
      "loc": {
        "start": {
          "line": 46,
          "column": 0,
          "index": 2483
        },
        "end": {
          "line": 46,
          "column": 99,
          "index": 2582
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " And it needs to handle canvas farbling, where pixel values are slightly different from each other,",
      "start": 2583,
      "end": 2684,
      "loc": {
        "start": {
          "line": 47,
          "column": 0,
          "index": 2583
        },
        "end": {
          "line": 47,
          "column": 101,
          "index": 2684
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " and equivalize them, when saving to a file. And maybe at other times.",
      "start": 2685,
      "end": 2757,
      "loc": {
        "start": {
          "line": 48,
          "column": 0,
          "index": 2685
        },
        "end": {
          "line": 48,
          "column": 72,
          "index": 2757
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " There are a lot of places in this app where I have to handle canvas farbling. It's obnoxious.",
      "start": 2758,
      "end": 2854,
      "loc": {
        "start": {
          "line": 49,
          "column": 0,
          "index": 2758
        },
        "end": {
          "line": 49,
          "column": 96,
          "index": 2854
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " The File System Access API doesn't provide a way to get the file type selected by the user,",
      "start": 2912,
      "end": 3006,
      "loc": {
        "start": {
          "line": 52,
          "column": 0,
          "index": 2912
        },
        "end": {
          "line": 52,
          "column": 94,
          "index": 3006
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " or to automatically append a file extension to the file name.",
      "start": 3007,
      "end": 3071,
      "loc": {
        "start": {
          "line": 53,
          "column": 0,
          "index": 3007
        },
        "end": {
          "line": 53,
          "column": 64,
          "index": 3071
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " I'm not sure it's worth it to be able to save over an existing file.",
      "start": 3072,
      "end": 3143,
      "loc": {
        "start": {
          "line": 54,
          "column": 0,
          "index": 3072
        },
        "end": {
          "line": 54,
          "column": 71,
          "index": 3143
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " I also like the downloads bar UI to be honest.",
      "start": 3144,
      "end": 3193,
      "loc": {
        "start": {
          "line": 55,
          "column": 0,
          "index": 3144
        },
        "end": {
          "line": 55,
          "column": 49,
          "index": 3193
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " So this might need to be optional, but right now I'm disabling it as it's not ready.",
      "start": 3194,
      "end": 3281,
      "loc": {
        "start": {
          "line": 56,
          "column": 0,
          "index": 3194
        },
        "end": {
          "line": 56,
          "column": 87,
          "index": 3281
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " There are cases where 0-byte files are created, which is either a serious problem,",
      "start": 3282,
      "end": 3367,
      "loc": {
        "start": {
          "line": 57,
          "column": 0,
          "index": 3282
        },
        "end": {
          "line": 57,
          "column": 85,
          "index": 3367
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " it's just from canceling saving when the file name has a problem, and it needs to be cleaned up.",
      "start": 3368,
      "end": 3467,
      "loc": {
        "start": {
          "line": 58,
          "column": 0,
          "index": 3368
        },
        "end": {
          "line": 58,
          "column": 99,
          "index": 3467
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " Also, while I've implemented most of the UI, it'd be nice to release this with recent files support.",
      "start": 3468,
      "end": 3571,
      "loc": {
        "start": {
          "line": 59,
          "column": 0,
          "index": 3468
        },
        "end": {
          "line": 59,
          "column": 103,
          "index": 3571
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {BrushShape} ",
      "start": 3607,
      "end": 3632,
      "loc": {
        "start": {
          "line": 62,
          "column": 0,
          "index": 3607
        },
        "end": {
          "line": 62,
          "column": 25,
          "index": 3632
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " applies to lines, curves, shape outlines",
      "start": 3827,
      "end": 3870,
      "loc": {
        "start": {
          "line": 68,
          "column": 31,
          "index": 3827
        },
        "end": {
          "line": 68,
          "column": 74,
          "index": 3870
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {BrushShape} ",
      "start": 3872,
      "end": 3897,
      "loc": {
        "start": {
          "line": 70,
          "column": 0,
          "index": 3872
        },
        "end": {
          "line": 70,
          "column": 25,
          "index": 3897
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " applies to lines, curves, shape outlines",
      "start": 4134,
      "end": 4177,
      "loc": {
        "start": {
          "line": 76,
          "column": 39,
          "index": 4134
        },
        "end": {
          "line": 76,
          "column": 82,
          "index": 4177
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {boolean} ",
      "start": 4179,
      "end": 4201,
      "loc": {
        "start": {
          "line": 78,
          "column": 0,
          "index": 4179
        },
        "end": {
          "line": 78,
          "column": 22,
          "index": 4201
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {string | CanvasPattern} ",
      "start": 4238,
      "end": 4275,
      "loc": {
        "start": {
          "line": 81,
          "column": 0,
          "index": 4238
        },
        "end": {
          "line": 81,
          "column": 37,
          "index": 4275
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {string | CanvasPattern} ",
      "start": 4294,
      "end": 4331,
      "loc": {
        "start": {
          "line": 83,
          "column": 0,
          "index": 4294
        },
        "end": {
          "line": 83,
          "column": 37,
          "index": 4331
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {ColorSelectionSlot} ",
      "start": 4348,
      "end": 4381,
      "loc": {
        "start": {
          "line": 85,
          "column": 0,
          "index": 4348
        },
        "end": {
          "line": 85,
          "column": 33,
          "index": 4381
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {Tool} ",
      "start": 4419,
      "end": 4438,
      "loc": {
        "start": {
          "line": 88,
          "column": 0,
          "index": 4419
        },
        "end": {
          "line": 88,
          "column": 19,
          "index": 4438
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {Tool[]} ",
      "start": 4473,
      "end": 4494,
      "loc": {
        "start": {
          "line": 90,
          "column": 0,
          "index": 4473
        },
        "end": {
          "line": 90,
          "column": 21,
          "index": 4494
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {Tool[]} ",
      "start": 4533,
      "end": 4554,
      "loc": {
        "start": {
          "line": 92,
          "column": 0,
          "index": 4533
        },
        "end": {
          "line": 92,
          "column": 21,
          "index": 4554
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {{foreground: string | CanvasPattern, background: string | CanvasPattern, ternary: string | CanvasPattern}} ",
      "start": 4595,
      "end": 4715,
      "loc": {
        "start": {
          "line": 95,
          "column": 0,
          "index": 4595
        },
        "end": {
          "line": 95,
          "column": 120,
          "index": 4715
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {OnCanvasSelection} ",
      "start": 4792,
      "end": 4824,
      "loc": {
        "start": {
          "line": 102,
          "column": 0,
          "index": 4792
        },
        "end": {
          "line": 102,
          "column": 32,
          "index": 4824
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " singleton",
      "start": 4840,
      "end": 4852,
      "loc": {
        "start": {
          "line": 103,
          "column": 15,
          "index": 4840
        },
        "end": {
          "line": 103,
          "column": 27,
          "index": 4852
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {OnCanvasTextBox} ",
      "start": 4853,
      "end": 4883,
      "loc": {
        "start": {
          "line": 104,
          "column": 0,
          "index": 4853
        },
        "end": {
          "line": 104,
          "column": 30,
          "index": 4883
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " singleton",
      "start": 4897,
      "end": 4909,
      "loc": {
        "start": {
          "line": 105,
          "column": 13,
          "index": 4897
        },
        "end": {
          "line": 105,
          "column": 25,
          "index": 4909
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {OnCanvasHelperLayer} ",
      "start": 4910,
      "end": 4944,
      "loc": {
        "start": {
          "line": 106,
          "column": 0,
          "index": 4910
        },
        "end": {
          "line": 106,
          "column": 34,
          "index": 4944
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " instance used for the grid and tool previews (not a singleton)",
      "start": 4963,
      "end": 5028,
      "loc": {
        "start": {
          "line": 107,
          "column": 18,
          "index": 4963
        },
        "end": {
          "line": 107,
          "column": 83,
          "index": 5028
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {OSGUI$Window} ",
      "start": 5029,
      "end": 5056,
      "loc": {
        "start": {
          "line": 108,
          "column": 0,
          "index": 5029
        },
        "end": {
          "line": 108,
          "column": 27,
          "index": 5056
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {PixelCanvas} ",
      "start": 5080,
      "end": 5106,
      "loc": {
        "start": {
          "line": 110,
          "column": 0,
          "index": 5080
        },
        "end": {
          "line": 110,
          "column": 26,
          "index": 5106
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {boolean} ",
      "start": 5129,
      "end": 5151,
      "loc": {
        "start": {
          "line": 112,
          "column": 0,
          "index": 5129
        },
        "end": {
          "line": 112,
          "column": 22,
          "index": 5151
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {boolean} ",
      "start": 5175,
      "end": 5197,
      "loc": {
        "start": {
          "line": 114,
          "column": 0,
          "index": 5175
        },
        "end": {
          "line": 114,
          "column": 22,
          "index": 5197
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {TextToolFontOptions} ",
      "start": 5226,
      "end": 5260,
      "loc": {
        "start": {
          "line": 116,
          "column": 0,
          "index": 5226
        },
        "end": {
          "line": 116,
          "column": 34,
          "index": 5260
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " should be an exact value detected by Font Detective",
      "start": 5304,
      "end": 5358,
      "loc": {
        "start": {
          "line": 118,
          "column": 20,
          "index": 5304
        },
        "end": {
          "line": 118,
          "column": 74,
          "index": 5358
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {HistoryNode} ",
      "start": 5492,
      "end": 5518,
      "loc": {
        "start": {
          "line": 129,
          "column": 0,
          "index": 5492
        },
        "end": {
          "line": 129,
          "column": 26,
          "index": 5518
        }
      }
    },
    {
      "type": "CommentLine",
      "value": " will be replaced",
      "start": 5634,
      "end": 5653,
      "loc": {
        "start": {
          "line": 130,
          "column": 115,
          "index": 5634
        },
        "end": {
          "line": 130,
          "column": 134,
          "index": 5653
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {HistoryNode} ",
      "start": 5654,
      "end": 5680,
      "loc": {
        "start": {
          "line": 131,
          "column": 0,
          "index": 5654
        },
        "end": {
          "line": 131,
          "column": 26,
          "index": 5680
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {HistoryNode | null} ",
      "start": 5727,
      "end": 5760,
      "loc": {
        "start": {
          "line": 133,
          "column": 0,
          "index": 5727
        },
        "end": {
          "line": 133,
          "column": 33,
          "index": 5760
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {HistoryNode[]} ",
      "start": 5799,
      "end": 5827,
      "loc": {
        "start": {
          "line": 135,
          "column": 0,
          "index": 5799
        },
        "end": {
          "line": 135,
          "column": 28,
          "index": 5827
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {HistoryNode[]} ",
      "start": 5844,
      "end": 5872,
      "loc": {
        "start": {
          "line": 137,
          "column": 0,
          "index": 5844
        },
        "end": {
          "line": 137,
          "column": 28,
          "index": 5872
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {string | undefined} ",
      "start": 5890,
      "end": 5923,
      "loc": {
        "start": {
          "line": 140,
          "column": 0,
          "index": 5890
        },
        "end": {
          "line": 140,
          "column": 33,
          "index": 5923
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {string | undefined} ",
      "start": 5939,
      "end": 5972,
      "loc": {
        "start": {
          "line": 142,
          "column": 0,
          "index": 5939
        },
        "end": {
          "line": 142,
          "column": 33,
          "index": 5972
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "*\n * For saving over opened file on Save. Can be different type for File System Access API vs Electron.\n * @type {UserFileHandle}\n ",
      "start": 5990,
      "end": 6125,
      "loc": {
        "start": {
          "line": 144,
          "column": 0,
          "index": 5990
        },
        "end": {
          "line": 147,
          "column": 3,
          "index": 6125
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {boolean} ",
      "start": 6150,
      "end": 6172,
      "loc": {
        "start": {
          "line": 149,
          "column": 0,
          "index": 6150
        },
        "end": {
          "line": 149,
          "column": 22,
          "index": 6172
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* works in canvas coordinates @type {{x: number, y: number} | undefined} ",
      "start": 6192,
      "end": 6269,
      "loc": {
        "start": {
          "line": 152,
          "column": 0,
          "index": 6192
        },
        "end": {
          "line": 152,
          "column": 77,
          "index": 6269
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* works in canvas coordinates @type {{x: number, y: number} | undefined} ",
      "start": 6283,
      "end": 6360,
      "loc": {
        "start": {
          "line": 154,
          "column": 0,
          "index": 6283
        },
        "end": {
          "line": 154,
          "column": 77,
          "index": 6360
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* works in canvas coordinates @type {{x: number, y: number} | undefined} ",
      "start": 6380,
      "end": 6457,
      "loc": {
        "start": {
          "line": 156,
          "column": 0,
          "index": 6380
        },
        "end": {
          "line": 156,
          "column": 77,
          "index": 6457
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {boolean} ",
      "start": 6481,
      "end": 6503,
      "loc": {
        "start": {
          "line": 159,
          "column": 0,
          "index": 6481
        },
        "end": {
          "line": 159,
          "column": 22,
          "index": 6503
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {string | undefined} ",
      "start": 6532,
      "end": 6565,
      "loc": {
        "start": {
          "line": 161,
          "column": 0,
          "index": 6532
        },
        "end": {
          "line": 161,
          "column": 33,
          "index": 6565
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {number} ",
      "start": 6584,
      "end": 6605,
      "loc": {
        "start": {
          "line": 163,
          "column": 0,
          "index": 6584
        },
        "end": {
          "line": 163,
          "column": 21,
          "index": 6605
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {boolean} ",
      "start": 6627,
      "end": 6649,
      "loc": {
        "start": {
          "line": 165,
          "column": 0,
          "index": 6627
        },
        "end": {
          "line": 165,
          "column": 22,
          "index": 6649
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {boolean} ",
      "start": 6663,
      "end": 6685,
      "loc": {
        "start": {
          "line": 167,
          "column": 0,
          "index": 6663
        },
        "end": {
          "line": 167,
          "column": 22,
          "index": 6685
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {boolean} ",
      "start": 6696,
      "end": 6718,
      "loc": {
        "start": {
          "line": 169,
          "column": 0,
          "index": 6696
        },
        "end": {
          "line": 169,
          "column": 22,
          "index": 6718
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {number | undefined} ",
      "start": 6730,
      "end": 6763,
      "loc": {
        "start": {
          "line": 171,
          "column": 0,
          "index": 6730
        },
        "end": {
          "line": 171,
          "column": 33,
          "index": 6763
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {boolean} ",
      "start": 6776,
      "end": 6798,
      "loc": {
        "start": {
          "line": 173,
          "column": 0,
          "index": 6776
        },
        "end": {
          "line": 173,
          "column": 22,
          "index": 6798
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "* @type {boolean} ",
      "start": 6832,
      "end": 6854,
      "loc": {
        "start": {
          "line": 175,
          "column": 0,
          "index": 6832
        },
        "end": {
          "line": 175,
          "column": 22,
          "index": 6854
        }
      }
    },
    {
      "type": "CommentBlock",
      "value": "*\n * works in client coordinates, NOT canvas coordinates\n * @type {{ x: number, y: number, pointerId: number, pointerType: string, isPrimary: boolean }[]}\n ",
      "start": 6911,
      "end": 7071,
      "loc": {
        "start": {
          "line": 178,
          "column": 0,
          "index": 6911
        },
        "end": {
          "line": 181,
          "column": 3,
          "index": 7071
        }
      }
    }
  ]
}